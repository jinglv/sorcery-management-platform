{"remainingRequest":"/Users/lvjing/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js!/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvjing/sorcery-management-platform/front/src/components/Api/envsDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvjing/sorcery-management-platform/front/src/components/Api/envsDialog.vue","mtime":1679475726583},{"path":"/Users/lvjing/sorcery-management-platform/front/babel.config.js","mtime":1679466191236},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1679466716417},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js","mtime":1679466716072},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1679466716417},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js","mtime":1679466707590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2x2amluZy9zb3JjZXJ5LW1hbmFnZW1lbnQtcGxhdGZvcm0vZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbHZqaW5nL3NvcmNlcnktbWFuYWdlbWVudC1wbGF0Zm9ybS9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNyZWF0ZUVudnMgfSBmcm9tICdAL2FwaS9lbnZzJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICBwaWQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd1RpdGxlOiAnJywKICAgICAgZGlhbG9nVmlzaWJsZTogdHJ1ZSwKICAgICAgZW52Rm9ybTogewogICAgICAgIHByb2plY3RfaWQ6IDAsCiAgICAgICAgbmFtZTogJycsCiAgICAgICAgZW52OiAnJywKICAgICAgICBicm93c2VyOiAnJywKICAgICAgICBwcm90b2NvbDogJycsCiAgICAgICAgYmFzZV91cmw6ICcnCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgbmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+i+k+WFpeeOr+Wig+eahOWQjeensCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBlbnY6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXnjq/looPnmoTlgLws5aaCOmRlduOAgXRlc3TjgIFwcm9kJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGJhc2VfdXJsOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl546v5aKD55qE5Z+656GAVVJMJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGh0dHBWYWx1ZTogMSwKICAgICAgaHR0cExhYmVsOiAnaHR0cDovLycsCiAgICAgIGh0dHBPcHRpb246IFt7CiAgICAgICAgdmFsdWU6IDEsCiAgICAgICAgbGFiZWw6ICdodHRwOi8vJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6IDIsCiAgICAgICAgbGFiZWw6ICdodHRwczovLycKICAgICAgfV0sCiAgICAgIHNhdmVGbGFnOiBmYWxzZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBjbG9zZURpYWxvZzogZnVuY3Rpb24gY2xvc2VEaWFsb2coKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NhbmNlbCcsIHt9KTsKICAgIH0sCiAgICAvLyDliJvlu7rnjq/looPkv6Hmga8KICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3A7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX3RoaXMuZW52Rm9ybS5wcm9qZWN0X2lkID0gX3RoaXMucGlkOwogICAgICAgICAgICAgIF90aGlzLmVudkZvcm0ucHJvdG9jb2wgPSBfdGhpcy5odHRwTGFiZWw7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGNyZWF0ZUVudnMoX3RoaXMuZW52Rm9ybSk7CiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBpZiAocmVzcC5zdWNjZXNzID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5jbG9zZURpYWxvZygpOwogICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5L+d5a2Y5oiQ5YqfJyk7CiAgICAgICAgICAgICAgICBfdGhpcy5zYXZlRmxhZyA9IHRydWU7CiAgICAgICAgICAgICAgICAvLyDlu7bml7blmagKICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpcy4kZW1pdCgnY2xvc2UnKTsKICAgICAgICAgICAgICAgICAgX3RoaXMuJGVtaXQoJ3JlZnJlc2gnKTsKICAgICAgICAgICAgICAgIH0sIDUwMCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKCfkv53lrZjlpLHotKUnKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDojrflj5bpgInkuK3nmoTljY/orq7lgLwKICAgIGNoYW5nZVByb3RvY29sOiBmdW5jdGlvbiBjaGFuZ2VQcm90b2NvbCh2YWx1ZSkgewogICAgICB0aGlzLmh0dHBWYWx1ZSA9IHZhbHVlOwogICAgICB0aGlzLmh0dHBMYWJlbCA9IHRoaXMuaHR0cE9wdGlvbi5maW5kKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0udmFsdWUgPT09IHZhbHVlOwogICAgICB9KS5sYWJlbDsKICAgICAgY29uc29sZS5sb2coJ+mAieS4reWQjeensCcsIHRoaXMuaHR0cExhYmVsKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["createEnvs","props","pid","type","Number","default","data","showTitle","dialogVisible","envForm","project_id","name","env","browser","protocol","base_url","rules","required","message","trigger","httpValue","httpLabel","httpOption","value","label","saveFlag","mounted","methods","closeDialog","$emit","submitForm","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resp","wrap","_callee$","_context","prev","next","sent","success","$message","setTimeout","error","stop","changeProtocol","find","item","console","log"],"sources":["src/components/Api/envsDialog.vue"],"sourcesContent":["<template>\n  <el-dialog\n    :title=\"showTitle\"\n    :visible.sync=\"dialogVisible\"\n    width=\"1000px\"\n    :before-close=\"closeDialog\"\n  >\n    <el-form\n      ref=\"ruleForm\"\n      :model=\"envForm\"\n      :rules=\"rules\"\n      label-width=\"100px\"\n      class=\"demo-ruleForm\"\n    >\n      <el-form-item label=\"环境名称\" prop=\"name\">\n        <el-input v-model=\"envForm.name\" />\n      </el-form-item>\n      <el-form-item label=\"环境值\" prop=\"env\">\n        <el-input v-model=\"envForm.env\" />\n      </el-form-item>\n      <el-form-item label=\"浏览器\">\n        <el-input v-model=\"envForm.browser\" />\n      </el-form-item>\n      <el-form-item label=\"基础URL\" prop=\"base_url\" :inline=\"true\">\n        <el-select\n          v-model=\"httpValue\"\n          style=\"width: 15%; float: left\"\n          @change=\"changeProtocol\"\n        >\n          <el-option\n            v-for=\"item in httpOption\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          />\n        </el-select>\n        <el-input v-model=\"envForm.base_url\" style=\"width:85%\" />\n      </el-form-item>\n      <el-form-item style=\"text-align: right\">\n        <div class=\"dialog-footer\">\n          <el-button @click=\"closeDialog()\">取消</el-button>\n          <el-button\n            type=\"primary\"\n            :disabled=\"saveFlag\"\n            @click=\"submitForm('ruleForm')\"\n          >保存</el-button>\n        </div>\n      </el-form-item>\n    </el-form>\n  </el-dialog>\n</template>\n\n<script>\nimport { createEnvs } from '@/api/envs'\n\nexport default {\n  props: {\n    pid: {\n      type: Number,\n      default: 0\n    }\n  },\n  data() {\n    return {\n      showTitle: '',\n      dialogVisible: true,\n      envForm: {\n        project_id: 0,\n        name: '',\n        env: '',\n        browser: '',\n        protocol: '',\n        base_url: ''\n      },\n      rules: {\n        name: [\n          { required: true, message: '请输入环境的名称', trigger: 'blur' }\n        ],\n        env: [\n          { required: true, message: '请输入环境的值,如:dev、test、prod', trigger: 'blur' }\n        ],\n        base_url: [\n          { required: true, message: '请输入环境的基础URL', trigger: 'blur' }\n        ]\n      },\n      httpValue: 1,\n      httpLabel: 'http://',\n      httpOption: [\n        {\n          value: 1,\n          label: 'http://'\n        },\n        {\n          value: 2,\n          label: 'https://'\n        }\n      ],\n      saveFlag: false\n    }\n  },\n  mounted() {\n  },\n  methods: {\n    closeDialog() {\n      this.$emit('cancel', {})\n    },\n    // 创建环境信息\n    async submitForm() {\n      this.envForm.project_id = this.pid\n      this.envForm.protocol = this.httpLabel\n      const resp = await createEnvs(this.envForm)\n      if (resp.success === true) {\n        this.closeDialog()\n        this.$message.success('保存成功')\n        this.saveFlag = true\n        // 延时器\n        setTimeout(() => {\n          this.$emit('close')\n          this.$emit('refresh')\n        }, 500)\n      } else {\n        this.$message.error('保存失败')\n      }\n    },\n    // 获取选中的协议值\n    changeProtocol(value) {\n      this.httpValue = value\n      this.httpLabel = this.httpOption.find(\n        (item) => item.value === value\n      ).label\n      console.log('选中名称', this.httpLabel)\n    }\n  }\n}\n</script>\n<style scoped>\n#image {\n  text-align: left;\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA,SAAAA,UAAA;AAEA;EACAC,KAAA;IACAC,GAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;EACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,SAAA;MACAC,aAAA;MACAC,OAAA;QACAC,UAAA;QACAC,IAAA;QACAC,GAAA;QACAC,OAAA;QACAC,QAAA;QACAC,QAAA;MACA;MACAC,KAAA;QACAL,IAAA,GACA;UAAAM,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAP,GAAA,GACA;UAAAK,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAJ,QAAA,GACA;UAAAE,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MAEA;MACAC,SAAA;MACAC,SAAA;MACAC,UAAA,GACA;QACAC,KAAA;QACAC,KAAA;MACA,GACA;QACAD,KAAA;QACAC,KAAA;MACA,EACA;MACAC,QAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA,GACA;EACAC,OAAA;IACAC,WAAA,WAAAA,YAAA;MACA,KAAAC,KAAA;IACA;IACA;IACAC,UAAA,WAAAA,WAAA;MAAA,IAAAC,KAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,IAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACAV,KAAA,CAAAtB,OAAA,CAAAC,UAAA,GAAAqB,KAAA,CAAA7B,GAAA;cACA6B,KAAA,CAAAtB,OAAA,CAAAK,QAAA,GAAAiB,KAAA,CAAAV,SAAA;cAAAkB,QAAA,CAAAE,IAAA;cAAA,OACAzC,UAAA,CAAA+B,KAAA,CAAAtB,OAAA;YAAA;cAAA2B,IAAA,GAAAG,QAAA,CAAAG,IAAA;cACA,IAAAN,IAAA,CAAAO,OAAA;gBACAZ,KAAA,CAAAH,WAAA;gBACAG,KAAA,CAAAa,QAAA,CAAAD,OAAA;gBACAZ,KAAA,CAAAN,QAAA;gBACA;gBACAoB,UAAA;kBACAd,KAAA,CAAAF,KAAA;kBACAE,KAAA,CAAAF,KAAA;gBACA;cACA;gBACAE,KAAA,CAAAa,QAAA,CAAAE,KAAA;cACA;YAAA;YAAA;cAAA,OAAAP,QAAA,CAAAQ,IAAA;UAAA;QAAA,GAAAZ,OAAA;MAAA;IACA;IACA;IACAa,cAAA,WAAAA,eAAAzB,KAAA;MACA,KAAAH,SAAA,GAAAG,KAAA;MACA,KAAAF,SAAA,QAAAC,UAAA,CAAA2B,IAAA,CACA,UAAAC,IAAA;QAAA,OAAAA,IAAA,CAAA3B,KAAA,KAAAA,KAAA;MAAA,EACA,CAAAC,KAAA;MACA2B,OAAA,CAAAC,GAAA,cAAA/B,SAAA;IACA;EACA;AACA"}]}