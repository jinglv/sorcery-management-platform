{"remainingRequest":"/Users/jeanlv/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js!/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jeanlv/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jeanlv/sorcery-management-platform/front/src/components/Infos/apiInfoListDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jeanlv/sorcery-management-platform/front/src/components/Infos/apiInfoListDialog.vue","mtime":1698032217391},{"path":"/Users/jeanlv/sorcery-management-platform/front/babel.config.js","mtime":1698032213828},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1698032215054},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js","mtime":1698032214874},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1698032215054},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js","mtime":1698032217227}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2plYW5sdi9zb3JjZXJ5LW1hbmFnZW1lbnQtcGxhdGZvcm0vZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvamVhbmx2L3NvcmNlcnktbWFuYWdlbWVudC1wbGF0Zm9ybS9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgeyBhcGlJbmZvTGlzdCBhcyBfYXBpSW5mb0xpc3QgfSBmcm9tICdAL2FwaS9pbmZvcyc7CmltcG9ydCBhcGlSZXF1ZXN0RGlhbG9nIGZyb20gJy4vYXBpUmVxdWVzdERpYWxvZy52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwaUluZm9MaXN0JywKICBjb21wb25lbnRzOiB7CiAgICBhcGlSZXF1ZXN0RGlhbG9nOiBhcGlSZXF1ZXN0RGlhbG9nCiAgfSwKICBwcm9wczogewogICAgZm46IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd1RpdGxlOiAnJywKICAgICAgZGlhbG9nVmlzaWJsZTogdHJ1ZSwKICAgICAgYXBpVGl0bGU6ICcnLAogICAgICBjdXJyZW50QXBpSWQ6IDAsCiAgICAgIGFwaXNEYXRhOiBbXSwKICAgICAgcmVxOiB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBzaXplOiAxMAogICAgICB9LAogICAgICAvLyDliIbpobXpobXmlbAKICAgICAgdG90YWw6IDEwLAogICAgICBkcmF3ZXI6IGZhbHNlCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuYXBpSW5mb0xpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNsb3NlRGlhbG9nOiBmdW5jdGlvbiBjbG9zZURpYWxvZygpIHsKICAgICAgdGhpcy4kZW1pdCgnY2FuY2VsJywge30pOwogICAgfSwKICAgIGFwaUluZm9MaXN0OiBmdW5jdGlvbiBhcGlJbmZvTGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX2FwaUluZm9MaXN0KF90aGlzLnJlcSwgX3RoaXMuZm4pOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgaWYgKHJlc3Auc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgX3RoaXMuYXBpc0RhdGEgPSByZXNwLml0ZW1zOwogICAgICAgICAgICAgICAgX3RoaXMudG90YWwgPSByZXNwLnRvdGFsOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcihyZXNwLmVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOafpeeci+eUqOS+i+ivpuaDhQogICAgY2FzZVJvd0FwaUluZm86IGZ1bmN0aW9uIGNhc2VSb3dBcGlJbmZvKHJvdykgewogICAgICAvLyDngrnlh7vnlKjkvovvvIzojrflj5bnlKjkvotpZAogICAgICB0aGlzLmN1cnJlbnRBcGlJZCA9IHJvdy5pZDsKICAgICAgdGhpcy5kcmF3ZXIgPSB0cnVlOwogICAgICB0aGlzLmFwaVRpdGxlID0gJ+aOpeWPo+ivpuaDhSc7CiAgICB9LAogICAgLy8g57yW6L6R5rWL6K+V55So5L6LCiAgICBjYXNlUm93QXBpU2VuZDogZnVuY3Rpb24gY2FzZVJvd0FwaVNlbmQocm93KSB7CiAgICAgIC8vIOeCueWHu+eUqOS+i++8jOiOt+WPlueUqOS+i2lkCiAgICAgIHRoaXMuY3VycmVudEFwaUlkID0gcm93LmlkOwogICAgICB0aGlzLmRyYXdlciA9IHRydWU7CiAgICAgIHRoaXMuYXBpVGl0bGUgPSAn5Y+R6YCB5o6l5Y+jJzsKICAgIH0sCiAgICAvLyDkvKDpgJLlrZDnu4Tku7bvvIzlhbPpl63mir3lsYkKICAgIGNsb3NlRHJhd2VyOiBmdW5jdGlvbiBjbG9zZURyYXdlcigpIHsKICAgICAgdGhpcy5kcmF3ZXIgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDot7PovazliLDnrKzlh6DpobUKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKCJcdTVGNTNcdTUyNERcdTk4NzU6ICIuY29uY2F0KHZhbCkpOwogICAgICB0aGlzLnJlcS5wYWdlID0gdmFsOwogICAgICB0aGlzLmdldENhc2VMaXN0KHRoaXMuY3VycmVudE1vZHVsZSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["apiInfoList","apiRequestDialog","name","components","props","fn","type","String","default","data","showTitle","dialogVisible","apiTitle","currentApiId","apisData","req","page","size","total","drawer","mounted","methods","closeDialog","$emit","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resp","wrap","_callee$","_context","prev","next","sent","success","items","$message","error","message","stop","caseRowApiInfo","row","id","caseRowApiSend","closeDrawer","handleCurrentChange","val","console","log","concat","getCaseList","currentModule"],"sources":["src/components/Infos/apiInfoListDialog.vue"],"sourcesContent":["<template>\n  <el-dialog\n    :title=\"showTitle\"\n    :visible.sync=\"dialogVisible\"\n    width=\"1200px\"\n    :before-close=\"closeDialog\"\n  >\n    <el-table\n      :data=\"apisData\"\n      border\n      style=\"width: 100%\"\n    >\n      <el-table-column prop=\"id\" label=\"ID\" width=\"80\" />\n      <el-table-column prop=\"name\" label=\"文件名称\" width=\"180\" />\n      <el-table-column prop=\"url\" label=\"接口URL\" />\n      <el-table-column prop=\"method\" label=\"请求方式\" width=\"100\" />\n      <el-table-column prop=\"create_time\" label=\"创建时间\" width=\"200\" />\n      <el-table-column fixed=\"right\" label=\"操作\" width=\"150\">\n        <template slot-scope=\"scope\">\n          <el-button\n            type=\"text\"\n            @click=\"caseRowApiInfo(scope.row)\"\n          >查看</el-button>\n          <el-button\n            type=\"text\"\n            @click=\"caseRowApiSend(scope.row)\"\n          >发送</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!--分页-->\n    <div style=\"width: 100%; text-align: right\">\n      <el-pagination\n        background\n        :total=\"total\"\n        :page-size=\"req.size\"\n        layout=\"total, prev, pager, next\"\n        @current-change=\"handleCurrentChange\"\n      />\n    </div>\n    <el-drawer\n      :title=\"apiTitle\"\n      :visible.sync=\"drawer\"\n      :modal=\"false\"\n      direction=\"rtl\"\n      size=\"50%\"\n    >\n      <api-request-dialog v-if=\"drawer\" :title=\"apiTitle\" :aid=\"currentApiId\" @close=\"closeDrawer()\" />\n    </el-drawer>\n  </el-dialog>\n</template>\n\n<script>\nimport { apiInfoList } from '@/api/infos'\nimport apiRequestDialog from './apiRequestDialog.vue'\n\nexport default {\n  name: 'ApiInfoList',\n  components: { apiRequestDialog },\n  props: {\n    fn: {\n      type: String,\n      default: null\n    }\n  },\n  data() {\n    return {\n      showTitle: '',\n      dialogVisible: true,\n      apiTitle: '',\n      currentApiId: 0,\n      apisData: [],\n      req: {\n        page: 1,\n        size: 10\n      },\n      // 分页页数\n      total: 10,\n      drawer: false\n    }\n  },\n  mounted() {\n    this.apiInfoList()\n  },\n  methods: {\n    closeDialog() {\n      this.$emit('cancel', {})\n    },\n    async apiInfoList() {\n      const resp = await apiInfoList(this.req, this.fn)\n      if (resp.success === true) {\n        this.apisData = resp.items\n        this.total = resp.total\n      } else {\n        this.$message.error(resp.error.message)\n      }\n    },\n    // 查看用例详情\n    caseRowApiInfo(row) {\n      // 点击用例，获取用例id\n      this.currentApiId = row.id\n      this.drawer = true\n      this.apiTitle = '接口详情'\n    },\n    // 编辑测试用例\n    caseRowApiSend(row) {\n      // 点击用例，获取用例id\n      this.currentApiId = row.id\n      this.drawer = true\n      this.apiTitle = '发送接口'\n    },\n    // 传递子组件，关闭抽屉\n    closeDrawer() {\n      this.drawer = false\n    },\n    // 跳转到第几页\n    handleCurrentChange(val) {\n      console.log(`当前页: ${val}`)\n      this.req.page = val\n      this.getCaseList(this.currentModule)\n    }\n  }\n}\n</script>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqDA,SAAAA,WAAA,IAAAA,YAAA;AACA,OAAAC,gBAAA;AAEA;EACAC,IAAA;EACAC,UAAA;IAAAF,gBAAA,EAAAA;EAAA;EACAG,KAAA;IACAC,EAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;EACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,SAAA;MACAC,aAAA;MACAC,QAAA;MACAC,YAAA;MACAC,QAAA;MACAC,GAAA;QACAC,IAAA;QACAC,IAAA;MACA;MACA;MACAC,KAAA;MACAC,MAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAApB,WAAA;EACA;EACAqB,OAAA;IACAC,WAAA,WAAAA,YAAA;MACA,KAAAC,KAAA;IACA;IACAvB,WAAA,WAAAA,YAAA;MAAA,IAAAwB,KAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,IAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OACAlC,YAAA,CAAAwB,KAAA,CAAAT,GAAA,EAAAS,KAAA,CAAAnB,EAAA;YAAA;cAAAwB,IAAA,GAAAG,QAAA,CAAAG,IAAA;cACA,IAAAN,IAAA,CAAAO,OAAA;gBACAZ,KAAA,CAAAV,QAAA,GAAAe,IAAA,CAAAQ,KAAA;gBACAb,KAAA,CAAAN,KAAA,GAAAW,IAAA,CAAAX,KAAA;cACA;gBACAM,KAAA,CAAAc,QAAA,CAAAC,KAAA,CAAAV,IAAA,CAAAU,KAAA,CAAAC,OAAA;cACA;YAAA;YAAA;cAAA,OAAAR,QAAA,CAAAS,IAAA;UAAA;QAAA,GAAAb,OAAA;MAAA;IACA;IACA;IACAc,cAAA,WAAAA,eAAAC,GAAA;MACA;MACA,KAAA9B,YAAA,GAAA8B,GAAA,CAAAC,EAAA;MACA,KAAAzB,MAAA;MACA,KAAAP,QAAA;IACA;IACA;IACAiC,cAAA,WAAAA,eAAAF,GAAA;MACA;MACA,KAAA9B,YAAA,GAAA8B,GAAA,CAAAC,EAAA;MACA,KAAAzB,MAAA;MACA,KAAAP,QAAA;IACA;IACA;IACAkC,WAAA,WAAAA,YAAA;MACA,KAAA3B,MAAA;IACA;IACA;IACA4B,mBAAA,WAAAA,oBAAAC,GAAA;MACAC,OAAA,CAAAC,GAAA,wBAAAC,MAAA,CAAAH,GAAA;MACA,KAAAjC,GAAA,CAAAC,IAAA,GAAAgC,GAAA;MACA,KAAAI,WAAA,MAAAC,aAAA;IACA;EACA;AACA"}]}