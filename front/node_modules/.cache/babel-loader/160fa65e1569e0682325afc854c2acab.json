{"remainingRequest":"/Users/jeanlv/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js!/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jeanlv/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jeanlv/sorcery-management-platform/front/src/views/envs/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jeanlv/sorcery-management-platform/front/src/views/envs/index.vue","mtime":1703051945399},{"path":"/Users/jeanlv/sorcery-management-platform/front/babel.config.js","mtime":1698032213828},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1698032215054},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js","mtime":1698032214874},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1698032215054},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js","mtime":1698032217227}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2plYW5sdi9zb3JjZXJ5LW1hbmFnZW1lbnQtcGxhdGZvcm0vZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvamVhbmx2L3NvcmNlcnktbWFuYWdlbWVudC1wbGF0Zm9ybS9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHByb2plY3RMaXN0IH0gZnJvbSAnQC9hcGkvcHJvamVjdHMnOwppbXBvcnQgeyBlbnZzTGlzdCwgZGVsZXRlRW52cyB9IGZyb20gJ0AvYXBpL2VudnMnOwppbXBvcnQgRW52c0RpYWxvZyBmcm9tICdAL2NvbXBvbmVudHMvRW52cy9lbnZzRGlhbG9nJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdFbnZzJywKICBjb21wb25lbnRzOiB7CiAgICBFbnZzRGlhbG9nOiBFbnZzRGlhbG9nCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgcHJvamFjdENycnVlbnRJZDogMCwKICAgICAgcHJvamVjdFZhbHVlOiAnJywKICAgICAgcHJvamVjdExhYmVsOiAnJywKICAgICAgcHJvamVjdE9wdGlvbjogW10sCiAgICAgIGVudnNGcm9tOiB7CiAgICAgICAgJ25hbWUnOiAnJywKICAgICAgICAncHJvamVjdF9pZCc6IDAsCiAgICAgICAgJ2Vudic6ICcnLAogICAgICAgICdicm93c2VyJzogJycsCiAgICAgICAgJ3Byb3RvY29sJzogJycsCiAgICAgICAgJ2Jhc2VfdXJsJzogJycKICAgICAgfSwKICAgICAgaHR0cFZhbHVlOiB1bmRlZmluZWQsCiAgICAgIGh0dHBMYWJlbDogJycsCiAgICAgIGh0dHBPcHRpb246IFt7CiAgICAgICAgdmFsdWU6IDEsCiAgICAgICAgbGFiZWw6ICdodHRwOi8vJwogICAgICB9LCB7CiAgICAgICAgdmFsdWU6IDIsCiAgICAgICAgbGFiZWw6ICdodHRwczovLycKICAgICAgfV0sCiAgICAgIHJlcTogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgc2l6ZTogMTAKICAgICAgfSwKICAgICAgdG90YWw6IDEwLAogICAgICBlbnZzRGF0YTogW10sCiAgICAgIGRpYWxvZ0VudnNGbGFnOiBmYWxzZSwKICAgICAgY3VycmVudEVudnM6IDAsCiAgICAgIC8vIOW9k+WJjemAieS4reeahOeOr+Wig+S/oeaBrwogICAgICBlbnZzVGl0bGU6ICdjcmVhdGUnCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdFByb2plY3RMaXN0KCk7CiAgICB0aGlzLmluaXRFbnZzTGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5Yid5aeL5YyW6aG555uu5YiX6KGoCiAgICBpbml0UHJvamVjdExpc3Q6IGZ1bmN0aW9uIGluaXRQcm9qZWN0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVxX2JvZHksIHJlc3AsIGk7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgcmVxX2JvZHkgPSB7CiAgICAgICAgICAgICAgICAnbmFtZSc6ICcnCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcHJvamVjdExpc3QoX3RoaXMucmVxLCByZXFfYm9keSk7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBpZiAocmVzcC5zdWNjZXNzID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcmVzcC5pdGVtcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICBfdGhpcy5wcm9qZWN0T3B0aW9uLnB1c2goewogICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXNwLml0ZW1zW2ldLmlkLAogICAgICAgICAgICAgICAgICAgIGxhYmVsOiByZXNwLml0ZW1zW2ldLm5hbWUKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuafpeivouaIkOWKn++8gSIpCiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKCfmn6Xor6LlpLHotKXvvIEnKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDkv67mlLnpgInkuK3pobnnm64KICAgIGNoYW5nZVByb2plY3Q6IGZ1bmN0aW9uIGNoYW5nZVByb2plY3QodmFsdWUpIHsKICAgICAgdGhpcy5wcm9qZWN0VmFsdWUgPSB2YWx1ZTsKICAgICAgdGhpcy5wcm9qZWN0TGFiZWwgPSB0aGlzLnByb2plY3RPcHRpb24uZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnZhbHVlID09PSB2YWx1ZTsKICAgICAgfSkubGFiZWw7CiAgICB9LAogICAgLy8g6I635Y+W6YCJ5Lit55qE5Y2P6K6u5YC8CiAgICBjaGFuZ2VQcm90b2NvbDogZnVuY3Rpb24gY2hhbmdlUHJvdG9jb2wodmFsdWUpIHsKICAgICAgdGhpcy5odHRwVmFsdWUgPSB2YWx1ZTsKICAgICAgdGhpcy5odHRwTGFiZWwgPSB0aGlzLmh0dHBPcHRpb24uZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnZhbHVlID09PSB2YWx1ZTsKICAgICAgfSkubGFiZWw7CiAgICB9LAogICAgLy8g5YiG6aG15p+l6K+i6aG555uu5YiX6KGoCiAgICBpbml0RW52c0xpc3Q6IGZ1bmN0aW9uIGluaXRFbnZzTGlzdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXNwLCByZXNEYXRhLCBpOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfdGhpczIuZW52c0Zyb20ucHJvamVjdF9pZCA9IF90aGlzMi5wcm9qZWN0VmFsdWUgPT09ICcnID8gMCA6IF90aGlzMi5wcm9qZWN0VmFsdWU7CiAgICAgICAgICAgICAgX3RoaXMyLmVudnNGcm9tLnByb3RvY29sID0gX3RoaXMyLmh0dHBMYWJlbDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGVudnNMaXN0KF90aGlzMi5yZXEsIEpTT04uc3RyaW5naWZ5KF90aGlzMi5lbnZzRnJvbSkpOwogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIGlmIChyZXNwLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgIHJlc0RhdGEgPSByZXNwLml0ZW1zOwogICAgICAgICAgICAgICAgX3RoaXMyLmVudnNEYXRhID0gcmVzRGF0YTsKICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByZXNEYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIHJlc0RhdGFbaV0uY3JlYXRlX3RpbWUgPSBfdGhpczIuJG1vbWVudChyZXNEYXRhW2ldLmNyZWF0ZV90aW1lKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW06c3MnKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF90aGlzMi50b3RhbCA9IHJlc3AudG90YWw7CiAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2Vzcygn5p+l6K+i5oiQ5Yqf77yBJyk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcign5p+l6K+i5aSx6LSl77yBJyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDmuIXpmaTmkJzntKIKICAgIGNsZWFyU2VhcmNoOiBmdW5jdGlvbiBjbGVhclNlYXJjaCgpIHsKICAgICAgdGhpcy5wcm9qZWN0VmFsdWUgPSAwOwogICAgICBpZiAodGhpcy5wcm9qZWN0VmFsdWUgPT09IDApIHsKICAgICAgICB0aGlzLnByb2plY3RWYWx1ZSA9ICcnOwogICAgICB9CiAgICAgIHRoaXMuZW52c0Zyb20ubmFtZSA9ICcnOwogICAgICB0aGlzLmVudnNGcm9tLmVudiA9ICcnOwogICAgICB0aGlzLmh0dHBMYWJlbCA9ICcnOwogICAgICB0aGlzLmh0dHBWYWx1ZSA9IHVuZGVmaW5lZDsKICAgICAgdGhpcy5pbml0RW52c0xpc3QoKTsKICAgIH0sCiAgICAvLyDliJvlu7rmqKHlnZcKICAgIGNyZWF0ZUVudjogZnVuY3Rpb24gY3JlYXRlRW52KCkgewogICAgICB0aGlzLmRpYWxvZ0VudnNGbGFnID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDliJvlu7rmqKHlnZflhbPpl60KICAgIGNsb3NlRW52RGlhbG9nOiBmdW5jdGlvbiBjbG9zZUVudkRpYWxvZygpIHsKICAgICAgdGhpcy5kaWFsb2dFbnZzRmxhZyA9IGZhbHNlOwogICAgICB0aGlzLmluaXRFbnZzTGlzdCgpOwogICAgfSwKICAgIC8vIOafpeeci+eUqOS+i+ivpuaDhQogICAgdmlld1Jvd0VudnNJbmZvOiBmdW5jdGlvbiB2aWV3Um93RW52c0luZm8ocm93KSB7CiAgICAgIC8vIOeCueWHu+eUqOS+i++8jOiOt+WPlueUqOS+i2lkCiAgICAgIHRoaXMuY3VycmVudEVudnMgPSByb3cuaWQ7CiAgICAgIHRoaXMuZGlhbG9nRW52c0ZsYWcgPSB0cnVlOwogICAgICB0aGlzLmVudnNUaXRsZSA9ICd2aWV3JzsKICAgIH0sCiAgICAvLyDnvJbovpHmtYvor5XnlKjkvosKICAgIGVkaXRSb3dFbnZzRWRpdDogZnVuY3Rpb24gZWRpdFJvd0VudnNFZGl0KHJvdykgewogICAgICAvLyDngrnlh7vnlKjkvovvvIzojrflj5bnlKjkvotpZAogICAgICB0aGlzLmN1cnJlbnRFbnZzID0gcm93LmlkOwogICAgICB0aGlzLmRpYWxvZ0VudnNGbGFnID0gdHJ1ZTsKICAgICAgdGhpcy5lbnZzVGl0bGUgPSAnZWRpdCc7CiAgICB9LAogICAgLy8g5Yig6Zmk5rWL6K+V55So5L6LCiAgICBkZWxldGVSb3dFbnZzOiBmdW5jdGlvbiBkZWxldGVSb3dFbnZzKHJvdykgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gZGVsZXRlRW52cyhyb3cuaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgICAgICAgIF90aGlzMy4kY29uZmlybSgn5Yig6Zmk5Lu75YqhLCDmmK/lkKbnu6fnu60/JywgJ+aPkOekuicsIHsKICAgICAgICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLAogICAgICAgICAgICAgICAgICBjZW50ZXI6IHRydWUKICAgICAgICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcC5zdWNjZXNzID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmluaXRFbnZzTGlzdCgpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5lcnJvcihyZXNwLmVycm9yLm1zZyk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ+WIoOmZpOaIkOWKnyEnCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpbmZvJywKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"names":["projectList","envsList","deleteEnvs","EnvsDialog","name","components","data","projactCrruentId","projectValue","projectLabel","projectOption","envsFrom","httpValue","undefined","httpLabel","httpOption","value","label","req","page","size","total","envsData","dialogEnvsFlag","currentEnvs","envsTitle","mounted","initProjectList","initEnvsList","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","req_body","resp","i","wrap","_callee$","_context","prev","next","sent","success","items","length","push","id","$message","error","stop","changeProject","find","item","changeProtocol","_this2","_callee2","resData","_callee2$","_context2","project_id","protocol","JSON","stringify","create_time","$moment","format","clearSearch","env","createEnv","closeEnvDialog","viewRowEnvsInfo","row","editRowEnvsEdit","deleteRowEnvs","_this3","_callee3","_callee3$","_context3","then","$confirm","confirmButtonText","cancelButtonText","type","center","msg","message","catch"],"sources":["src/views/envs/index.vue"],"sourcesContent":["<template>\n  <div class=\"evns\">\n    <div class=\"filter-container\">\n      <el-row :gutter=\"24\">\n        <el-col :span=\"6\">\n          <div class=\"demo-input-suffix\">\n            项目名称:\n            <el-select\n              v-model=\"projectValue\"\n              placeholder=\"请选择项目\"\n              @change=\"changeProject\"\n            >\n              <el-option\n                v-for=\"item in projectOption\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              />\n            </el-select>\n          </div>\n        </el-col>\n        <el-col :span=\"6\">\n          <div class=\"demo-input-suffix\">\n            环境名称:\n            <el-input v-model=\"envsFrom.name\" placeholder=\"请输入环境名称\" style=\"width: 60%;margin-right: 5px;\" class=\"filter-item\" />\n          </div>\n        </el-col>\n        <el-col :span=\"6\">\n          <div class=\"demo-input-suffix\">\n            环境标识:\n            <el-input v-model=\"envsFrom.env\" placeholder=\"请输入环境标识\" style=\"width: 60%;margin-right: 5px;\" class=\"filter-item\" />\n          </div>\n        </el-col>\n        <el-col :span=\"6\">\n          <div class=\"demo-input-suffix\">\n            请求协议:\n            <el-select\n              v-model=\"httpValue\"\n              placeholder=\"请选择协议\"\n              @change=\"changeProtocol\"\n            >\n              <el-option\n                v-for=\"item in httpOption\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              />\n            </el-select>\n          </div>\n        </el-col>\n      </el-row>\n      <div style=\"text-align: right;margin-top: 10px;\">\n        <el-button class=\"filter-item\" icon=\"el-icon-delete\" @click=\"clearSearch()\">重置</el-button>\n        <el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-search\" @click=\"initEnvsList()\">搜索</el-button>\n      </div>\n    </div>\n    <div class=\"envs-create\" style=\"margin-top: 10px;\">\n      <el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-circle-plus-outline\" @click=\"createEnv()\">创建</el-button>\n    </div>\n    <div class=\"envs-list\" style=\"margin-top: 10px;\">\n      <el-table\n        :data=\"envsData\"\n        border\n        style=\"width: 100%\"\n      >\n        <el-table-column prop=\"id\" label=\"ID\" width=\"80\" />\n        <el-table-column prop=\"name\" label=\"环境名称\" width=\"auto\" />\n        <el-table-column prop=\"project_name\" label=\"项目名称\" width=\"auto\" />\n        <el-table-column prop=\"env\" label=\"环境标识\" width=\"auto\" />\n        <el-table-column prop=\"protocol\" label=\"请求协议\" width=\"auto\" />\n        <el-table-column prop=\"base_url\" label=\"URL\" width=\"auto\" />\n        <el-table-column prop=\"create_time\" label=\"创建时间\" width=\"auto\" />\n        <el-table-column fixed=\"right\" label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button\n              type=\"text\"\n              @click=\"viewRowEnvsInfo(scope.row)\"\n            >查看</el-button>\n            <el-button\n              type=\"text\"\n              @click=\"editRowEnvsEdit(scope.row)\"\n            >编辑</el-button>\n            <el-button\n              type=\"text\"\n              @click=\"deleteRowEnvs(scope.row)\"\n            >删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <!--环境模块-->\n    <envs-dialog v-if=\"dialogEnvsFlag\" :title=\"envsTitle\" :eid=\"currentEnvs\" :pid=\"projactCrruentId\" @cancel=\"closeEnvDialog\" />\n  </div>\n</template>\n\n<script>\nimport { projectList } from '@/api/projects'\nimport { envsList, deleteEnvs } from '@/api/envs'\nimport EnvsDialog from '@/components/Envs/envsDialog'\n\nexport default ({\n  name: 'Envs',\n  components: {\n    EnvsDialog\n  },\n  data() {\n    return {\n      projactCrruentId: 0,\n      projectValue: '',\n      projectLabel: '',\n      projectOption: [],\n      envsFrom: {\n        'name': '',\n        'project_id': 0,\n        'env': '',\n        'browser': '',\n        'protocol': '',\n        'base_url': ''\n      },\n      httpValue: undefined,\n      httpLabel: '',\n      httpOption: [\n        {\n          value: 1,\n          label: 'http://'\n        },\n        {\n          value: 2,\n          label: 'https://'\n        }\n      ],\n      req: {\n        page: 1,\n        size: 10\n      },\n      total: 10,\n      envsData: [],\n      dialogEnvsFlag: false,\n      currentEnvs: 0, // 当前选中的环境信息\n      envsTitle: 'create'\n    }\n  },\n  mounted() {\n    this.initProjectList()\n    this.initEnvsList()\n  },\n  methods: {\n    // 初始化项目列表\n    async initProjectList() {\n      const req_body = {\n        'name': ''\n      }\n      const resp = await projectList(this.req, req_body)\n      if (resp.success === true) {\n        for (let i = 0; i < resp.items.length; i++) {\n          this.projectOption.push({\n            value: resp.items[i].id,\n            label: resp.items[i].name\n          })\n        }\n        // this.$message.success(\"查询成功！\")\n      } else {\n        this.$message.error('查询失败！')\n      }\n    },\n    // 修改选中项目\n    changeProject(value) {\n      this.projectValue = value\n      this.projectLabel = this.projectOption.find(\n        (item) => item.value === value\n      ).label\n    },\n    // 获取选中的协议值\n    changeProtocol(value) {\n      this.httpValue = value\n      this.httpLabel = this.httpOption.find(\n        (item) => item.value === value\n      ).label\n    },\n    // 分页查询项目列表\n    async initEnvsList() {\n      this.envsFrom.project_id = this.projectValue === '' ? 0 : this.projectValue\n      this.envsFrom.protocol = this.httpLabel\n      const resp = await envsList(this.req, JSON.stringify(this.envsFrom))\n      if (resp.success === true) {\n        const resData = resp.items\n        this.envsData = resData\n        for (let i = 0; i < resData.length; i++) {\n          resData[i].create_time = this.$moment(\n            resData[i].create_time\n          ).format('YYYY-MM-DD HH:mm:ss')\n        }\n        this.total = resp.total\n        this.$message.success('查询成功！')\n      } else {\n        this.$message.error('查询失败！')\n      }\n    },\n    // 清除搜索\n    clearSearch() {\n      this.projectValue = 0\n      if (this.projectValue === 0) {\n        this.projectValue = ''\n      }\n      this.envsFrom.name = ''\n      this.envsFrom.env = ''\n      this.httpLabel = ''\n      this.httpValue = undefined\n      this.initEnvsList()\n    },\n    // 创建模块\n    createEnv() {\n      this.dialogEnvsFlag = true\n    },\n    // 创建模块关闭\n    closeEnvDialog() {\n      this.dialogEnvsFlag = false\n      this.initEnvsList()\n    },\n    // 查看用例详情\n    viewRowEnvsInfo(row) {\n      // 点击用例，获取用例id\n      this.currentEnvs = row.id\n      this.dialogEnvsFlag = true\n      this.envsTitle = 'view'\n    },\n    // 编辑测试用例\n    editRowEnvsEdit(row) {\n      // 点击用例，获取用例id\n      this.currentEnvs = row.id\n      this.dialogEnvsFlag = true\n      this.envsTitle = 'edit'\n    },\n    // 删除测试用例\n    async deleteRowEnvs(row) {\n      await deleteEnvs(row.id).then((resp) => {\n        this.$confirm('删除任务, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning',\n          center: true\n        }).then(() => {\n          if (resp.success === true) {\n            this.initEnvsList()\n          } else {\n            this.$message.error(resp.error.msg)\n          }\n          this.$message({\n            type: 'success',\n            message: '删除成功!'\n          })\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除'\n          })\n        })\n      })\n    }\n  }\n})\n</script>\n"],"mappings":"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"}]}