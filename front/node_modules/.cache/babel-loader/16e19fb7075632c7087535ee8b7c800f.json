{"remainingRequest":"/Users/jeanlv/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js!/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jeanlv/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jeanlv/sorcery-management-platform/front/src/components/HttpRunner/httpRunnerCreateApiDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jeanlv/sorcery-management-platform/front/src/components/HttpRunner/httpRunnerCreateApiDialog.vue","mtime":1698032217390},{"path":"/Users/jeanlv/sorcery-management-platform/front/babel.config.js","mtime":1698032213828},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1698032215054},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js","mtime":1698032214874},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1698032215054},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js","mtime":1698032217227}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2plYW5sdi9zb3JjZXJ5LW1hbmFnZW1lbnQtcGxhdGZvcm0vZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvamVhbmx2L3NvcmNlcnktbWFuYWdlbWVudC1wbGF0Zm9ybS9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy50cmltLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNyZWF0ZUh0dHBSdW5uZXJBcGkgYXMgX2NyZWF0ZUh0dHBSdW5uZXJBcGkgfSBmcm9tICdAL2FwaS9odHRwcnVubmVyJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHt9LAogIHByb3BzOiB7CiAgICBkYXRhczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIHByb2plY3Q6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAwCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd1RpdGxlOiAn5Yib5bu6SHR0cFJ1bm5lcuW3peeoi+aOpeWPoycsCiAgICAgIGRpYWxvZ1Zpc2libGU6IHRydWUsCiAgICAgIGh0dHBydW5uZXJfYXBpX25hbWU6ICcnLAogICAgICBhcGlJbmZvTGlzdDogW10sCiAgICAgIHNhdmVGbGFnOiBmYWxzZQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBpc0lucHV0RW1wdHk6IGZ1bmN0aW9uIGlzSW5wdXRFbXB0eSgpIHsKICAgICAgLy8g5qOA5p+l6L6T5YWl5qGG55qE5YC85piv5ZCm5Li656m6CiAgICAgIHJldHVybiB0aGlzLmh0dHBydW5uZXJfYXBpX25hbWUudHJpbSgpID09PSAnJzsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICBjbG9zZURpYWxvZzogZnVuY3Rpb24gY2xvc2VEaWFsb2coKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NhbmNlbCcsIHt9KTsKICAgIH0sCiAgICBiYWNrRGlhbG9nOiBmdW5jdGlvbiBiYWNrRGlhbG9nKCkgewogICAgICB0aGlzLmRpYWxvZ1Zpc2libGUgPSBmYWxzZTsKICAgICAgdGhpcy4kZW1pdCgndmlzaWJsZScsIHRoaXMuZGlhbG9nVmlzaWJsZSk7CiAgICB9LAogICAgLy8g6YCJ5oup5omA5pyJ5o6l5Y+j5L+h5oGvCiAgICBzZWxlY3Rpb25BbGxBcGk6IGZ1bmN0aW9uIHNlbGVjdGlvbkFsbEFwaSh2YWwpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWwubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLmFwaUluZm9MaXN0LnB1c2goewogICAgICAgICAgJ25hbWUnOiB2YWxbaV0udmFsdWUsCiAgICAgICAgICAnYmFzZV9hcGlfaWQnOiB2YWxbaV0uaWQsCiAgICAgICAgICAnaHR0cHJ1bm5lcl9wcm9qZWN0X2lkJzogdGhpcy5wcm9qZWN0CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5odHRwcnVubmVyX2FwaV9uYW1lID0gdmFsW2ldLnZhbHVlOwogICAgICB9CiAgICB9LAogICAgLy8g6YCJ5oup5LiA5p2h5o6l5Y+jCiAgICBzZWxlY3Rpb25PbmVBcGk6IGZ1bmN0aW9uIHNlbGVjdGlvbk9uZUFwaSh2YWwpIHsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWwubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLmFwaUluZm9MaXN0LnB1c2goewogICAgICAgICAgJ25hbWUnOiB2YWxbaV0udmFsdWUsCiAgICAgICAgICAnYmFzZV9hcGlfaWQnOiB2YWxbaV0uaWQsCiAgICAgICAgICAnaHR0cHJ1bm5lcl9wcm9qZWN0X2lkJzogdGhpcy5wcm9qZWN0CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5odHRwcnVubmVyX2FwaV9uYW1lID0gdmFsW2ldLnZhbHVlOwogICAgICB9CiAgICB9LAogICAgLy8g5Yib5bu65o6l5Y+jCiAgICBjcmVhdGVIdHRwUnVubmVyQXBpOiBmdW5jdGlvbiBjcmVhdGVIdHRwUnVubmVyQXBpKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBpLCByZXEsIHJlc3A7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaSA9IDA7CiAgICAgICAgICAgIGNhc2UgMToKICAgICAgICAgICAgICBpZiAoIShpIDwgX3RoaXMuYXBpSW5mb0xpc3QubGVuZ3RoKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIHJlcSA9IF90aGlzLmFwaUluZm9MaXN0W2ldOwogICAgICAgICAgICAgIGlmICghX3RoaXMuaXNJbnB1dEVtcHR5KSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvLyDovpPlhaXlhoXlrrnkuLrnqbrvvIzmmL7npLrlv4Xloavmj5DnpLrvvIzkuI3ov5vooYzmj5DkuqTmk43kvZwKICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcign6K+36L6T5YWl5o6l5Y+j5ZCN56ewJyk7CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIik7CiAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICByZXR1cm4gX2NyZWF0ZUh0dHBSdW5uZXJBcGkocmVxKTsKICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGlmIChyZXNwLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgIF90aGlzLmNsb3NlRGlhbG9nKCk7CiAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfliJvlu7rmiJDlip/vvIEnKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IocmVzcC5lcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgaSsrOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"names":["createHttpRunnerApi","components","props","datas","type","Array","default","project","Number","data","showTitle","dialogVisible","httprunner_api_name","apiInfoList","saveFlag","computed","isInputEmpty","trim","mounted","methods","closeDialog","$emit","backDialog","selectionAllApi","val","i","length","push","value","id","selectionOneApi","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","req","resp","wrap","_callee$","_context","prev","next","$message","error","abrupt","sent","success","message","stop"],"sources":["src/components/HttpRunner/httpRunnerCreateApiDialog.vue"],"sourcesContent":["<template>\n  <el-dialog\n    :title=\"showTitle\"\n    :visible.sync=\"dialogVisible\"\n    width=\"800px\"\n    :before-close=\"closeDialog\"\n  >\n    <el-form\n      ref=\"ruleForm\"\n      class=\"demo-ruleForm\"\n    >\n      <el-form-item>\n        <el-table\n          ref=\"multipleTable\"\n          :data=\"datas\"\n          border\n          style=\"width: 100%\"\n          @select=\"selectionOneApi\"\n          @select-all=\"selectionAllApi\"\n        >\n          <el-table-column type=\"selection\" width=\"55\" />\n          <el-table-column prop=\"id\" label=\"接口ID\" width=\"70\" />\n          <el-table-column prop=\"name\" label=\"接口名称\" width=\"150\" />\n          <el-table-column prop=\"api_path\" label=\"接口地址\" />\n          <el-table-column label=\"httpRunner项目接口名称\">\n            <template slot-scope=\"scope\">\n              <el-input\n                v-model=\"scope.row.value\"\n                :required=\"true\"\n                placeholder=\"请输入httpRunner项目接口名称\"\n              />\n              <span v-if=\"isInputEmpty\" style=\"color: red;\">*接口名称不能为空</span>\n            </template>\n          </el-table-column>>\n        </el-table>\n      </el-form-item>\n      <el-form-item style=\"text-align: right\">\n        <div class=\"dialog-footer\">\n          <el-button @click=\"backDialog()\">返回上一步</el-button>\n          <el-button\n            type=\"primary\"\n            :disabled=\"saveFlag\"\n            @click=\"createHttpRunnerApi\"\n          >创建HttpRunner工程接口</el-button>\n        </div>\n      </el-form-item>\n    </el-form>\n  </el-dialog>\n</template>\n\n<script>\nimport { createHttpRunnerApi } from '@/api/httprunner'\n\nexport default {\n  components: {},\n  props: {\n    datas: {\n      type: Array,\n      default: null\n    },\n    project: {\n      type: Number,\n      default: 0\n    }\n  },\n  data() {\n    return {\n      showTitle: '创建HttpRunner工程接口',\n      dialogVisible: true,\n      httprunner_api_name: '',\n      apiInfoList: [],\n      saveFlag: false\n    }\n  },\n  computed: {\n    isInputEmpty() {\n      // 检查输入框的值是否为空\n      return this.httprunner_api_name.trim() === ''\n    }\n  },\n  mounted() {\n  },\n  methods: {\n    closeDialog() {\n      this.$emit('cancel', {})\n    },\n    backDialog() {\n      this.dialogVisible = false\n      this.$emit('visible', this.dialogVisible)\n    },\n    // 选择所有接口信息\n    selectionAllApi(val) {\n      for (let i = 0; i < val.length; i++) {\n        this.apiInfoList.push({\n          'name': val[i].value,\n          'base_api_id': val[i].id,\n          'httprunner_project_id': this.project\n        })\n        this.httprunner_api_name = val[i].value\n      }\n    },\n    // 选择一条接口\n    selectionOneApi(val) {\n      for (let i = 0; i < val.length; i++) {\n        this.apiInfoList.push({\n          'name': val[i].value,\n          'base_api_id': val[i].id,\n          'httprunner_project_id': this.project\n        })\n        this.httprunner_api_name = val[i].value\n      }\n    },\n    // 创建接口\n    async createHttpRunnerApi() {\n      for (let i = 0; i < this.apiInfoList.length; i++) {\n        const req = this.apiInfoList[i]\n        if (this.isInputEmpty) {\n          // 输入内容为空，显示必填提示，不进行提交操作\n          this.$message.error('请输入接口名称')\n          return\n        }\n        const resp = await createHttpRunnerApi(req)\n        if (resp.success === true) {\n          this.closeDialog()\n          this.$message.success('创建成功！')\n        } else {\n          this.$message.error(resp.error.message)\n        }\n      }\n    }\n  }\n}\n</script>\n<style scoped>\n#image {\n  text-align: left;\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA,SAAAA,mBAAA,IAAAA,oBAAA;AAEA;EACAC,UAAA;EACAC,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,KAAA;MACAC,OAAA;IACA;IACAC,OAAA;MACAH,IAAA,EAAAI,MAAA;MACAF,OAAA;IACA;EACA;EACAG,IAAA,WAAAA,KAAA;IACA;MACAC,SAAA;MACAC,aAAA;MACAC,mBAAA;MACAC,WAAA;MACAC,QAAA;IACA;EACA;EACAC,QAAA;IACAC,YAAA,WAAAA,aAAA;MACA;MACA,YAAAJ,mBAAA,CAAAK,IAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA,GACA;EACAC,OAAA;IACAC,WAAA,WAAAA,YAAA;MACA,KAAAC,KAAA;IACA;IACAC,UAAA,WAAAA,WAAA;MACA,KAAAX,aAAA;MACA,KAAAU,KAAA,iBAAAV,aAAA;IACA;IACA;IACAY,eAAA,WAAAA,gBAAAC,GAAA;MACA,SAAAC,CAAA,MAAAA,CAAA,GAAAD,GAAA,CAAAE,MAAA,EAAAD,CAAA;QACA,KAAAZ,WAAA,CAAAc,IAAA;UACA,QAAAH,GAAA,CAAAC,CAAA,EAAAG,KAAA;UACA,eAAAJ,GAAA,CAAAC,CAAA,EAAAI,EAAA;UACA,8BAAAtB;QACA;QACA,KAAAK,mBAAA,GAAAY,GAAA,CAAAC,CAAA,EAAAG,KAAA;MACA;IACA;IACA;IACAE,eAAA,WAAAA,gBAAAN,GAAA;MACA,SAAAC,CAAA,MAAAA,CAAA,GAAAD,GAAA,CAAAE,MAAA,EAAAD,CAAA;QACA,KAAAZ,WAAA,CAAAc,IAAA;UACA,QAAAH,GAAA,CAAAC,CAAA,EAAAG,KAAA;UACA,eAAAJ,GAAA,CAAAC,CAAA,EAAAI,EAAA;UACA,8BAAAtB;QACA;QACA,KAAAK,mBAAA,GAAAY,GAAA,CAAAC,CAAA,EAAAG,KAAA;MACA;IACA;IACA;IACA5B,mBAAA,WAAAA,oBAAA;MAAA,IAAA+B,KAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAV,CAAA,EAAAW,GAAA,EAAAC,IAAA;QAAA,OAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cACAjB,CAAA;YAAA;cAAA,MAAAA,CAAA,GAAAM,KAAA,CAAAlB,WAAA,CAAAa,MAAA;gBAAAc,QAAA,CAAAE,IAAA;gBAAA;cAAA;cACAN,GAAA,GAAAL,KAAA,CAAAlB,WAAA,CAAAY,CAAA;cAAA,KACAM,KAAA,CAAAf,YAAA;gBAAAwB,QAAA,CAAAE,IAAA;gBAAA;cAAA;cACA;cACAX,KAAA,CAAAY,QAAA,CAAAC,KAAA;cAAA,OAAAJ,QAAA,CAAAK,MAAA;YAAA;cAAAL,QAAA,CAAAE,IAAA;cAAA,OAGA1C,oBAAA,CAAAoC,GAAA;YAAA;cAAAC,IAAA,GAAAG,QAAA,CAAAM,IAAA;cACA,IAAAT,IAAA,CAAAU,OAAA;gBACAhB,KAAA,CAAAX,WAAA;gBACAW,KAAA,CAAAY,QAAA,CAAAI,OAAA;cACA;gBACAhB,KAAA,CAAAY,QAAA,CAAAC,KAAA,CAAAP,IAAA,CAAAO,KAAA,CAAAI,OAAA;cACA;YAAA;cAbAvB,CAAA;cAAAe,QAAA,CAAAE,IAAA;cAAA;YAAA;YAAA;cAAA,OAAAF,QAAA,CAAAS,IAAA;UAAA;QAAA,GAAAd,OAAA;MAAA;IAeA;EACA;AACA"}]}