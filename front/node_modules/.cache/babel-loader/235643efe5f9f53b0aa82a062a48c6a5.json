{"remainingRequest":"/Users/lvjing/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js!/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvjing/sorcery-management-platform/front/src/components/HttpRunner/debugtalkDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvjing/sorcery-management-platform/front/src/components/HttpRunner/debugtalkDialog.vue","mtime":1685691419688},{"path":"/Users/lvjing/sorcery-management-platform/front/babel.config.js","mtime":1679466191236},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1679466716417},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js","mtime":1679466716072},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1679466716417},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js","mtime":1679466707590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2x2amluZy9zb3JjZXJ5LW1hbmFnZW1lbnQtcGxhdGZvcm0vZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbHZqaW5nL3NvcmNlcnktbWFuYWdlbWVudC1wbGF0Zm9ybS9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgeyBydW4sIHVwZGF0ZUh0dHBSdW5uZXJQcm9qZWN0IH0gZnJvbSAnQC9hcGkvaHR0cHJ1dW5lcic7CmltcG9ydCBBY2VDb2RlRWRpdG9yRGlhbG9nIGZyb20gJ0AvY29tcG9uZW50cy9IdHRwUnVubmVyL2FjZUNvZGVFZGl0b3JEaWFsb2cudnVlJzsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIEFjZUNvZGVFZGl0b3JEaWFsb2c6IEFjZUNvZGVFZGl0b3JEaWFsb2cKICB9LAogIHByb3BzOiB7CiAgICB0aXRsZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBoaWQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxCiAgICB9LAogICAgcGlkOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMQogICAgfSwKICAgIGhuYW1lOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogbnVsbAogICAgfSwKICAgIGNvZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgZWNvZGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd1RpdGxlOiAnJywKICAgICAgZGlhbG9nVmlzaWJsZTogdHJ1ZSwKICAgICAgbGFuZ3VhZ2U6ICdweXRob24nLAogICAgICBjb2RlczogJycsCiAgICAgIGluX2NvZGU6ICcnLAogICAgICByZXN1bHQ6ICcnLAogICAgICBzYXZlRmxhZzogZmFsc2UKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgaWYgKHRoaXMudGl0bGUgPT09ICdkZWJ1Z3RhbGsnKSB7CiAgICAgIHRoaXMuc2hvd1RpdGxlID0gJ0RlYnVnVGFsayc7CiAgICB9CiAgICB0aGlzLmNvZGVzID0gdGhpcy5jb2RlOwogIH0sCiAgbWV0aG9kczogewogICAgY2xvc2VEaWFsb2c6IGZ1bmN0aW9uIGNsb3NlRGlhbG9nKCkgewogICAgICB0aGlzLiRlbWl0KCdjYW5jZWwnLCB7fSk7CiAgICB9LAogICAgZ2V0Q29kZTogZnVuY3Rpb24gZ2V0Q29kZShjb2RlKSB7CiAgICAgIHRoaXMuaW5fY29kZSA9IGNvZGU7CiAgICB9LAogICAgLy8g6L+Q6KGMCiAgICBydW5EZWJ1Z3RhbGs6IGZ1bmN0aW9uIHJ1bkRlYnVndGFsaygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVxLCByZXNwOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIC8vIHRoaXMuZ2V0Q29kZSgpCiAgICAgICAgICAgICAgcmVxID0gewogICAgICAgICAgICAgICAgY29kZTogX3RoaXMuaW5fY29kZSA9PT0gJycgPyBfdGhpcy5jb2RlIDogX3RoaXMuaW5fY29kZQogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgY29uc29sZS5pbmZvKCdjb2RlJywgcmVxKTsKICAgICAgICAgICAgICBjb25zb2xlLmluZm8oJ2luX2NvZGUnLCByZXEpOwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA1OwogICAgICAgICAgICAgIHJldHVybiBydW4ocmVxKTsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGlmIChyZXNwLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgIF90aGlzLnJlc3VsdCA9IHJlc3AucmVzdWx0OwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcign5omn6KGM5aSx6LSl77yBJyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5pu05pawCiAgICB1cGRhdGVJbmZvOiBmdW5jdGlvbiB1cGRhdGVJbmZvKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlcSwgcmVzcDsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgcmVxID0gewogICAgICAgICAgICAgICAgJ3Byb2plY3RfaWQnOiBfdGhpczIucGlkLAogICAgICAgICAgICAgICAgJ2Vudl9jb2RlJzogX3RoaXMyLmVjb2RlLAogICAgICAgICAgICAgICAgJ25hbWUnOiBfdGhpczIuaG5hbWUsCiAgICAgICAgICAgICAgICAnY29kZSc6IHR5cGVvZiBfdGhpczIuaW5fY29kZSA9PT0gJ3VuZGVmaW5lZCcgPyAnJyA6IF90aGlzMi5pbl9jb2RlCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUh0dHBSdW5uZXJQcm9qZWN0KF90aGlzMi5oaWQsIHJlcSk7CiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgaWYgKHJlc3Auc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgX3RoaXMyLmNsb3NlRGlhbG9nKCk7CiAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2Uuc3VjY2Vzcygn5L+d5a2Y5oiQ5YqfJyk7CiAgICAgICAgICAgICAgICBfdGhpczIuc2F2ZUZsYWcgPSB0cnVlOwogICAgICAgICAgICAgICAgLy8g5bu25pe25ZmoCiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRlbWl0KCdjbG9zZScpOwogICAgICAgICAgICAgICAgfSwgNTAwKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKCfkv53lrZjlpLHotKUnKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"names":["run","updateHttpRunnerProject","AceCodeEditorDialog","components","props","title","type","String","default","hid","Number","pid","hname","code","ecode","data","showTitle","dialogVisible","language","codes","in_code","result","saveFlag","mounted","methods","closeDialog","$emit","getCode","runDebugtalk","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","req","resp","wrap","_callee$","_context","prev","next","console","info","sent","success","$message","error","stop","updateInfo","_this2","_callee2","_callee2$","_context2","setTimeout"],"sources":["src/components/HttpRunner/debugtalkDialog.vue"],"sourcesContent":["<template>\n  <el-dialog\n    :title=\"showTitle\"\n    :visible.sync=\"dialogVisible\"\n    width=\"1100px\"\n    :before-close=\"closeDialog\"\n  >\n    <el-row :gutter=\"20\">\n      <el-col :span=\"12\">\n        <div align=\"right\">\n          <el-button size=\"small\" type=\"primary\" @click=\"runDebugtalk()\">点击运行</el-button>\n          <el-button size=\"small\" type=\"success\" :disabled=\"saveFlag\" @click=\"updateInfo()\">提交保存</el-button>\n        </div>\n        <div style=\"margin-top: 10px;\">\n          <ace-code-editor-dialog ref=\"ace\" :value=\"codes\" class=\"ace-editor\" :min-lines=\"25\" :mode-path=\"language\" @getCode=\"getCode\" />\n        </div>\n      </el-col>\n      <el-col :span=\"12\">\n        <el-button size=\"small\" type=\"warning\" disabled>运行结果</el-button>\n        <div style=\"margin-top: 10px;\">\n          <ace-code-editor-dialog ref=\"ace\" v-model=\"result\" class=\"ace-editor\" :min-lines=\"25\" :mode-path=\"language\" />\n        </div>\n      </el-col>\n    </el-row>\n    <div class=\"dialog-footer\" align=\"right\">\n      <el-button @click=\"closeDialog()\">取消</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nimport { run, updateHttpRunnerProject } from '@/api/httpruuner'\nimport AceCodeEditorDialog from '@/components/HttpRunner/aceCodeEditorDialog.vue'\n\nexport default {\n  components: {\n    AceCodeEditorDialog\n  },\n  props: {\n    title: {\n      type: String,\n      default: null\n    },\n    hid: {\n      type: Number,\n      default: 1\n    },\n    pid: {\n      type: Number,\n      default: 1\n    },\n    hname: {\n      type: String,\n      default: null\n    },\n    code: {\n      type: String,\n      default: null\n    },\n    ecode: {\n      type: String,\n      default: null\n    }\n  },\n  data() {\n    return {\n      showTitle: '',\n      dialogVisible: true,\n      language: 'python',\n      codes: '',\n      in_code: '',\n      result: '',\n      saveFlag: false\n    }\n  },\n  mounted() {\n    if (this.title === 'debugtalk') {\n      this.showTitle = 'DebugTalk'\n    }\n    this.codes = this.code\n  },\n  methods: {\n    closeDialog() {\n      this.$emit('cancel', {})\n    },\n    getCode(code) {\n      this.in_code = code\n    },\n    // 运行\n    async runDebugtalk() {\n      // this.getCode()\n      const req = {\n        code: this.in_code === '' ? this.code : this.in_code\n      }\n      console.info('code', req)\n      console.info('in_code', req)\n      const resp = await run(req)\n      if (resp.success === true) {\n        this.result = resp.result\n      } else {\n        this.$message.error('执行失败！')\n      }\n    },\n    // 更新\n    async updateInfo() {\n      const req = {\n        'project_id': this.pid,\n        'env_code': this.ecode,\n        'name': this.hname,\n        'code': typeof (this.in_code) === 'undefined' ? '' : this.in_code\n      }\n      const resp = await updateHttpRunnerProject(this.hid, req)\n      if (resp.success === true) {\n        this.closeDialog()\n        this.$message.success('保存成功')\n        this.saveFlag = true\n        // 延时器\n        setTimeout(() => {\n          this.$emit('close')\n        }, 500)\n      } else {\n        this.$message.error('保存失败')\n      }\n    }\n  }\n}\n</script>\n<style scoped>\n  .el-row {\n    margin-bottom: 20px;\n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n  .el-col {\n    border-radius: 4px;\n  }\n</style>\n"],"mappings":"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"}]}