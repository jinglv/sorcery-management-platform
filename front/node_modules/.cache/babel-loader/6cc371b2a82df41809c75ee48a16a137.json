{"remainingRequest":"/Users/lvjing/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js!/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvjing/sorcery-management-platform/front/src/components/Cases/demandDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvjing/sorcery-management-platform/front/src/components/Cases/demandDialog.vue","mtime":1701401849650},{"path":"/Users/lvjing/sorcery-management-platform/front/babel.config.js","mtime":1689577131945},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1679466716417},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js","mtime":1679466716072},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1679466716417},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js","mtime":1679466707590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGNyZWF0ZUNhc2VTdWl0ZSB9IGZyb20gJ0AvYXBpL2Nhc2VzJzsKaW1wb3J0IEUgZnJvbSAnd2FuZ2VkaXRvcic7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRGVtYW5kRGlhbG9nJywKICBjb21wb25lbnRzOiB7fSwKICBwcm9wczoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dUaXRsZTogJ+WIm+W7uumcgOaxgicsCiAgICAgIGRpYWxvZ1Zpc2libGU6IHRydWUsCiAgICAgIGRlbWFuZEZvcm06IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICB2ZXJzaW9uX251bWJlcjogJycsCiAgICAgICAgcmVxdWlyZW1lbnRzOiAnJywKICAgICAgICByZXF1aXJlbWVudHNfdXBsb2FkX2ZpbGU6IFtdLAogICAgICAgIGRlbWFuZF9hbmFseXNpczogJycsCiAgICAgICAgZGVtYW5kX2FuYWx5c2lzX3VwbG9hZF9maWxlOiBbXSwKICAgICAgICBkZXNjcmliZTogJycKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6ZyA5rGC5ZCN56ewJywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHZlcnNpb25fbnVtYmVyOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWl6ZyA5rGC54mI5pys5Y+3JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIHJlcXVpcmVtZW50czogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+ivt+Whq+WGmemcgOaxgicsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XSwKICAgICAgICBkZW1hbmRfYW5hbHlzaXM6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7floavlhpnpnIDmsYLliIbmnpAnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgZmlsZUxpc3Q6IFtdLAogICAgICBpbWFnZVVybDogJycsCiAgICAgIGltYWdlVmlzaWJsZTogZmFsc2UsCiAgICAgIGRpc2FibGVkOiBmYWxzZSwKICAgICAgZWRpdG9yX3JlcXVpcmVtZW50czogbnVsbCwKICAgICAgZWRpdG9yX2RlbWFuZDogbnVsbAogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgLy8g57uE5Lu25omT5byA5YiZ6L+b6KGM5Yqg6L29CiAgICAvLyDkvb/nlKjml7bpkp/lh73mlbDov5vooYzlu7bov5/vvIzlkKbliJnojrflj5bkuI3liLDlhYPntKAgLS0g562J5YWD57Sg5Yqg6L295a6M5oiQ5ZCO5YaN6L+b6KGM5Yib5bu6RQogICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5lZGl0b3JfcmVxdWlyZW1lbnRzID0gbmV3IEUoJyNlZGl0b3JfcmVxdWlyZW1lbnRzJyk7CiAgICAgIC8vIOWIm+W7ugogICAgICBfdGhpcy5lZGl0b3JfcmVxdWlyZW1lbnRzLmNyZWF0ZSgpOwogICAgICBfdGhpcy5lZGl0b3JfZGVtYW5kID0gbmV3IEUoJyNlZGl0b3JfZGVtYW5kJyk7CiAgICAgIC8vIOWIm+W7ugogICAgICBfdGhpcy5lZGl0b3JfZGVtYW5kLmNyZWF0ZSgpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbG9zZURpYWxvZzogZnVuY3Rpb24gY2xvc2VEaWFsb2coKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NhbmNlbCcsIHt9KTsKICAgICAgLy8g5YWz6Zet5by556qX77yM6ZSA5q+BRQogICAgICB0aGlzLmVkaXRvcl9yZXF1aXJlbWVudHMuZGVzdHJveSgpOwogICAgICB0aGlzLmVkaXRvcl9yZXF1aXJlbWVudHMgPSBudWxsOwogICAgICB0aGlzLmVkaXRvcl9kZW1hbmQuZGVzdHJveSgpOwogICAgICB0aGlzLmVkaXRvcl9kZW1hbmQgPSBudWxsOwogICAgfSwKICAgIC8vIOWIm+W7uuaooeWdlwogICAgc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybShmb3JtTmFtZSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgY29uc29sZS5pbmZvKCfor7fmsYLlj4LmlbDvvJonLCB0aGlzLmNhc2VTdWl0ZUZvcm0pOwogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGNyZWF0ZUNhc2VTdWl0ZShfdGhpczIuY2FzZVN1aXRlRm9ybSkudGhlbihmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgICBpZiAocmVzcC5zdWNjZXNzID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgX3RoaXMyLmNsb3NlRGlhbG9nKCk7CiAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MoJ+WIm+W7uuaIkOWKn++8gScpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcihyZXNwLmVycm9yLm1lc3NhZ2UpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["createCaseSuite","E","name","components","props","data","showTitle","dialogVisible","demandForm","version_number","requirements","requirements_upload_file","demand_analysis","demand_analysis_upload_file","describe","rules","required","message","trigger","fileList","imageUrl","imageVisible","disabled","editor_requirements","editor_demand","created","_this","$nextTick","create","methods","closeDialog","$emit","destroy","submitForm","formName","_this2","console","info","caseSuiteForm","$refs","validate","valid","then","resp","success","$message","error"],"sources":["src/components/Cases/demandDialog.vue"],"sourcesContent":["<template>\n  <el-dialog\n    :title=\"showTitle\"\n    :visible.sync=\"dialogVisible\"\n    width=\"60%\"\n    :before-close=\"closeDialog\"\n  >\n    <el-form\n      ref=\"ruleForm\"\n      :model=\"demandForm\"\n      :rules=\"rules\"\n      label-width=\"100px\"\n      class=\"demo-ruleForm\"\n    >\n      <el-form-item label=\"需求名称\" prop=\"name\">\n        <el-input v-model=\"demandForm.name\" />\n      </el-form-item>\n      <el-form-item label=\"版本号\" prop=\"version_number\">\n        <el-input v-model=\"demandForm.version_number\" />\n      </el-form-item>\n      <el-form-item label=\"需求\" prop=\"requirements\">\n        <div id=\"editor_requirements\" />\n      </el-form-item>\n      <el-form-item label=\"需求分析\" prop=\"demand_analysis\">\n        <div id=\"editor_demand\" />\n      </el-form-item>\n      <el-form-item label=\"描述\" prop=\"describe\">\n        <el-input v-model=\"demandForm.describe\" />\n      </el-form-item>\n      <el-form-item style=\"text-align: right\">\n        <el-button @click=\"closeDialog\">取消</el-button>\n        <el-button\n          type=\"primary\"\n          @click=\"submitForm('ruleForm')\"\n        >确定</el-button>\n      </el-form-item>\n    </el-form>\n  </el-dialog>\n</template>\n\n<script>\nimport { createCaseSuite } from '@/api/cases'\nimport E from 'wangeditor'\n\nexport default {\n  name: 'DemandDialog',\n  components: {},\n  props: {\n  },\n  data() {\n    return {\n      showTitle: '创建需求',\n      dialogVisible: true,\n      demandForm: {\n        name: '',\n        version_number: '',\n        requirements: '',\n        requirements_upload_file: [],\n        demand_analysis: '',\n        demand_analysis_upload_file: [],\n        describe: ''\n      },\n      rules: {\n        name: [\n          { required: true, message: '请输入需求名称', trigger: 'blur' }\n        ],\n        version_number: [\n          { required: true, message: '请输入需求版本号', trigger: 'blur' }\n        ],\n        requirements: [\n          { required: true, message: '请填写需求', trigger: 'blur' }\n        ],\n        demand_analysis: [\n          { required: true, message: '请填写需求分析', trigger: 'blur' }\n        ]\n      },\n      fileList: [],\n      imageUrl: '',\n      imageVisible: false,\n      disabled: false,\n      editor_requirements: null,\n      editor_demand: null\n    }\n  },\n  created() {\n    // 组件打开则进行加载\n    // 使用时钟函数进行延迟，否则获取不到元素 -- 等元素加载完成后再进行创建E\n    this.$nextTick(() => {\n      this.editor_requirements = new E('#editor_requirements')\n      // 创建\n      this.editor_requirements.create()\n      this.editor_demand = new E('#editor_demand')\n      // 创建\n      this.editor_demand.create()\n    })\n  },\n  methods: {\n    closeDialog() {\n      this.$emit('cancel', {})\n      // 关闭弹窗，销毁E\n      this.editor_requirements.destroy()\n      this.editor_requirements = null\n      this.editor_demand.destroy()\n      this.editor_demand = null\n    },\n    // 创建模块\n    submitForm(formName) {\n      console.info('请求参数：', this.caseSuiteForm)\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          createCaseSuite(this.caseSuiteForm).then((resp) => {\n            if (resp.success === true) {\n              this.closeDialog()\n              this.$message.success('创建成功！')\n            } else {\n              this.$message.error(resp.error.message)\n            }\n          })\n        }\n      })\n    }\n  }\n}\n</script>\n<style scoped>\n#image {\n  text-align: left;\n}\n\n#editor_requirements {\n  border: 1px solid #ccc;\n  z-index: 100; /* 按需定义 */\n}\n\n#editor_demand {\n  border: 1px solid #ccc;\n  z-index: 100; /* 按需定义 */\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA,SAAAA,eAAA;AACA,OAAAC,CAAA;AAEA;EACAC,IAAA;EACAC,UAAA;EACAC,KAAA,GACA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,SAAA;MACAC,aAAA;MACAC,UAAA;QACAN,IAAA;QACAO,cAAA;QACAC,YAAA;QACAC,wBAAA;QACAC,eAAA;QACAC,2BAAA;QACAC,QAAA;MACA;MACAC,KAAA;QACAb,IAAA,GACA;UAAAc,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAT,cAAA,GACA;UAAAO,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAR,YAAA,GACA;UAAAM,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAN,eAAA,GACA;UAAAI,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MAEA;MACAC,QAAA;MACAC,QAAA;MACAC,YAAA;MACAC,QAAA;MACAC,mBAAA;MACAC,aAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IAAA,IAAAC,KAAA;IACA;IACA;IACA,KAAAC,SAAA;MACAD,KAAA,CAAAH,mBAAA,OAAAtB,CAAA;MACA;MACAyB,KAAA,CAAAH,mBAAA,CAAAK,MAAA;MACAF,KAAA,CAAAF,aAAA,OAAAvB,CAAA;MACA;MACAyB,KAAA,CAAAF,aAAA,CAAAI,MAAA;IACA;EACA;EACAC,OAAA;IACAC,WAAA,WAAAA,YAAA;MACA,KAAAC,KAAA;MACA;MACA,KAAAR,mBAAA,CAAAS,OAAA;MACA,KAAAT,mBAAA;MACA,KAAAC,aAAA,CAAAQ,OAAA;MACA,KAAAR,aAAA;IACA;IACA;IACAS,UAAA,WAAAA,WAAAC,QAAA;MAAA,IAAAC,MAAA;MACAC,OAAA,CAAAC,IAAA,eAAAC,aAAA;MACA,KAAAC,KAAA,CAAAL,QAAA,EAAAM,QAAA,WAAAC,KAAA;QACA,IAAAA,KAAA;UACAzC,eAAA,CAAAmC,MAAA,CAAAG,aAAA,EAAAI,IAAA,WAAAC,IAAA;YACA,IAAAA,IAAA,CAAAC,OAAA;cACAT,MAAA,CAAAL,WAAA;cACAK,MAAA,CAAAU,QAAA,CAAAD,OAAA;YACA;cACAT,MAAA,CAAAU,QAAA,CAAAC,KAAA,CAAAH,IAAA,CAAAG,KAAA,CAAA7B,OAAA;YACA;UACA;QACA;MACA;IACA;EACA;AACA"}]}