{"remainingRequest":"/Users/jeanlv/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js!/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jeanlv/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jeanlv/sorcery-management-platform/front/src/components/HttpRunner/createProjectDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jeanlv/sorcery-management-platform/front/src/components/HttpRunner/createProjectDialog.vue","mtime":1698032217390},{"path":"/Users/jeanlv/sorcery-management-platform/front/babel.config.js","mtime":1698032213828},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1698032215054},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js","mtime":1698032214874},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1698032215054},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js","mtime":1698032217227}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2plYW5sdi9zb3JjZXJ5LW1hbmFnZW1lbnQtcGxhdGZvcm0vZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvamVhbmx2L3NvcmNlcnktbWFuYWdlbWVudC1wbGF0Zm9ybS9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHByb2plY3RMaXN0IGFzIF9wcm9qZWN0TGlzdCB9IGZyb20gJ0AvYXBpL3Byb2plY3RzJzsKaW1wb3J0IHsgY3JlYXRlSHR0cFJ1bm5lclByb2plY3QgfSBmcm9tICdAL2FwaS9odHRwcnVubmVyJzsKZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICB0aXRsZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93VGl0bGU6ICcnLAogICAgICBkaWFsb2dWaXNpYmxlOiB0cnVlLAogICAgICBodHRwUnVubmVyUHJvamVjdEZvcm06IHsKICAgICAgICBwcm9qZWN0X2lkOiAwLAogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGRlc2NyaWJlOiAnJywKICAgICAgICBjb2RlOiAnJywKICAgICAgICBlbnZfY29kZTogJycKICAgICAgfSwKICAgICAgcnVsZXM6IHsKICAgICAgICBuYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6K+36L6T5YWlSHR0cFJ1bm5lcuW3peeoi+WQjeensCcsCiAgICAgICAgICB0cmlnZ2VyOiAnYmx1cicKICAgICAgICB9XQogICAgICB9LAogICAgICBwcm9qZWN0Rm9ybTogewogICAgICAgIG5hbWU6ICcnCiAgICAgIH0sCiAgICAgIHJlcTogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgc2l6ZTogMTAKICAgICAgfSwKICAgICAgLy8g5YiG6aG16aG15pWwCiAgICAgIHRvdGFsOiA2LAogICAgICBwcm9qZWN0T3B0aW9uOiBbXSwKICAgICAgc2F2ZUZsYWc6IGZhbHNlCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMucHJvamVjdExpc3QoKTsKICAgIGlmICh0aGlzLnRpdGxlID09PSAnY3JlYXRlUHJvamVjdCcpIHsKICAgICAgdGhpcy5zaG93VGl0bGUgPSAn5Yib5bu6SFRUcFJ1bm5lcumhueebric7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDliJ3lp4vljJbpobnnm67liJfooagKICAgIHByb2plY3RMaXN0OiBmdW5jdGlvbiBwcm9qZWN0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovX3JlZ2VuZXJhdG9yUnVudGltZSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzcCwgaTsKICAgICAgICByZXR1cm4gX3JlZ2VuZXJhdG9yUnVudGltZSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3Byb2plY3RMaXN0KF90aGlzLnJlcSwgSlNPTi5zdHJpbmdpZnkoX3RoaXMucHJvamVjdEZvcm0pKTsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGlmIChyZXNwLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgIF90aGlzLnByb2plY3RWYWx1ZSA9IHJlc3AuaXRlbXNbMF0uaWQ7CiAgICAgICAgICAgICAgICBfdGhpcy5wcm9qZWN0TGFiZWwgPSByZXNwLml0ZW1zWzBdLm5hbWU7CiAgICAgICAgICAgICAgICBfdGhpcy5odHRwUnVubmVyUHJvamVjdEZvcm0ucHJvamVjdF9pZCA9IHJlc3AuaXRlbXNbMF0uaWQ7CiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcmVzcC5pdGVtcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICBfdGhpcy5wcm9qZWN0T3B0aW9uLnB1c2goewogICAgICAgICAgICAgICAgICAgIHZhbHVlOiByZXNwLml0ZW1zW2ldLmlkLAogICAgICAgICAgICAgICAgICAgIGxhYmVsOiByZXNwLml0ZW1zW2ldLm5hbWUKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKCfmn6Xor6LlpLHotKXvvIEnKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDkv67mlLnpgInkuK3pobnnm64KICAgIGNoYW5nZVByb2plY3Q6IGZ1bmN0aW9uIGNoYW5nZVByb2plY3QodmFsdWUpIHsKICAgICAgdGhpcy5wcm9qZWN0VmFsdWUgPSB2YWx1ZTsKICAgICAgdGhpcy5wcm9qZWN0TGFiZWwgPSB0aGlzLnByb2plY3RPcHRpb24uZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnZhbHVlID09PSB2YWx1ZTsKICAgICAgfSkubGFiZWw7CiAgICB9LAogICAgY2xvc2VEaWFsb2c6IGZ1bmN0aW9uIGNsb3NlRGlhbG9nKCkgewogICAgICB0aGlzLiRlbWl0KCdjYW5jZWwnLCB7fSk7CiAgICB9LAogICAgLy8g5Yib5bu66aG555uuCiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKGZvcm1OYW1lKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGNyZWF0ZUh0dHBSdW5uZXJQcm9qZWN0KF90aGlzMi5odHRwUnVubmVyUHJvamVjdEZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgICAgaWYgKHJlc3Auc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgIC8vIOWIm+W7uuaIkOWKn++8jOWFs+mXreW8ueeqlwogICAgICAgICAgICAgIF90aGlzMi5jbG9zZURpYWxvZygpOwogICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5zdWNjZXNzKCfpobnnm67liJvlu7rmiJDlip/vvIEnKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UuZXJyb3IocmVzcC5lcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["projectList","createHttpRunnerProject","props","title","type","String","default","data","showTitle","dialogVisible","httpRunnerProjectForm","project_id","name","describe","code","env_code","rules","required","message","trigger","projectForm","req","page","size","total","projectOption","saveFlag","mounted","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resp","i","wrap","_callee$","_context","prev","next","JSON","stringify","sent","success","projectValue","items","id","projectLabel","length","push","value","label","$message","error","stop","changeProject","find","item","closeDialog","$emit","submitForm","formName","_this2","$refs","validate","valid","then"],"sources":["src/components/HttpRunner/createProjectDialog.vue"],"sourcesContent":["<template>\n  <el-dialog\n    :title=\"showTitle\"\n    :visible.sync=\"dialogVisible\"\n    width=\"1000px\"\n    :before-close=\"closeDialog\"\n  >\n    <el-form\n      ref=\"ruleForm\"\n      :rules=\"rules\"\n      :model=\"httpRunnerProjectForm\"\n      label-width=\"200px\"\n      class=\"demo-ruleForm\"\n    >\n      <el-form-item label=\"项目名称\" prop=\"project_id\">\n        <el-select\n          v-model=\"httpRunnerProjectForm.project_id\"\n          style=\"width: 760px;\"\n          @change=\"changeProject\"\n        >\n          <el-option\n            v-for=\"item in projectOption\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          />\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"HttpRunner工程名称\" prop=\"name\">\n        <el-input v-model=\"httpRunnerProjectForm.name\" />\n      </el-form-item>\n      <el-form-item label=\"描述\" prop=\"describe\">\n        <el-input v-model=\"httpRunnerProjectForm.describe\" />\n      </el-form-item>\n      <el-form-item style=\"text-align: right\">\n        <div class=\"dialog-footer\">\n          <el-button @click=\"closeDialog()\">取消</el-button>\n          <el-button\n            type=\"primary\"\n            :disabled=\"saveFlag\"\n            @click=\"submitForm('ruleForm')\"\n          >保存</el-button>\n        </div>\n      </el-form-item>\n    </el-form>\n  </el-dialog>\n</template>\n\n<script>\nimport { projectList } from '@/api/projects'\nimport { createHttpRunnerProject } from '@/api/httprunner'\n\nexport default {\n  props: {\n    title: {\n      type: String,\n      default: null\n    }\n  },\n  data() {\n    return {\n      showTitle: '',\n      dialogVisible: true,\n      httpRunnerProjectForm: {\n        project_id: 0,\n        name: '',\n        describe: '',\n        code: '',\n        env_code: ''\n      },\n      rules: {\n        name: [\n          { required: true, message: '请输入HttpRunner工程名称', trigger: 'blur' }\n        ]\n      },\n      projectForm: {\n        name: ''\n      },\n      req: {\n        page: 1,\n        size: 10\n      },\n      // 分页页数\n      total: 6,\n      projectOption: [],\n      saveFlag: false\n    }\n  },\n  mounted() {\n    this.projectList()\n    if (this.title === 'createProject') {\n      this.showTitle = '创建HTTpRunner项目'\n    }\n  },\n  methods: {\n    // 初始化项目列表\n    async projectList() {\n      const resp = await projectList(this.req, JSON.stringify(this.projectForm))\n      if (resp.success === true) {\n        this.projectValue = resp.items[0].id\n        this.projectLabel = resp.items[0].name\n        this.httpRunnerProjectForm.project_id = resp.items[0].id\n        for (let i = 0; i < resp.items.length; i++) {\n          this.projectOption.push({\n            value: resp.items[i].id,\n            label: resp.items[i].name\n          })\n        }\n      } else {\n        this.$message.error('查询失败！')\n      }\n    },\n    // 修改选中项目\n    changeProject(value) {\n      this.projectValue = value\n      this.projectLabel = this.projectOption.find(\n        (item) => item.value === value\n      ).label\n    },\n    closeDialog() {\n      this.$emit('cancel', {})\n    },\n    // 创建项目\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          createHttpRunnerProject(this.httpRunnerProjectForm).then((resp) => {\n            if (resp.success === true) {\n              // 创建成功，关闭弹窗\n              this.closeDialog()\n              this.$message.success('项目创建成功！')\n            } else {\n              this.$message.error(resp.error.message)\n            }\n          })\n        } else {\n          return false\n        }\n      })\n    }\n  }\n}\n</script>\n<style scoped>\n#image {\n  text-align: left;\n}\n</style>\n"],"mappings":"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"}]}