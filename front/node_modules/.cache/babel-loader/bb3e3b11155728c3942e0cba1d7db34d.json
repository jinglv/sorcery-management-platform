{"remainingRequest":"/Users/jeanlv/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js!/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jeanlv/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jeanlv/sorcery-management-platform/front/src/components/Cases/demandDetailDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jeanlv/sorcery-management-platform/front/src/components/Cases/demandDetailDialog.vue","mtime":1702437064858},{"path":"/Users/jeanlv/sorcery-management-platform/front/babel.config.js","mtime":1698032213828},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1698032215054},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js","mtime":1698032214874},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1698032215054},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js","mtime":1698032217227}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2plYW5sdi9zb3JjZXJ5LW1hbmFnZW1lbnQtcGxhdGZvcm0vZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvamVhbmx2L3NvcmNlcnktbWFuYWdlbWVudC1wbGF0Zm9ybS9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHsgZ2V0RGVtYW5kRGV0YWlsIGFzIF9nZXREZW1hbmREZXRhaWwgfSBmcm9tICdAL2FwaS9jYXNlcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRGVtYW5kRGV0YWlsRGlhbG9nJywKICBjb21wb25lbnRzOiB7fSwKICBmaWx0ZXJzOiB7CiAgICByZXF1aXJlbWVudHNUeXBlOiBmdW5jdGlvbiByZXF1aXJlbWVudHNUeXBlKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSA9PT0gJ2J1c2luZXNzJykgewogICAgICAgIHJldHVybiAn5Lia5Yqh57G76ZyA5rGCJzsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ2ltcHJvdmUnKSB7CiAgICAgICAgcmV0dXJuICdCdWfmlLnov5vnsbvpnIDmsYInOwogICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAndGVjaG5pY2FsJykgewogICAgICAgIHJldHVybiAn5oqA5pyv57G76ZyA5rGCJzsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJ+acquefpeexu+Weiyc7CiAgICAgIH0KICAgIH0KICB9LAogIHByb3BzOiB7CiAgICB0aXRsZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBkaWQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd1RpdGxlOiAnJywKICAgICAgZGlhbG9nVmlzaWJsZTogdHJ1ZSwKICAgICAgZGVtYW5kRGV0YWlsRm9ybTogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHByb2plY3RfbmFtZTogJycsCiAgICAgICAgdmVyc2lvbl9udW1iZXI6ICcnLAogICAgICAgIHJlcXVpcmVtZW50c190eXBlOiAnJywKICAgICAgICByZXF1aXJlbWVudHM6ICcnLAogICAgICAgIHJlcXVpcmVtZW50c191cGxvYWRfZmlsZTogW10sCiAgICAgICAgZGVtYW5kX2FuYWx5c2lzOiAnJywKICAgICAgICBkZXNjcmliZTogJycKICAgICAgfSwKICAgICAgZmlsZUxpc3Q6IFtdCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuc2hvd1RpdGxlID0gdGhpcy50aXRsZTsKICAgIHRoaXMuZ2V0RGVtYW5kRGV0YWlsKCk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgbWV0aG9kczogewogICAgY2xvc2VEaWFsb2c6IGZ1bmN0aW9uIGNsb3NlRGlhbG9nKCkgewogICAgICB0aGlzLiRlbWl0KCdjYW5jZWwnLCB7fSk7CiAgICB9LAogICAgZ2V0RGVtYW5kRGV0YWlsOiBmdW5jdGlvbiBnZXREZW1hbmREZXRhaWwoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3AsIGZpbGVzLCBpLCBmaWxlSW5mb3M7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF9nZXREZW1hbmREZXRhaWwoX3RoaXMuZGlkKTsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGlmIChyZXNwLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgIF90aGlzLmRlbWFuZERldGFpbEZvcm0gPSByZXNwLnJlc3VsdDsKICAgICAgICAgICAgICAgIGZpbGVzID0gSlNPTi5wYXJzZShyZXNwLnJlc3VsdC5yZXF1aXJlbWVudHNfdXBsb2FkX2ZpbGUucmVwbGFjZSgvJy9nLCAnIicpKTsKICAgICAgICAgICAgICAgIGlmIChmaWxlcy5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICAgIGZpbGVJbmZvcyA9IHsKICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZpbGVzW2ldLAogICAgICAgICAgICAgICAgICAgICAgdXJsOiAnL3N0YXRpYy9maWxlLycgKyBmaWxlc1tpXQogICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuZmlsZUxpc3QucHVzaChmaWxlSW5mb3MpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpcy5kZW1hbmREZXRhaWxGb3JtLnJlcXVpcmVtZW50c191cGxvYWRfZmlsZSA9IFtdOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5p+l6K+i5oiQ5YqfJyk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKHJlc3AuZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["getDemandDetail","name","components","filters","requirementsType","value","props","title","type","String","default","did","Number","data","showTitle","dialogVisible","demandDetailForm","project_name","version_number","requirements_type","requirements","requirements_upload_file","demand_analysis","describe","fileList","created","mounted","methods","closeDialog","$emit","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resp","files","i","fileInfos","wrap","_callee$","_context","prev","next","sent","success","result","JSON","parse","replace","length","url","push","$message","error","message","stop"],"sources":["src/components/Cases/demandDetailDialog.vue"],"sourcesContent":["<template>\n  <el-dialog\n    :title=\"showTitle\"\n    :visible.sync=\"dialogVisible\"\n    width=\"70%\"\n    :before-close=\"closeDialog\"\n    :append-to-body=\"true\"\n    :close-on-click-modal=\"false\"\n  >\n    <el-form\n      ref=\"ruleForm\"\n      :model=\"demandDetailForm\"\n      label-width=\"100px\"\n      class=\"demo-ruleForm\"\n    >\n      <el-col :span=\"8\">\n        <el-form-item label=\"需求名称：\" prop=\"name\">{{ demandDetailForm.name }}</el-form-item>\n      </el-col>\n      <el-col :span=\"8\">\n        <el-form-item label=\"项目：\" prop=\"project_name\">{{ demandDetailForm.project_name }}</el-form-item>\n      </el-col>\n      <el-col :span=\"8\">\n        <el-form-item label=\"需求类型：\" prop=\"requirements_type\">\n          {{ demandDetailForm.requirements_type | requirementsType }}\n        </el-form-item>\n      </el-col>\n      <el-col :span=\"8\">\n        <el-form-item label=\"需求连接：\" prop=\"requirements\">{{ demandDetailForm.requirements }}</el-form-item>\n      </el-col>\n      <el-form-item label=\"需求文件：\" prop=\"requirements_upload_file\">\n        <div v-for=\"(file, index) in fileList\" :key=\"index\">\n          <el-link :href=\"file.url\" target=\"_blank\">{{ file.name }}</el-link>\n        </div>\n      </el-form-item>\n      <el-form-item label=\"需求分析：\" prop=\"requirements\">\n        <div class=\"w-e-text\" style=\"height: 400px; overflow-y: auto;\" v-html=\"demandDetailForm.demand_analysis\" />\n      </el-form-item>\n      <el-form-item label=\"描述：\" prop=\"describe\">{{ demandDetailForm.describe }}</el-form-item>\n      <el-form-item style=\"text-align: right\">\n        <el-button @click=\"closeDialog\">返回</el-button>\n      </el-form-item>\n    </el-form>\n  </el-dialog>\n</template>\n\n<script>\nimport { getDemandDetail } from '@/api/cases'\n\nexport default {\n  name: 'DemandDetailDialog',\n  components: {},\n  filters: {\n    requirementsType(value) {\n      if (value === 'business') {\n        return '业务类需求'\n      } else if (value === 'improve') {\n        return 'Bug改进类需求'\n      } else if (value === 'technical') {\n        return '技术类需求'\n      } else {\n        return '未知类型'\n      }\n    }\n  },\n  props: {\n    title: {\n      type: String,\n      default: null\n    },\n    did: {\n      type: Number,\n      default: 1\n    }\n  },\n  data() {\n    return {\n      showTitle: '',\n      dialogVisible: true,\n      demandDetailForm: {\n        name: '',\n        project_name: '',\n        version_number: '',\n        requirements_type: '',\n        requirements: '',\n        requirements_upload_file: [],\n        demand_analysis: '',\n        describe: ''\n      },\n      fileList: []\n    }\n  },\n  created() {\n    this.showTitle = this.title\n    this.getDemandDetail()\n  },\n  mounted() {\n  },\n  methods: {\n    closeDialog() {\n      this.$emit('cancel', {})\n    },\n    async getDemandDetail() {\n      const resp = await getDemandDetail(this.did)\n      if (resp.success === true) {\n        this.demandDetailForm = resp.result\n        const files = JSON.parse(resp.result.requirements_upload_file.replace(/'/g, '\"'))\n        if (files.length > 0) {\n          for (let i = 0; i < files.length; i++) {\n            const fileInfos = {\n              name: files[i],\n              url: '/static/file/' + files[i]\n            }\n            this.fileList.push(fileInfos)\n          }\n        } else {\n          this.demandDetailForm.requirements_upload_file = []\n        }\n        this.$message.success('查询成功')\n      } else {\n        this.$message.error(resp.error.message)\n      }\n    }\n  }\n}\n</script>\n<style scoped>\n#image {\n  text-align: left;\n}\n\n#editor_requirements {\n  border: 1px solid #ccc;\n  z-index: 100; /* 按需定义 */\n}\n\n#editor_demand {\n  border: 1px solid #ccc;\n  z-index: 100; /* 按需定义 */\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA,SAAAA,eAAA,IAAAA,gBAAA;AAEA;EACAC,IAAA;EACAC,UAAA;EACAC,OAAA;IACAC,gBAAA,WAAAA,iBAAAC,KAAA;MACA,IAAAA,KAAA;QACA;MACA,WAAAA,KAAA;QACA;MACA,WAAAA,KAAA;QACA;MACA;QACA;MACA;IACA;EACA;EACAC,KAAA;IACAC,KAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IACAC,GAAA;MACAH,IAAA,EAAAI,MAAA;MACAF,OAAA;IACA;EACA;EACAG,IAAA,WAAAA,KAAA;IACA;MACAC,SAAA;MACAC,aAAA;MACAC,gBAAA;QACAf,IAAA;QACAgB,YAAA;QACAC,cAAA;QACAC,iBAAA;QACAC,YAAA;QACAC,wBAAA;QACAC,eAAA;QACAC,QAAA;MACA;MACAC,QAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAX,SAAA,QAAAP,KAAA;IACA,KAAAP,eAAA;EACA;EACA0B,OAAA,WAAAA,QAAA,GACA;EACAC,OAAA;IACAC,WAAA,WAAAA,YAAA;MACA,KAAAC,KAAA;IACA;IACA7B,eAAA,WAAAA,gBAAA;MAAA,IAAA8B,KAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,IAAA,EAAAC,KAAA,EAAAC,CAAA,EAAAC,SAAA;QAAA,OAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OACA3C,gBAAA,CAAA8B,KAAA,CAAAnB,GAAA;YAAA;cAAAwB,IAAA,GAAAM,QAAA,CAAAG,IAAA;cACA,IAAAT,IAAA,CAAAU,OAAA;gBACAf,KAAA,CAAAd,gBAAA,GAAAmB,IAAA,CAAAW,MAAA;gBACAV,KAAA,GAAAW,IAAA,CAAAC,KAAA,CAAAb,IAAA,CAAAW,MAAA,CAAAzB,wBAAA,CAAA4B,OAAA;gBACA,IAAAb,KAAA,CAAAc,MAAA;kBACA,KAAAb,CAAA,MAAAA,CAAA,GAAAD,KAAA,CAAAc,MAAA,EAAAb,CAAA;oBACAC,SAAA;sBACArC,IAAA,EAAAmC,KAAA,CAAAC,CAAA;sBACAc,GAAA,oBAAAf,KAAA,CAAAC,CAAA;oBACA;oBACAP,KAAA,CAAAN,QAAA,CAAA4B,IAAA,CAAAd,SAAA;kBACA;gBACA;kBACAR,KAAA,CAAAd,gBAAA,CAAAK,wBAAA;gBACA;gBACAS,KAAA,CAAAuB,QAAA,CAAAR,OAAA;cACA;gBACAf,KAAA,CAAAuB,QAAA,CAAAC,KAAA,CAAAnB,IAAA,CAAAmB,KAAA,CAAAC,OAAA;cACA;YAAA;YAAA;cAAA,OAAAd,QAAA,CAAAe,IAAA;UAAA;QAAA,GAAAtB,OAAA;MAAA;IACA;EACA;AACA"}]}