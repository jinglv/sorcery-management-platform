{"remainingRequest":"/Users/lvjing/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js!/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvjing/sorcery-management-platform/front/src/views/cases/demand/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvjing/sorcery-management-platform/front/src/views/cases/demand/index.vue","mtime":1701510554733},{"path":"/Users/lvjing/sorcery-management-platform/front/babel.config.js","mtime":1689577131945},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1679466716417},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js","mtime":1679466716072},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1679466716417},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js","mtime":1679466707590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2x2amluZy9zb3JjZXJ5LW1hbmFnZW1lbnQtcGxhdGZvcm0vZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbHZqaW5nL3NvcmNlcnktbWFuYWdlbWVudC1wbGF0Zm9ybS9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldERlbWFuZExpc3QgYXMgX2dldERlbWFuZExpc3QsIGRlbGV0ZURlbWFuZCB9IGZyb20gJ0AvYXBpL2Nhc2VzJzsKaW1wb3J0IERlbWFuZERpYWxvZyBmcm9tICdAL2NvbXBvbmVudHMvQ2FzZXMvZGVtYW5kRGlhbG9nJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdEZW1hbmRNYW5hZ2UnLAogIGNvbXBvbmVudHM6IHsKICAgIERlbWFuZERpYWxvZzogRGVtYW5kRGlhbG9nCiAgfSwKICBmaWx0ZXJzOiB7CiAgICByZXF1aXJlbWVudHNUeXBlOiBmdW5jdGlvbiByZXF1aXJlbWVudHNUeXBlKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSA9PT0gJ2J1c2luZXNzJykgewogICAgICAgIHJldHVybiAn5Lia5Yqh57G76ZyA5rGCJzsKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gJ2ltcHJvdmUnKSB7CiAgICAgICAgcmV0dXJuICdCdWfmlLnov5vnsbvpnIDmsYInOwogICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAndGVjaG5pY2FsJykgewogICAgICAgIHJldHVybiAn5oqA5pyv57G76ZyA5rGCJzsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJ+acquefpeexu+Weiyc7CiAgICAgIH0KICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkZW1hbmRUaXRsZTogJycsCiAgICAgIGRlbWFuZERhdGU6IFtdLAogICAgICBkaWFsb2dGbGFnOiBmYWxzZSwKICAgICAgZGVtYW5kU2VhcmNoRnJvbTogewogICAgICAgICduYW1lJzogJycsCiAgICAgICAgJ3ZlcnNpb25fbnVtYmVyJzogJycsCiAgICAgICAgJ3JlcXVpcmVtZW50c190eXBlJzogJycsCiAgICAgICAgJ2NyZWF0ZV90aW1lJzogJycKICAgICAgfSwKICAgICAgZGVtYW5kVmFsdWU6ICcnLAogICAgICBkZW1hbmRMYWJlbDogJycsCiAgICAgIGRlbWFuZE9wdGlvbjogW3sKICAgICAgICB2YWx1ZTogJ2J1c2luZXNzJywKICAgICAgICBsYWJlbDogJ+S4muWKoeexu+mcgOaxgicKICAgICAgfSwgewogICAgICAgIHZhbHVlOiAnaW1wcm92ZScsCiAgICAgICAgbGFiZWw6ICdCdWfmlLnov5vnsbvpnIDmsYInCiAgICAgIH0sIHsKICAgICAgICB2YWx1ZTogJ3RlY2huaWNhbCcsCiAgICAgICAgbGFiZWw6ICfmioDmnK/nsbvpnIDmsYInCiAgICAgIH1dLAogICAgICBjdXJyZW50RGVtYW5kSWQ6IDAsCiAgICAgIHJlcTogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgc2l6ZTogMTAKICAgICAgfSwKICAgICAgLy8g5YiG6aG16aG15pWwCiAgICAgIHRvdGFsOiAxMAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldERlbWFuZExpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOWIm+W7uumcgOaxggogICAgY3JlYXRlRGVtYW5kOiBmdW5jdGlvbiBjcmVhdGVEZW1hbmQoKSB7CiAgICAgIHRoaXMuZGlhbG9nRmxhZyA9IHRydWU7CiAgICAgIHRoaXMuZGVtYW5kVGl0bGUgPSAn5Yib5bu66ZyA5rGCJzsKICAgIH0sCiAgICBkZW1hbmRUeXBlOiBmdW5jdGlvbiBkZW1hbmRUeXBlKHZhbHVlKSB7CiAgICAgIHRoaXMuZGVtYW5kVmFsdWUgPSB2YWx1ZTsKICAgICAgdGhpcy5kZW1hbmRMYWJlbCA9IHRoaXMuZGVtYW5kT3B0aW9uLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS52YWx1ZSA9PT0gdmFsdWU7CiAgICAgIH0pLmxhYmVsOwogICAgICB0aGlzLmRlbWFuZFNlYXJjaEZyb20ucmVxdWlyZW1lbnRzX3R5cGUgPSB2YWx1ZTsKICAgIH0sCiAgICAvLyDojrflj5bpnIDmsYLliJfooagKICAgIGdldERlbWFuZExpc3Q6IGZ1bmN0aW9uIGdldERlbWFuZExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3AsIGk7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF9nZXREZW1hbmRMaXN0KF90aGlzLnJlcSwgSlNPTi5zdHJpbmdpZnkoX3RoaXMuZGVtYW5kU2VhcmNoRnJvbSkpOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgaWYgKHJlc3Auc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgX3RoaXMudG90YWwgPSByZXNwLnRvdGFsOwogICAgICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHJlc3AuaXRlbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgcmVzcC5pdGVtc1tpXS5jcmVhdGVfdGltZSA9IF90aGlzLiRtb21lbnQocmVzcC5pdGVtc1tpXS5jcmVhdGVfdGltZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tOnNzJyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBfdGhpcy5kZW1hbmREYXRlID0gcmVzcC5pdGVtczsKICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+afpeivouaIkOWKn++8gScpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcign5p+l6K+i5aSx6LSl77yBJyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5Yib5bu65qih5Z2X5YWz6ZetCiAgICBjbG9zZURpYWxvZzogZnVuY3Rpb24gY2xvc2VEaWFsb2coKSB7CiAgICAgIHRoaXMuZGlhbG9nRmxhZyA9IGZhbHNlOwogICAgICB0aGlzLmdldERlbWFuZExpc3QoKTsKICAgIH0sCiAgICAvLyDot7PovazliLDnrKzlh6DpobUKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGDlvZPliY3pobU6ICR7dmFsfWApCiAgICAgIHRoaXMucmVxLnBhZ2UgPSB2YWw7CiAgICAgIC8vIHRoaXMuaW5pdFByb2plY3RMaXN0KCkKICAgIH0sCiAgICAvLyDmuIXpmaTmkJzntKIKICAgIGNsZWFyU2VhcmNoOiBmdW5jdGlvbiBjbGVhclNlYXJjaCgpIHsKICAgICAgdGhpcy5kZW1hbmRTZWFyY2hGcm9tLm5hbWUgPSAnJzsKICAgICAgdGhpcy5kZW1hbmRTZWFyY2hGcm9tLnZlcnNpb25fbnVtYmVyID0gJyc7CiAgICAgIHRoaXMuZGVtYW5kVmFsdWUgPSAwOwogICAgICBpZiAodGhpcy5kZW1hbmRWYWx1ZSA9PT0gMCkgewogICAgICAgIHRoaXMuZGVtYW5kVmFsdWUgPSAnJzsKICAgICAgfQogICAgICB0aGlzLmdldERlbWFuZExpc3QoKTsKICAgIH0sCiAgICAvLyDmn6XnnIvpnIDmsYLor6bmg4UKICAgIGRlbWFuZFJvd0luZm86IGZ1bmN0aW9uIGRlbWFuZFJvd0luZm8ocm93KSB7CiAgICAgIC8vIOeCueWHu+eUqOS+i++8jOiOt+WPlueUqOS+i2lkCiAgICAgIHRoaXMuY3VycmVudERlbWFuZElkID0gcm93LmlkOwogICAgICB0aGlzLmRpYWxvZ0ZsYWcgPSB0cnVlOwogICAgICB0aGlzLmRlbWFuZFRpdGxlID0gJ+mcgOaxguivpuaDhSc7CiAgICB9LAogICAgLy8g57yW6L6R5rWL6K+V55So5L6LCiAgICBlZGl0RGVtYW5kSW5mbzogZnVuY3Rpb24gZWRpdERlbWFuZEluZm8ocm93KSB7CiAgICAgIC8vIOeCueWHu+eUqOS+i++8jOiOt+WPlueUqOS+i2lkCiAgICAgIHRoaXMuY3VycmVudERlbWFuZElkID0gcm93LmlkOwogICAgICB0aGlzLmRpYWxvZ0ZsYWcgPSB0cnVlOwogICAgICB0aGlzLmRlbWFuZFRpdGxlID0gJ+e8lui+kemcgOaxgic7CiAgICB9LAogICAgLy8gLy8g5Yig6Zmk6ZyA5rGC5L+h5oGvCiAgICAvLyBkZWxldGVEZW1hbmRJbmZvKHJvdykgewogICAgLy8gICAvLyDngrnlh7vpnIDmsYLvvIzojrflj5ZpZAogICAgLy8gICB0aGlzLmN1cnJlbnREZW1hbmRJZCA9IHJvdy5pZAogICAgLy8gICB0aGlzLiRjb25maXJtKCfliKDpmaTmjqXlj6MsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgLy8gICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgIC8vICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgIC8vICAgICB0eXBlOiAnd2FybmluZycsCiAgICAvLyAgICAgY2VudGVyOiB0cnVlCiAgICAvLyAgIH0pLnRoZW4oKCkgPT4gewogICAgLy8gICAgIGNvbnN0IHJlc3AgPSBkZWxldGVEZW1hbmQodGhpcy5jdXJyZW50RGVtYW5kSWQpCiAgICAvLyAgICAgaWYgKHJlc3Auc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgLy8gICAgICAgdGhpcy5nZXREZW1hbmRMaXN0KCkKICAgIC8vICAgICB9IGVsc2UgewogICAgLy8gICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXNwLmVycm9yLm1zZykKICAgIC8vICAgICB9CiAgICAvLyAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAvLyAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAvLyAgICAgICBtZXNzYWdlOiAn5Yig6Zmk5oiQ5YqfIScKICAgIC8vICAgICB9KQogICAgLy8gICB9KS5jYXRjaCgoKSA9PiB7CiAgICAvLyAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAvLyAgICAgICB0eXBlOiAnaW5mbycsCiAgICAvLyAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgLy8gICAgIH0pCiAgICAvLyAgIH0pCiAgICAvLyB9LAogICAgZGVsZXRlRGVtYW5kSW5mbzogZnVuY3Rpb24gZGVsZXRlRGVtYW5kSW5mbyhpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgZGVsZXRlRGVtYW5kKGlkKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgX3RoaXMyLiRjb25maXJtKCfliKDpmaTku7vliqEsIOaYr+WQpue7p+e7rT8nLCAn5o+Q56S6JywgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgICB0eXBlOiAnd2FybmluZycsCiAgICAgICAgICBjZW50ZXI6IHRydWUKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmIChyZXNwLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICAgICAgX3RoaXMyLmdldERlbWFuZExpc3QoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcihyZXNwLmVycm9yLm1zZyk7CiAgICAgICAgICB9CiAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UoewogICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfliKDpmaTmiJDlip8hJwogICAgICAgICAgfSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgICAgX3RoaXMyLiRtZXNzYWdlKHsKICAgICAgICAgICAgdHlwZTogJ2luZm8nLAogICAgICAgICAgICBtZXNzYWdlOiAn5bey5Y+W5raI5Yig6ZmkJwogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"names":["getDemandList","deleteDemand","DemandDialog","name","components","filters","requirementsType","value","data","demandTitle","demandDate","dialogFlag","demandSearchFrom","demandValue","demandLabel","demandOption","label","currentDemandId","req","page","size","total","mounted","methods","createDemand","demandType","find","item","requirements_type","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resp","i","wrap","_callee$","_context","prev","next","JSON","stringify","sent","success","items","length","create_time","$moment","format","$message","error","stop","closeDialog","handleCurrentChange","val","clearSearch","version_number","demandRowInfo","row","id","editDemandInfo","deleteDemandInfo","_this2","then","$confirm","confirmButtonText","cancelButtonText","type","center","msg","message","catch"],"sources":["src/views/cases/demand/index.vue"],"sourcesContent":["<template>\n  <div class=\"demand\">\n    <div class=\"filter-container\">\n      <el-row :gutter=\"24\">\n        <el-col :span=\"6\">\n          <div class=\"demo-input-suffix\">\n            需求名称:\n            <el-input v-model=\"demandSearchFrom.name\" placeholder=\"请输入需求名称\" style=\"width: 64%;margin-right: 5px;\" class=\"filter-item\" />\n          </div>\n        </el-col>\n        <el-col :span=\"6\">\n          <div class=\"demo-input-suffix\">\n            版本号:\n            <el-input v-model=\"demandSearchFrom.version_number\" placeholder=\"请输入版本号\" style=\"width: 64%;margin-right: 5px;\" class=\"filter-item\" />\n          </div>\n        </el-col>\n        <el-col :span=\"6\">\n          <div class=\"demo-input-suffix\">\n            需求类型:\n            <el-select\n              v-model=\"demandValue\"\n              placeholder=\"请选择需求类型\"\n              @change=\"demandType\"\n            >\n              <el-option\n                v-for=\"item in demandOption\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              />\n            </el-select>\n          </div>\n        </el-col>\n      </el-row>\n      <div style=\"text-align: right;margin-top: 10px;\">\n        <el-button class=\"filter-item\" icon=\"el-icon-delete\" @click=\"clearSearch()\">重置</el-button>\n        <el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-search\" @click=\"getDemandList()\">搜索</el-button>\n      </div>\n    </div>\n    <div style=\"text-align: left; margin-top: 10px;\">\n      <el-button class=\"el-icon-circle-plus-outline\" type=\"primary\" @click=\"createDemand()\">创建需求</el-button>\n    </div>\n    <div style=\"margin-top: 10px\">\n      <el-table\n        :data=\"demandDate\"\n        border\n        style=\"width: 100%\"\n      >\n        <el-table-column prop=\"id\" label=\"ID\" width=\"100\" />\n        <el-table-column prop=\"name\" label=\"需求名称\" width=\"200\" />\n        <el-table-column prop=\"version_number\" label=\"版本号\" width=\"200\" />\n        <el-table-column prop=\"requirements_type\" label=\"需求类型\" width=\"200\">\n          <template slot-scope=\"{ row }\">\n            {{ row.requirements_type | requirementsType }}\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"requirements_detail\" label=\"需求详情\" width=\"300\">\n          <template slot-scope=\"scope\">\n            <el-button\n              type=\"primary\"\n              size=\"small\"\n              @click=\"demandRowInfo(scope.row)\"\n            >显示详情内容</el-button>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"create_time\" label=\"创建时间\" width=\"300\" />\n        <el-table-column fixed=\"right\" label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button\n              type=\"text\"\n              @click=\"editDemandInfo(scope.row)\"\n            >编辑</el-button>\n            <el-button\n              type=\"text\"\n              @click=\"deleteDemandInfo(scope.row)\"\n            >删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <!--分页-->\n      <div style=\"width: 100%; text-align: right\">\n        <el-pagination\n          background\n          :total=\"total\"\n          :page-size=\"req.size\"\n          layout=\"total, prev, pager, next\"\n          @current-change=\"handleCurrentChange\"\n        />\n      </div>\n    </div>\n    <!-- 创建用例集 -->\n    <demand-dialog\n      v-if=\"dialogFlag\"\n      :title=\"demandTitle\"\n      :did=\"currentDemandId\"\n      @cancel=\"closeDialog\"\n    />\n  </div>\n</template>\n<script>\nimport { getDemandList, deleteDemand } from '@/api/cases'\nimport DemandDialog from '@/components/Cases/demandDialog'\n\nexport default {\n  name: 'DemandManage',\n  components: {\n    DemandDialog\n  },\n  filters: {\n    requirementsType(value) {\n      if (value === 'business') {\n        return '业务类需求'\n      } else if (value === 'improve') {\n        return 'Bug改进类需求'\n      } else if (value === 'technical') {\n        return '技术类需求'\n      } else {\n        return '未知类型'\n      }\n    }\n  },\n  data() {\n    return {\n      demandTitle: '',\n      demandDate: [],\n      dialogFlag: false,\n      demandSearchFrom: {\n        'name': '',\n        'version_number': '',\n        'requirements_type': '',\n        'create_time': ''\n      },\n      demandValue: '',\n      demandLabel: '',\n      demandOption: [\n        {\n          value: 'business',\n          label: '业务类需求'\n        },\n        {\n          value: 'improve',\n          label: 'Bug改进类需求'\n        },\n        {\n          value: 'technical',\n          label: '技术类需求'\n        }\n      ],\n      currentDemandId: 0,\n      req: {\n        page: 1,\n        size: 10\n      },\n      // 分页页数\n      total: 10\n    }\n  },\n  mounted() {\n    this.getDemandList()\n  },\n  methods: {\n    // 创建需求\n    createDemand() {\n      this.dialogFlag = true\n      this.demandTitle = '创建需求'\n    },\n    demandType(value) {\n      this.demandValue = value\n      this.demandLabel = this.demandOption.find(\n        (item) => item.value === value\n      ).label\n      this.demandSearchFrom.requirements_type = value\n    },\n    // 获取需求列表\n    async getDemandList() {\n      const resp = await getDemandList(this.req, JSON.stringify(this.demandSearchFrom))\n      if (resp.success === true) {\n        this.total = resp.total\n        for (let i = 0; i < resp.items.length; i++) {\n          resp.items[i].create_time = this.$moment(\n            resp.items[i].create_time\n          ).format('YYYY-MM-DD HH:mm:ss')\n        }\n        this.demandDate = resp.items\n        this.$message.success('查询成功！')\n      } else {\n        this.$message.error('查询失败！')\n      }\n    },\n    // 创建模块关闭\n    closeDialog() {\n      this.dialogFlag = false\n      this.getDemandList()\n    },\n    // 跳转到第几页\n    handleCurrentChange(val) {\n      // console.log(`当前页: ${val}`)\n      this.req.page = val\n      // this.initProjectList()\n    },\n    // 清除搜索\n    clearSearch() {\n      this.demandSearchFrom.name = ''\n      this.demandSearchFrom.version_number = ''\n      this.demandValue = 0\n      if (this.demandValue === 0) {\n        this.demandValue = ''\n      }\n      this.getDemandList()\n    },\n    // 查看需求详情\n    demandRowInfo(row) {\n      // 点击用例，获取用例id\n      this.currentDemandId = row.id\n      this.dialogFlag = true\n      this.demandTitle = '需求详情'\n    },\n    // 编辑测试用例\n    editDemandInfo(row) {\n      // 点击用例，获取用例id\n      this.currentDemandId = row.id\n      this.dialogFlag = true\n      this.demandTitle = '编辑需求'\n    },\n    // // 删除需求信息\n    // deleteDemandInfo(row) {\n    //   // 点击需求，获取id\n    //   this.currentDemandId = row.id\n    //   this.$confirm('删除接口, 是否继续?', '提示', {\n    //     confirmButtonText: '确定',\n    //     cancelButtonText: '取消',\n    //     type: 'warning',\n    //     center: true\n    //   }).then(() => {\n    //     const resp = deleteDemand(this.currentDemandId)\n    //     if (resp.success === true) {\n    //       this.getDemandList()\n    //     } else {\n    //       this.$message.error(resp.error.msg)\n    //     }\n    //     this.$message({\n    //       type: 'success',\n    //       message: '删除成功!'\n    //     })\n    //   }).catch(() => {\n    //     this.$message({\n    //       type: 'info',\n    //       message: '已取消删除'\n    //     })\n    //   })\n    // },\n    deleteDemandInfo(id) {\n      deleteDemand(id).then((resp) => {\n        this.$confirm('删除任务, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning',\n          center: true\n        }).then(() => {\n          if (resp.success === true) {\n            this.getDemandList()\n          } else {\n            this.$message.error(resp.error.msg)\n          }\n          this.$message({\n            type: 'success',\n            message: '删除成功!'\n          })\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除'\n          })\n        })\n      })\n    }\n  }\n}\n</script>\n<style scoped>\n.custom-tree-node {\n  width: 100%;\n}\n.label-title {\n  font-family: \"Liberation Mono\", monospace, serif, sans-serif;\n  font-size: 24px;\n}\n.label-text {\n  font-family: \"Lucida Calligraphy\", cursive, serif, sans-serif;\n  font-size: 20px;\n  font-weight: bolder;\n  float: left;\n  margin-top: 5px;\n}\n.flex-container {\n  display: flex;\n}\n\n.el-container {\n  text-align: center;\n  line-height: 38px;\n}\n</style>\n"],"mappings":"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"}]}