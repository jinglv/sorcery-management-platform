{"remainingRequest":"/Users/jeanlv/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js!/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jeanlv/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jeanlv/sorcery-management-platform/front/src/components/Project/projectDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jeanlv/sorcery-management-platform/front/src/components/Project/projectDialog.vue","mtime":1698032217392},{"path":"/Users/jeanlv/sorcery-management-platform/front/babel.config.js","mtime":1698032213828},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1698032215054},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js","mtime":1698032214874},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1698032215054},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js","mtime":1698032217227}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2plYW5sdi9zb3JjZXJ5LW1hbmFnZW1lbnQtcGxhdGZvcm0vZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvamVhbmx2L3NvcmNlcnktbWFuYWdlbWVudC1wbGF0Zm9ybS9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHsgZ2V0UHJvamVjdCwgY3JlYXRlUHJvamVjdCwgdXBkYXRlUHJvamVjdCB9IGZyb20gJ0AvYXBpL3Byb2plY3RzJzsKaW1wb3J0IHsgdXBkYXRlSW1hZ2UgfSBmcm9tICdAL2FwaS9jb21tb25zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQb3JqZWN0RGlhbG9nJywKICBjb21wb25lbnRzOiB7fSwKICBwcm9wczogewogICAgdGl0bGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgcGlkOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGRpYWxvZ1Zpc2libGU6IHRydWUsCiAgICAgIHNob3dUaXRsZTogJycsCiAgICAgIHVwZGF0ZVVSTDogJycsCiAgICAgIHByb2plY3RGb3JtOiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgZGVzY3JpYmU6ICcnLAogICAgICAgIGltYWdlOiAnJwogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIG5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfor7fovpPlhaXpobnnm67nmoTlkI3np7AnLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgZmlsZUxpc3Q6IFtdLAogICAgICAvLyDnjrDmnInlm77niYfliJfooagKICAgICAgaW1hZ2VVcmw6ICcnLAogICAgICAvLyDlm77niYfot6/lvoQKICAgICAgaW1hZ2VWaXNpYmxlOiBmYWxzZSwKICAgICAgZGlzYWJsZWQ6IGZhbHNlCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIGlmICh0aGlzLnRpdGxlID09PSAnY3JlYXRlJykgewogICAgICB0aGlzLnNob3dUaXRsZSA9ICfliJvlu7rpobnnm64nOwogICAgfSBlbHNlIGlmICh0aGlzLnRpdGxlID09PSAnZGV0YWlsJykgewogICAgICB0aGlzLnNob3dUaXRsZSA9ICfpobnnm67or6bmg4UnOwogICAgICB0aGlzLmluaXRQcm9qZWN0RGV0YWlsKCk7CiAgICB9IGVsc2UgaWYgKHRoaXMudGl0bGUgPT09ICdlZGl0JykgewogICAgICB0aGlzLnNob3dUaXRsZSA9ICfnvJbovpHpobnnm64nOwogICAgICB0aGlzLmluaXRQcm9qZWN0RGV0YWlsKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbG9zZURpYWxvZzogZnVuY3Rpb24gY2xvc2VEaWFsb2coKSB7CiAgICAgIGNvbnNvbGUubG9nKCdjbG9zZURpYWxvZycpOwogICAgICB0aGlzLiRlbWl0KCdjYW5jZWwnLCB7fSk7CiAgICB9LAogICAgLy8g5p+l6K+i6aG555uu6K+m5oOFCiAgICBpbml0UHJvamVjdERldGFpbDogZnVuY3Rpb24gaW5pdFByb2plY3REZXRhaWwoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3A7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGdldFByb2plY3QoX3RoaXMucGlkKTsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwcm9qZWN0IGluZm8nLCByZXNwKTsKICAgICAgICAgICAgICBpZiAocmVzcC5zdWNjZXNzID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICBfdGhpcy5wcm9qZWN0Rm9ybSA9IHJlc3AucmVzdWx0OwogICAgICAgICAgICAgICAgX3RoaXMuZmlsZUxpc3QucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6IHJlc3AucmVzdWx0LmltYWdlLAogICAgICAgICAgICAgICAgICB1cmw6ICdzdGF0aWMvaW1hZ2VzLycgKyByZXNwLnJlc3VsdC5pbWFnZQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfdGhpcy5pbWFnZVVybCA9ICdzdGF0aWMvaW1hZ2VzLycgKyByZXNwLnJlc3VsdC5pbWFnZTsKICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+mhueebruivpuaDheaIkOWKn++8gScpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZS5lcnJvcign6aG555uu6K+m5oOF5aSx6LSl77yBJyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5Yib5bu66aG555uuCiAgICBzdWJtaXRQcm9qZWN0OiBmdW5jdGlvbiBzdWJtaXRQcm9qZWN0KGZvcm1OYW1lKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGlmIChfdGhpczIudGl0bGUgPT09ICdjcmVhdGUnKSB7CiAgICAgICAgICAgIGNyZWF0ZVByb2plY3QoX3RoaXMyLnByb2plY3RGb3JtKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3Auc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgLy8g5Yib5bu65oiQ5Yqf77yM5YWz6Zet5by556qXCiAgICAgICAgICAgICAgICBfdGhpczIuY2xvc2VEaWFsb2coKTsKICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5zdWNjZXNzKCfpobnnm67liJvlu7rmiJDlip/vvIEnKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKHJlc3AuZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLnRpdGxlID09PSAnZWRpdCcpIHsKICAgICAgICAgICAgdXBkYXRlUHJvamVjdChfdGhpczIucGlkLCBfdGhpczIucHJvamVjdEZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgICAgICBpZiAocmVzcC5zdWNjZXNzID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICBfdGhpczIuY2xvc2VEaWFsb2coKTsKICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5zdWNjZXNzKCfpobnnm67nvJbovpHmiJDlip/vvIEnKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLmVycm9yKHJlc3AuZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5Yig6Zmk5Zu+54mHCiAgICBoYW5kbGVSZW1vdmU6IGZ1bmN0aW9uIGhhbmRsZVJlbW92ZShmaWxlKSB7CiAgICAgIGNvbnNvbGUubG9nKCfliKDpmaQnLCBmaWxlKTsKICAgIH0sCiAgICAvLyDpooTop4jlm77niYcKICAgIGhhbmRsZVByZXZpZXc6IGZ1bmN0aW9uIGhhbmRsZVByZXZpZXcoZmlsZSwgZmlsZUxpc3QpIHsKICAgICAgY29uc29sZS5sb2coJ+S4iuS8oOaIkOWKnycsIGZpbGUsIGZpbGVMaXN0KTsKICAgICAgdGhpcy5pbWFnZVVybCA9IGZpbGUudXJsOwogICAgICB0aGlzLmltYWdlVmlzaWJsZSA9IHRydWU7CiAgICB9LAogICAgLy8g5LiK5Lyg5paH5Lu2CiAgICBiZWZvcmVVcGxvYWQ6IGZ1bmN0aW9uIGJlZm9yZVVwbG9hZChmaWxlKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgZmIsIHJlc3AsIGltYWdlUGF0aCwgaW1hZ2VJbmZvOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5LiK5Lyg5paH5Lu25a+56LGhJywgZmlsZSk7CiAgICAgICAgICAgICAgZmIgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgICBmYi5hcHBlbmQoJ2ZpbGUnLCBmaWxlKTsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU7CiAgICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZUltYWdlKGZiKTsKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVzcC0tPicsIHJlc3ApOwogICAgICAgICAgICAgIGlmIChyZXNwLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgIC8vIOiOt+WPluaWh+S7tuWQjQogICAgICAgICAgICAgICAgX3RoaXMzLnByb2plY3RGb3JtLmltYWdlID0gcmVzcC5yZXN1bHQubmFtZTsKICAgICAgICAgICAgICAgIC8vIOaLvOaOpemdmeaAgeaWh+S7tui3r+W+hO+8jOeUqOS6juWbvueJh+WxleekugogICAgICAgICAgICAgICAgaW1hZ2VQYXRoID0gJy9zdGF0aWMvaW1hZ2VzLycgKyByZXNwLnJlc3VsdC5uYW1lOwogICAgICAgICAgICAgICAgaW1hZ2VJbmZvID0gewogICAgICAgICAgICAgICAgICBuYW1lOiBmaWxlLm5hbWUsCiAgICAgICAgICAgICAgICAgIHVybDogaW1hZ2VQYXRoCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX3RoaXMzLmZpbGVMaXN0LnB1c2goaW1hZ2VJbmZvKTsKICAgICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5zdWNjZXNzKCfkuIrkvKDmiJDlip/vvIEnKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+S4iuS8oOWksei0pScsIHJlc3ApOwogICAgICAgICAgICAgICAgX3RoaXMzLiRtZXNzYWdlLmVycm9yKHJlc3AuZXJyb3IubWVzc2FnZSk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICAvLyDopobnm5bpu5jorqTnmoTkuIrkvKDooYzkuLrvvIzlj6/ku6Xoh6rlrprkuYnkuIrkvKDnmoTlrp7njrDvvIzpgb/lhY3kvb/nlKjmoYbmnrboh6rliqjkuIrkvKDlip/og70KICAgIGh0dHBSZXF1ZXN0OiBmdW5jdGlvbiBodHRwUmVxdWVzdCgpIHt9CiAgfQp9Ow=="},{"version":3,"names":["getProject","createProject","updateProject","updateImage","name","components","props","title","type","String","default","pid","Number","data","dialogVisible","showTitle","updateURL","projectForm","describe","image","rules","required","message","trigger","fileList","imageUrl","imageVisible","disabled","mounted","initProjectDetail","methods","closeDialog","console","log","$emit","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resp","wrap","_callee$","_context","prev","next","sent","success","result","push","url","$message","error","stop","submitProject","formName","_this2","$refs","validate","valid","then","handleRemove","file","handlePreview","beforeUpload","_this3","_callee2","fb","imagePath","imageInfo","_callee2$","_context2","FormData","append","httpRequest"],"sources":["src/components/Project/projectDialog.vue"],"sourcesContent":["<template>\n  <el-dialog\n    :title=\"showTitle\"\n    :visible.sync=\"dialogVisible\"\n    width=\"500px\"\n    :before-close=\"closeDialog\"\n  >\n    <el-form\n      v-if=\"title == 'detail'\"\n      ref=\"ruleForm\"\n      :model=\"projectForm\"\n      :rules=\"rules\"\n      label-width=\"100px\"\n      class=\"demo-ruleForm\"\n    >\n      <el-form-item label=\"项目名称\" prop=\"name\">{{\n        projectForm.name\n      }}</el-form-item>\n      <el-form-item\n        label=\"项目描述\"\n        prop=\"desc\"\n      >{{ projectForm.describe }}\n      </el-form-item>\n      <el-form-item label=\"图片\" prop=\"image\">\n        <div id=\"image\">\n          <el-image\n            style=\"width: 100px; height: 100px\"\n            :src=\"imageUrl\"\n          />\n        </div>\n      </el-form-item>\n      <el-form-item style=\"text-align: right\">\n        <el-button @click=\"closeDialog\">返回</el-button>\n      </el-form-item>\n    </el-form>\n    <el-form\n      v-if=\"title != 'detail'\"\n      ref=\"ruleForm\"\n      :model=\"projectForm\"\n      :rules=\"rules\"\n      label-width=\"100px\"\n      class=\"demo-ruleForm\"\n    >\n      <el-form-item label=\"项目名称\" prop=\"name\">\n        <el-input v-model=\"projectForm.name\" />\n      </el-form-item>\n      <el-form-item label=\"项目描述\" prop=\"desc\">\n        <el-input v-model=\"projectForm.describe\" type=\"textarea\" />\n      </el-form-item>\n      <el-form-item label=\"图片\" prop=\"desc\">\n        <div id=\"image\">\n          <el-upload\n            action=\"#\"\n            :before-upload=\"beforeUpload\"\n            :http-request=\"httpRequest\"\n            list-type=\"picture-card\"\n            :on-preview=\"handlePreview\"\n            :on-remove=\"handleRemove\"\n            :file-list=\"fileList\"\n          >\n            <i class=\"el-icon-plus\" />\n          </el-upload>\n          <el-dialog :visible.sync=\"imageVisible\">\n            <img width=\"100%\" :src=\"imageUrl\" alt=\"\">\n          </el-dialog>\n        </div>\n      </el-form-item>\n      <el-form-item style=\"text-align: right\">\n        <el-button @click=\"closeDialog\">取消</el-button>\n        <el-button\n          type=\"primary\"\n          @click=\"submitProject('ruleForm')\"\n        >确定</el-button>\n      </el-form-item>\n    </el-form>\n  </el-dialog>\n</template>\n<script>\nimport { getProject, createProject, updateProject } from '@/api/projects'\nimport { updateImage } from '@/api/commons'\n\nexport default {\n  name: 'PorjectDialog',\n  components: {},\n  props: {\n    title: {\n      type: String,\n      default: null\n    },\n    pid: {\n      type: Number,\n      default: 1\n    }\n  },\n  data() {\n    return {\n      dialogVisible: true,\n      showTitle: '',\n      updateURL: '',\n      projectForm: {\n        name: '',\n        describe: '',\n        image: ''\n      },\n      rules: {\n        name: [\n          { required: true, message: '请输入项目的名称', trigger: 'blur' }\n        ]\n      },\n      fileList: [], // 现有图片列表\n      imageUrl: '', // 图片路径\n      imageVisible: false,\n      disabled: false\n    }\n  },\n  mounted() {\n    if (this.title === 'create') {\n      this.showTitle = '创建项目'\n    } else if (this.title === 'detail') {\n      this.showTitle = '项目详情'\n      this.initProjectDetail()\n    } else if (this.title === 'edit') {\n      this.showTitle = '编辑项目'\n      this.initProjectDetail()\n    }\n  },\n  methods: {\n    closeDialog() {\n      console.log('closeDialog')\n      this.$emit('cancel', {})\n    },\n    // 查询项目详情\n    async initProjectDetail() {\n      const resp = await getProject(this.pid)\n      console.log('project info', resp)\n      if (resp.success === true) {\n        this.projectForm = resp.result\n        this.fileList.push({\n          name: resp.result.image,\n          url: 'static/images/' + resp.result.image\n        })\n        this.imageUrl = 'static/images/' + resp.result.image\n        this.$message.success('项目详情成功！')\n      } else {\n        this.$message.error('项目详情失败！')\n      }\n    },\n    // 创建项目\n    submitProject(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          if (this.title === 'create') {\n            createProject(this.projectForm).then((resp) => {\n              if (resp.success === true) {\n                // 创建成功，关闭弹窗\n                this.closeDialog()\n                this.$message.success('项目创建成功！')\n              } else {\n                this.$message.error(resp.error.message)\n              }\n            })\n          } else if (this.title === 'edit') {\n            updateProject(this.pid, this.projectForm).then((resp) => {\n              if (resp.success === true) {\n                this.closeDialog()\n                this.$message.success('项目编辑成功！')\n              } else {\n                this.$message.error(resp.error.message)\n              }\n            })\n          }\n        } else {\n          return false\n        }\n      })\n    },\n    // 删除图片\n    handleRemove(file) {\n      console.log('删除', file)\n    },\n    // 预览图片\n    handlePreview(file, fileList) {\n      console.log('上传成功', file, fileList)\n      this.imageUrl = file.url\n      this.imageVisible = true\n    },\n    // 上传文件\n    async beforeUpload(file) {\n      console.log('上传文件对象', file)\n      const fb = new FormData()\n      fb.append('file', file)\n      const resp = await updateImage(fb)\n      console.log('resp-->', resp)\n      if (resp.success === true) {\n        // 获取文件名\n        this.projectForm.image = resp.result.name\n        // 拼接静态文件路径，用于图片展示\n        const imagePath = '/static/images/' + resp.result.name\n        const imageInfo = {\n          name: file.name,\n          url: imagePath\n        }\n        this.fileList.push(imageInfo)\n        this.$message.success('上传成功！')\n      } else {\n        console.log('上传失败', resp)\n        this.$message.error(resp.error.message)\n      }\n    },\n    // 覆盖默认的上传行为，可以自定义上传的实现，避免使用框架自动上传功能\n    httpRequest() {}\n  }\n}\n</script>\n"],"mappings":"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"}]}