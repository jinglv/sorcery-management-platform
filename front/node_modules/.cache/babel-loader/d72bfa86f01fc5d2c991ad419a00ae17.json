{"remainingRequest":"/Users/lvjing/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js!/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvjing/sorcery-management-platform/front/src/components/HttpRunner/httpRunnerApiDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvjing/sorcery-management-platform/front/src/components/HttpRunner/httpRunnerApiDialog.vue","mtime":1687688378775},{"path":"/Users/lvjing/sorcery-management-platform/front/babel.config.js","mtime":1679466191236},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1679466716417},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js","mtime":1679466716072},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1679466716417},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js","mtime":1679466707590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2x2amluZy9zb3JjZXJ5LW1hbmFnZW1lbnQtcGxhdGZvcm0vZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbHZqaW5nL3NvcmNlcnktbWFuYWdlbWVudC1wbGF0Zm9ybS9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgeyBnZXRNb2R1bGVUcmVlIH0gZnJvbSAnQC9hcGkvbW9kdWxlcyc7CmltcG9ydCB7IGh0dHBSdW5uZXJQcm9qZWN0TGlzdCB9IGZyb20gJ0AvYXBpL2h0dHBydW5uZXInOwppbXBvcnQgeyBnZXRBcGlzTGlzdCB9IGZyb20gJ0AvYXBpL2FwaXMnOwppbXBvcnQgSHR0cFJ1bm5lckNyZWF0ZUFwaURpYWxvZyBmcm9tICcuL2h0dHBSdW5uZXJDcmVhdGVBcGlEaWFsb2cnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgSHR0cFJ1bm5lckNyZWF0ZUFwaURpYWxvZzogSHR0cFJ1bm5lckNyZWF0ZUFwaURpYWxvZwogIH0sCiAgcHJvcHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93VGl0bGU6ICfpgInmi6nmjqXlj6MnLAogICAgICBkaWFsb2dWaXNpYmxlOiB0cnVlLAogICAgICBhcGlGb3JtOiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgaHR0cHJ1bm5lcl9wcm9qZWN0X2lkOiAnJywKICAgICAgICBiYXNlX2FwaV9pZDogJycKICAgICAgfSwKICAgICAgbW9kdWxlRGF0YTogW10sCiAgICAgIGFwaURhdGE6IFtdLAogICAgICBhcGlOdW06IDAsCiAgICAgIGNhc2VzRGF0YTogW10sCiAgICAgIGN1cnJlbnRNb2R1bGVJZDogMCwKICAgICAgYXBpSW5mb0xpc3Q6IFtdLAogICAgICBwcm9qZWN0VmFsdWU6ICcnLAogICAgICBwcm9qZWN0TGFiZWw6ICcnLAogICAgICBwcm9qZWN0T3B0aW9uOiBbXSwKICAgICAgcHJvamVjdElkOiAwLAogICAgICByZXE6IHsKICAgICAgICBwYWdlOiAxLAogICAgICAgIHNpemU6IDEwCiAgICAgIH0sCiAgICAgIC8vIOWIhumhtemhteaVsAogICAgICB0b3RhbDogMTAsCiAgICAgIGNyZWF0ZUFwaURpYWxvZzogZmFsc2UKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5pbml0SHR0cFJ1bm5lclByb2plY3RMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbG9zZURpYWxvZzogZnVuY3Rpb24gY2xvc2VEaWFsb2coKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NhbmNlbCcsIHt9KTsKICAgIH0sCiAgICBkaWFsb2dDbG9zZTogZnVuY3Rpb24gZGlhbG9nQ2xvc2UodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09PSBmYWxzZSkgewogICAgICAgIHRoaXMuY3JlYXRlQXBpRGlhbG9nID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBpbml0SHR0cFJ1bm5lclByb2plY3RMaXN0OiBmdW5jdGlvbiBpbml0SHR0cFJ1bm5lclByb2plY3RMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwLCBpOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBodHRwUnVubmVyUHJvamVjdExpc3QoX3RoaXMucmVxKTsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGlmIChyZXNwLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByZXNwLml0ZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLnByb2plY3RPcHRpb24ucHVzaCh7CiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlc3AuaXRlbXNbaV0uaWQsCiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHJlc3AuaXRlbXNbaV0ubmFtZSwKICAgICAgICAgICAgICAgICAgICBwcm9qZWN0SWQ6IHJlc3AuaXRlbXNbaV0ucHJvamVjdF9pZAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF90aGlzLnRvdGFsID0gcmVzcC50b3RhbDsKICAgICAgICAgICAgICAgIC8vIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5p+l6K+i5oiQ5Yqf77yBJykKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2UuZXJyb3IoJ+afpeivouWksei0pe+8gScpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGNoYW5nZVByb2plY3Q6IGZ1bmN0aW9uIGNoYW5nZVByb2plY3QodmFsdWUpIHsKICAgICAgdGhpcy5wcm9qZWN0VmFsdWUgPSB2YWx1ZTsKICAgICAgdGhpcy5wcm9qZWN0TGFiZWwgPSB0aGlzLnByb2plY3RPcHRpb24uZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnZhbHVlID09PSB2YWx1ZTsKICAgICAgfSkubGFiZWw7CiAgICAgIHRoaXMucHJvamVjdElkID0gdGhpcy5wcm9qZWN0T3B0aW9uLmZpbmQoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS52YWx1ZSA9PT0gdmFsdWU7CiAgICAgIH0pLnByb2plY3RJZDsKICAgICAgdGhpcy5hcGlGb3JtLmh0dHBydW5uZXJfcHJvamVjdF9pZCA9IHZhbHVlOwogICAgICB0aGlzLmdldE1vZHVsZUxpc3QodGhpcy5wcm9qZWN0SWQpOwogICAgfSwKICAgIC8vIOafpeivouaooeWdl+WIl+ihqAogICAgZ2V0TW9kdWxlTGlzdDogZnVuY3Rpb24gZ2V0TW9kdWxlTGlzdChwaWQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXNwOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGdldE1vZHVsZVRyZWUocGlkKTsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBpZiAocmVzcC5zdWNjZXNzID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICBfdGhpczIubW9kdWxlRGF0YSA9IHJlc3AucmVzdWx0OwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UuZXJyb3IoJ+afpeivouWksei0pe+8gScpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g54K55Ye75qih5Z2XCiAgICBub2RlQ2xpY2s6IGZ1bmN0aW9uIG5vZGVDbGljayhkYXRhKSB7CiAgICAgIHRoaXMuY3VycmVudE1vZHVsZUlkID0gZGF0YS5pZDsKICAgICAgdGhpcy5nZXRNb2R1bGVBcGlMaXN0KGRhdGEuaWQpOwogICAgfSwKICAgIC8vIOWIneWni+WMluaooeWdl+S4i+aOpeWPo+aVsOaNrgogICAgZ2V0TW9kdWxlQXBpTGlzdDogZnVuY3Rpb24gZ2V0TW9kdWxlQXBpTGlzdChtaWQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciByZXNwOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGdldEFwaXNMaXN0KG1pZCwgX3RoaXMzLnJlcSk7CiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICByZXNwID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgaWYgKHJlc3Auc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgX3RoaXMzLmFwaURhdGEgPSByZXNwLml0ZW1zOwogICAgICAgICAgICAgICAgLy8gdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmn6Xor6LmiJDlip/vvIEnKQogICAgICAgICAgICAgICAgLy8g6K6w5b2V5qih5Z2X5LiL77yM5bey6YCJ5Lit55qE5o6l5Y+jCiAgICAgICAgICAgICAgICBfdGhpczMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIHJvd3MgPSBbXTsKICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpczMuYXBpSW5mb0xpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IF90aGlzMy5hcGlEYXRhLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXMzLmFwaUluZm9MaXN0W2ldLmlkID09PSBfdGhpczMuYXBpRGF0YVtqXS5pZCkgewogICAgICAgICAgICAgICAgICAgICAgICByb3dzLnB1c2goX3RoaXMzLmFwaURhdGFbal0pOwogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICByb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykgewogICAgICAgICAgICAgICAgICAgIF90aGlzMy4kcmVmcy5tdWx0aXBsZVRhYmxlLnRvZ2dsZVJvd1NlbGVjdGlvbihyb3cpOwogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UuZXJyb3IocmVzcC5lcnJvci5tZXNzYWdlKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8vIOmAieaLqeaJgOacieeUqOS+iwogICAgc2VsZWN0aW9uQWxsQXBpOiBmdW5jdGlvbiBzZWxlY3Rpb25BbGxBcGkodmFsLCByb3cpIHsKICAgICAgdGhpcy5zZWxlY3RpdmVBcGkodmFsKTsKICAgIH0sCiAgICAvLyDpgInmi6nkuIDmnaHnlKjkvosKICAgIHNlbGVjdGlvbk9uZUFwaTogZnVuY3Rpb24gc2VsZWN0aW9uT25lQXBpKHZhbCwgcm93KSB7CiAgICAgIHRoaXMuc2VsZWN0aXZlQXBpKHZhbCk7CiAgICB9LAogICAgLy8g5YWs5YWx5pa55rOV77ya6YCJ5oup5o6l5Y+jCiAgICBzZWxlY3RpdmVBcGk6IGZ1bmN0aW9uIHNlbGVjdGl2ZUFwaShtdWx0aXBsZVNlbGVjdGlvbikgewogICAgICB2YXIgc2VsZWN0aXZlID0gZmFsc2U7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5hcGlJbmZvTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh0aGlzLmFwaUluZm9MaXN0W2ldLm1vZHVsZV9pZCA9PT0gdGhpcy5jdXJyZW50TW9kdWxlSWQpIHsKICAgICAgICAgIHNlbGVjdGl2ZSA9IHRydWU7CiAgICAgICAgICB0aGlzLmFwaUluZm9MaXN0ID0gbXVsdGlwbGVTZWxlY3Rpb247CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChzZWxlY3RpdmUgPT09IGZhbHNlKSB7CiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IG11bHRpcGxlU2VsZWN0aW9uLmxlbmd0aDsgX2krKykgewogICAgICAgICAgdGhpcy5hcGlJbmZvTGlzdC5wdXNoKG11bHRpcGxlU2VsZWN0aW9uW19pXSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuY2FsY3VsYXRpb25BcGkoKTsKICAgIH0sCiAgICAvLyDlhazlhbHmlrnms5XvvJrorqHnrpfnlKjkvovmlbDph48KICAgIGNhbGN1bGF0aW9uQXBpOiBmdW5jdGlvbiBjYWxjdWxhdGlvbkFwaSgpIHsKICAgICAgdGhpcy5hcGlOdW0gPSAwOwogICAgICB0aGlzLmFwaU51bSArPSB0aGlzLmFwaUluZm9MaXN0Lmxlbmd0aDsKICAgIH0sCiAgICBzaG93SHR0cFJ1bm5lckFwaTogZnVuY3Rpb24gc2hvd0h0dHBSdW5uZXJBcGkoKSB7CiAgICAgIHRoaXMuY3JlYXRlQXBpRGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICAvLyDot7PovazliLDnrKzlh6DpobUKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIHRoaXMucmVxLnBhZ2UgPSB2YWw7CiAgICAgIHRoaXMuZ2V0TW9kdWxlQXBpTGlzdCh0aGlzLmN1cnJlbnRNb2R1bGVJZCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["getModuleTree","httpRunnerProjectList","getApisList","HttpRunnerCreateApiDialog","components","props","data","showTitle","dialogVisible","apiForm","name","httprunner_project_id","base_api_id","moduleData","apiData","apiNum","casesData","currentModuleId","apiInfoList","projectValue","projectLabel","projectOption","projectId","req","page","size","total","createApiDialog","mounted","initHttpRunnerProjectList","methods","closeDialog","$emit","dialogClose","value","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resp","i","wrap","_callee$","_context","prev","next","sent","success","items","length","push","id","label","project_id","$message","error","stop","changeProject","find","item","getModuleList","pid","_this2","_callee2","_callee2$","_context2","result","nodeClick","getModuleApiList","mid","_this3","_callee3","_callee3$","_context3","$nextTick","rows","j","forEach","row","$refs","multipleTable","toggleRowSelection","message","selectionAllApi","val","selectiveApi","selectionOneApi","multipleSelection","selective","module_id","calculationApi","showHttpRunnerApi","handleCurrentChange"],"sources":["src/components/HttpRunner/httpRunnerApiDialog.vue"],"sourcesContent":["<template>\n  <el-dialog\n    :title=\"showTitle\"\n    :visible.sync=\"dialogVisible\"\n    width=\"900px\"\n    :before-close=\"closeDialog\"\n  >\n    <el-form\n      ref=\"ruleForm\"\n      :model=\"apiForm\"\n      label-width=\"120px\"\n      class=\"demo-ruleForm\"\n    >\n      <el-form-item label=\"HttpRunner项目\">\n        <el-select\n          v-model=\"projectValue\"\n          placeholder=\"请选择HttpRunner项目名称\"\n          style=\"width: 100%;\"\n          @change=\"changeProject\"\n        >\n          <el-option\n            v-for=\"item in projectOption\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          />\n        </el-select>\n      </el-form-item>\n      <el-form-item>\n        <div style=\"margin-top: 10px\">\n          <el-card style=\"width: 28%; height: 300px; float: left\">\n            <el-tree\n              :data=\"moduleData\"\n              node-key=\"id\"\n              default-expand-all\n              :expand-on-click-node=\"false\"\n              @node-click=\"nodeClick\"\n            >\n              <span slot-scope=\"{ node }\" class=\"custom-tree-node\">\n                <span style=\"float: left\">{{ node.label }}</span>\n              </span>\n            </el-tree>\n          </el-card>\n          <div style=\"width: 70%; float: right\">\n            <el-table\n              ref=\"multipleTable\"\n              :data=\"apiData\"\n              border\n              style=\"width: 100%\"\n              @select=\"selectionOneApi\"\n              @select-all=\"selectionAllApi\"\n            >\n              <el-table-column type=\"selection\" width=\"55\" />\n              <el-table-column prop=\"id\" label=\"接口ID\" width=\"70\" />\n              <el-table-column prop=\"name\" label=\"接口名称\" width=\"150\" />\n              <el-table-column prop=\"api_path\" label=\"接口地址\" />\n            </el-table>\n            <!--分页-->\n            <div style=\"width: 100%; text-align: right\">\n              <el-pagination\n                background\n                layout=\"prev, pager, next\"\n                :page-size=\"req.size\"\n                :total=\"total\"\n                @current-change=\"handleCurrentChange\"\n              />\n            </div>\n          </div>\n        </div>\n      </el-form-item>\n      <el-form-item style=\"text-align: right\">\n        <div class=\"dialog-footer\">\n          已选择【{{ apiNum }}】接口\n          <el-button @click=\"closeDialog()\">取消</el-button>\n          <el-button\n            type=\"primary\"\n            @click=\"showHttpRunnerApi\"\n          >创建HttpRunner工程接口</el-button>\n        </div>\n      </el-form-item>\n    </el-form>\n    <http-runner-create-api-dialog v-if=\"createApiDialog\" :modal=\"false\" :datas=\"apiInfoList\" :project=\"apiForm.httprunner_project_id\" @visible=\"dialogClose\" @cancel=\"closeDialog\" />\n  </el-dialog>\n</template>\n\n<script>\nimport { getModuleTree } from '@/api/modules'\nimport { httpRunnerProjectList } from '@/api/httprunner'\nimport { getApisList } from '@/api/apis'\nimport HttpRunnerCreateApiDialog from './httpRunnerCreateApiDialog'\n\nexport default {\n  components: { HttpRunnerCreateApiDialog },\n  props: {\n  },\n  data() {\n    return {\n      showTitle: '选择接口',\n      dialogVisible: true,\n      apiForm: {\n        name: '',\n        httprunner_project_id: '',\n        base_api_id: ''\n      },\n      moduleData: [],\n      apiData: [],\n      apiNum: 0,\n      casesData: [],\n      currentModuleId: 0,\n      apiInfoList: [],\n      projectValue: '',\n      projectLabel: '',\n      projectOption: [],\n      projectId: 0,\n      req: {\n        page: 1,\n        size: 10\n      },\n      // 分页页数\n      total: 10,\n      createApiDialog: false\n    }\n  },\n  mounted() {\n    this.initHttpRunnerProjectList()\n  },\n  methods: {\n    closeDialog() {\n      this.$emit('cancel', {})\n    },\n    dialogClose(value) {\n      if (value === false) {\n        this.createApiDialog = false\n      }\n    },\n    async initHttpRunnerProjectList() {\n      const resp = await httpRunnerProjectList(this.req)\n      if (resp.success === true) {\n        for (let i = 0; i < resp.items.length; i++) {\n          this.projectOption.push({\n            value: resp.items[i].id,\n            label: resp.items[i].name,\n            projectId: resp.items[i].project_id\n          })\n        }\n        this.total = resp.total\n        // this.$message.success('查询成功！')\n      } else {\n        this.$message.error('查询失败！')\n      }\n    },\n    changeProject(value) {\n      this.projectValue = value\n      this.projectLabel = this.projectOption.find(\n        (item) => item.value === value\n      ).label\n      this.projectId = this.projectOption.find(\n        (item) => item.value === value\n      ).projectId\n      this.apiForm.httprunner_project_id = value\n      this.getModuleList(this.projectId)\n    },\n    // 查询模块列表\n    async getModuleList(pid) {\n      const resp = await getModuleTree(pid)\n      if (resp.success === true) {\n        this.moduleData = resp.result\n      } else {\n        this.$message.error('查询失败！')\n      }\n    },\n    // 点击模块\n    nodeClick(data) {\n      this.currentModuleId = data.id\n      this.getModuleApiList(data.id)\n    },\n    // 初始化模块下接口数据\n    async getModuleApiList(mid) {\n      const resp = await getApisList(mid, this.req)\n      if (resp.success === true) {\n        this.apiData = resp.items\n        // this.$message.success('查询成功！')\n        // 记录模块下，已选中的接口\n        this.$nextTick(() => {\n          const rows = []\n          for (let i = 0; i < this.apiInfoList.length; i++) {\n            for (let j = 0; j < this.apiData.length; j++) {\n              if (this.apiInfoList[i].id === this.apiData[j].id) {\n                rows.push(this.apiData[j])\n              }\n            }\n          }\n          rows.forEach((row) => {\n            this.$refs.multipleTable.toggleRowSelection(row)\n          })\n        })\n      } else {\n        this.$message.error(resp.error.message)\n      }\n    },\n    // 选择所有用例\n    selectionAllApi(val, row) {\n      this.selectiveApi(val)\n    },\n    // 选择一条用例\n    selectionOneApi(val, row) {\n      this.selectiveApi(val)\n    },\n    // 公共方法：选择接口\n    selectiveApi(multipleSelection) {\n      var selective = false\n      for (let i = 0; i < this.apiInfoList.length; i++) {\n        if (this.apiInfoList[i].module_id === this.currentModuleId) {\n          selective = true\n          this.apiInfoList = multipleSelection\n        }\n      }\n      if (selective === false) {\n        for (let i = 0; i < multipleSelection.length; i++) {\n          this.apiInfoList.push(multipleSelection[i])\n        }\n      }\n      this.calculationApi()\n    },\n    // 公共方法：计算用例数量\n    calculationApi() {\n      this.apiNum = 0\n      this.apiNum += this.apiInfoList.length\n    },\n    showHttpRunnerApi() {\n      this.createApiDialog = true\n    },\n    // 跳转到第几页\n    handleCurrentChange(val) {\n      this.req.page = val\n      this.getModuleApiList(this.currentModuleId)\n    }\n  }\n}\n</script>\n<style scoped>\n#image {\n  text-align: left;\n}\n</style>\n"],"mappings":"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"}]}