{"remainingRequest":"/Users/lvjing/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js!/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvjing/sorcery-management-platform/front/src/components/Infos/yapiApiDetailDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvjing/sorcery-management-platform/front/src/components/Infos/yapiApiDetailDialog.vue","mtime":1691458915568},{"path":"/Users/lvjing/sorcery-management-platform/front/babel.config.js","mtime":1689577131945},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1679466716417},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js","mtime":1679466716072},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1679466716417},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js","mtime":1679466707590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2x2amluZy9zb3JjZXJ5LW1hbmFnZW1lbnQtcGxhdGZvcm0vZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvbHZqaW5nL3NvcmNlcnktbWFuYWdlbWVudC1wbGF0Zm9ybS9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgeyBnZXRZYXBpQXBpRGV0YWlsIH0gZnJvbSAnQC9hcGkvaW5mb3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwaURldGFpbERpYWxvZycsCiAgZmlsdGVyczogewogICAgcmVxdWlyZWRDb250ZW50OiBmdW5jdGlvbiByZXF1aXJlZENvbnRlbnQodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09PSAxKSB7CiAgICAgICAgcmV0dXJuICflv4XloasnOwogICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAwKSB7CiAgICAgICAgcmV0dXJuICfpnZ7lv4XloasnOwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAn5pyq55+l57G75Z6LJzsKICAgICAgfQogICAgfQogIH0sCiAgcHJvcHM6IHsKICAgIGFpZDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEKICAgIH0sCiAgICB1cmw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIHRva2VuOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhcGlEZXRhaWxGcm9tOiB7CiAgICAgICAgYXBpX2lkOiAxLAogICAgICAgIHlhcGlfYmFzZV91cmw6ICcnLAogICAgICAgIHlhcGlfdG9rZW46ICcnCiAgICAgIH0sCiAgICAgIGFwaURldGFpbHM6ICcnLAogICAgICBoZWFkZXJzOiBbXSwKICAgICAgYm9keXM6IFtdLAogICAgICByZXNwb25zZXM6IFtdLAogICAgICB0aW1lTGluZUhlaWdodDogJycKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHRoaXMudGltZUxpbmVIZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gMTUwOwogICAgd2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy50aW1lTGluZUhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSAxNTA7CiAgICB9OwogICAgdGhpcy5hcGlEZXRhaWxGcm9tLmFwaV9pZCA9IHRoaXMuYWlkOwogICAgdGhpcy5hcGlEZXRhaWxGcm9tLnlhcGlfYmFzZV91cmwgPSB0aGlzLnVybDsKICAgIHRoaXMuYXBpRGV0YWlsRnJvbS55YXBpX3Rva2VuID0gdGhpcy50b2tlbjsKICAgIHRoaXMuZ2V0QXBpRGV0YWlsKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDojrflj5ZZYXBp5o6l5Y+j6K+m5oOFCiAgICBnZXRBcGlEZXRhaWw6IGZ1bmN0aW9uIGdldEFwaURldGFpbCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL19yZWdlbmVyYXRvclJ1bnRpbWUoKS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIHJlc3A7CiAgICAgICAgcmV0dXJuIF9yZWdlbmVyYXRvclJ1bnRpbWUoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIGdldFlhcGlBcGlEZXRhaWwoX3RoaXMyLmFwaURldGFpbEZyb20pOwogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgcmVzcCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgaWYgKHJlc3Auc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLnN1Y2Nlc3MoJ+afpeivouaIkOWKn++8gScpOwogICAgICAgICAgICAgICAgX3RoaXMyLmFwaURldGFpbHMgPSByZXNwLnJlc3VsdDsKICAgICAgICAgICAgICAgIF90aGlzMi5oZWFkZXJzID0gcmVzcC5yZXN1bHQuaGVhZGVyczsKICAgICAgICAgICAgICAgIF90aGlzMi5ib2R5cyA9IHJlc3AucmVzdWx0LnJlcV9ib2R5ID09PSAnJyA/IFtdIDogcmVzcC5yZXN1bHQucmVxX2JvZHk7CiAgICAgICAgICAgICAgICBfdGhpczIucmVzcG9uc2VzID0gcmVzcC5yZXN1bHQucmVzX2JvZHk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS5lcnJvcign5p+l6K+i5aSx6LSl77yBJyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy8g5YWz6ZetCiAgICBjbG9zZURpYWxvZzogZnVuY3Rpb24gY2xvc2VEaWFsb2coKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJyk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["getYapiApiDetail","name","filters","requiredContent","value","props","aid","type","Number","default","url","String","token","data","apiDetailFrom","api_id","yapi_base_url","yapi_token","apiDetails","headers","bodys","responses","timeLineHeight","mounted","_this","document","documentElement","clientHeight","window","onresize","getApiDetail","methods","_this2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resp","wrap","_callee$","_context","prev","next","sent","success","$message","result","req_body","res_body","error","stop","closeDialog","$emit"],"sources":["src/components/Infos/yapiApiDetailDialog.vue"],"sourcesContent":["<template>\n  <div :style=\"{'max-height': timeLineHeight +'px'}\" style=\"margin-left: 10px; margin-right: 10px; overflow-y:scroll;\">\n    <el-form\n      :data=\"apiDetails\"\n      label-width=\"150px\"\n      class=\"demo-ruleForm\"\n    >\n      <el-form-item label=\"接口名称：\" prop=\"name\">{{ apiDetails.name }}</el-form-item>\n      <el-form-item label=\"接口地址：\" prop=\"url\">{{ apiDetails.path }}</el-form-item>\n      <el-form-item label=\"请求方式：\" prop=\"method\">{{ apiDetails.method }}</el-form-item>\n      <el-form-item label=\"请求头：\">\n        <el-table\n          :data=\"headers\"\n          border\n          style=\"width: 80%\"\n        >\n          <el-table-column\n            prop=\"name\"\n            label=\"请求头名\"\n            width=\"250\"\n          />\n          <el-table-column\n            prop=\"value\"\n            label=\"请求头值\"\n          />\n        </el-table>\n      </el-form-item>\n      <el-form-item label=\"请求主体类型：\" prop=\"method\">{{ apiDetails.req_type }}</el-form-item>\n      <el-form-item label=\"请求参数：\">\n        <el-table\n          :data=\"bodys\"\n          border\n          style=\"width: 80%\"\n        >\n          <el-table-column\n            prop=\"name\"\n            label=\"参数名称\"\n            width=\"180\"\n          />\n          <el-table-column\n            prop=\"type\"\n            label=\"参数值类型\"\n            width=\"180\"\n          />\n          <el-table-column\n            prop=\"description\"\n            label=\"参数说明\"\n            width=\"180\"\n          />\n          <el-table-column\n            prop=\"required\"\n            label=\"是否必填\"\n          >\n            <template slot-scope=\"{ row }\">\n              {{ row.required | requiredContent }}\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-form-item>\n      <el-form-item label=\"响应参数：\">\n        <el-table\n          :data=\"responses\"\n          border\n          style=\"width: 80%\"\n        >\n          <el-table-column\n            prop=\"name\"\n            label=\"响应参数值\"\n            width=\"180\"\n          />\n          <el-table-column\n            prop=\"type\"\n            label=\"响应参数类型\"\n            width=\"180\"\n          />\n          <el-table-column\n            prop=\"description\"\n            label=\"说明\"\n          />\n        </el-table>\n      </el-form-item>\n      <el-form-item style=\"text-align: right\">\n        <el-button @click=\"closeDialog()\">返回</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { getYapiApiDetail } from '@/api/infos'\n\nexport default {\n  name: 'ApiDetailDialog',\n  filters: {\n    requiredContent(value) {\n      if (value === 1) {\n        return '必填'\n      } else if (value === 0) {\n        return '非必填'\n      } else {\n        return '未知类型'\n      }\n    }\n  },\n  props: {\n    aid: {\n      type: Number,\n      default: 1\n    },\n    url: {\n      type: String,\n      default: ''\n    },\n    token: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    return {\n      apiDetailFrom: {\n        api_id: 1,\n        yapi_base_url: '',\n        yapi_token: ''\n      },\n      apiDetails: '',\n      headers: [],\n      bodys: [],\n      responses: [],\n      timeLineHeight: ''\n    }\n  },\n  mounted() {\n    this.timeLineHeight = document.documentElement.clientHeight - 150\n    window.onresize = () => { this.timeLineHeight = document.documentElement.clientHeight - 150 }\n    this.apiDetailFrom.api_id = this.aid\n    this.apiDetailFrom.yapi_base_url = this.url\n    this.apiDetailFrom.yapi_token = this.token\n    this.getApiDetail()\n  },\n  methods: {\n    // 获取Yapi接口详情\n    async getApiDetail() {\n      const resp = await getYapiApiDetail(this.apiDetailFrom)\n      if (resp.success === true) {\n        this.$message.success('查询成功！')\n        this.apiDetails = resp.result\n        this.headers = resp.result.headers\n        this.bodys = resp.result.req_body === '' ? [] : resp.result.req_body\n        this.responses = resp.result.res_body\n      } else {\n        this.$message.error('查询失败！')\n      }\n    },\n    // 关闭\n    closeDialog() {\n      this.$emit('close')\n    }\n  }\n}\n</script>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA,SAAAA,gBAAA;AAEA;EACAC,IAAA;EACAC,OAAA;IACAC,eAAA,WAAAA,gBAAAC,KAAA;MACA,IAAAA,KAAA;QACA;MACA,WAAAA,KAAA;QACA;MACA;QACA;MACA;IACA;EACA;EACAC,KAAA;IACAC,GAAA;MACAC,IAAA,EAAAC,MAAA;MACAC,OAAA;IACA;IACAC,GAAA;MACAH,IAAA,EAAAI,MAAA;MACAF,OAAA;IACA;IACAG,KAAA;MACAL,IAAA,EAAAI,MAAA;MACAF,OAAA;IACA;EACA;EACAI,IAAA,WAAAA,KAAA;IACA;MACAC,aAAA;QACAC,MAAA;QACAC,aAAA;QACAC,UAAA;MACA;MACAC,UAAA;MACAC,OAAA;MACAC,KAAA;MACAC,SAAA;MACAC,cAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IAAA,IAAAC,KAAA;IACA,KAAAF,cAAA,GAAAG,QAAA,CAAAC,eAAA,CAAAC,YAAA;IACAC,MAAA,CAAAC,QAAA;MAAAL,KAAA,CAAAF,cAAA,GAAAG,QAAA,CAAAC,eAAA,CAAAC,YAAA;IAAA;IACA,KAAAb,aAAA,CAAAC,MAAA,QAAAT,GAAA;IACA,KAAAQ,aAAA,CAAAE,aAAA,QAAAN,GAAA;IACA,KAAAI,aAAA,CAAAG,UAAA,QAAAL,KAAA;IACA,KAAAkB,YAAA;EACA;EACAC,OAAA;IACA;IACAD,YAAA,WAAAA,aAAA;MAAA,IAAAE,MAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,IAAA;QAAA,OAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OACA1C,gBAAA,CAAAgC,MAAA,CAAAlB,aAAA;YAAA;cAAAuB,IAAA,GAAAG,QAAA,CAAAG,IAAA;cACA,IAAAN,IAAA,CAAAO,OAAA;gBACAZ,MAAA,CAAAa,QAAA,CAAAD,OAAA;gBACAZ,MAAA,CAAAd,UAAA,GAAAmB,IAAA,CAAAS,MAAA;gBACAd,MAAA,CAAAb,OAAA,GAAAkB,IAAA,CAAAS,MAAA,CAAA3B,OAAA;gBACAa,MAAA,CAAAZ,KAAA,GAAAiB,IAAA,CAAAS,MAAA,CAAAC,QAAA,eAAAV,IAAA,CAAAS,MAAA,CAAAC,QAAA;gBACAf,MAAA,CAAAX,SAAA,GAAAgB,IAAA,CAAAS,MAAA,CAAAE,QAAA;cACA;gBACAhB,MAAA,CAAAa,QAAA,CAAAI,KAAA;cACA;YAAA;YAAA;cAAA,OAAAT,QAAA,CAAAU,IAAA;UAAA;QAAA,GAAAd,OAAA;MAAA;IACA;IACA;IACAe,WAAA,WAAAA,YAAA;MACA,KAAAC,KAAA;IACA;EACA;AACA"}]}