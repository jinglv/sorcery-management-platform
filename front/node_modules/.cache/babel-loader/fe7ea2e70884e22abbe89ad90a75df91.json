{"remainingRequest":"/Users/jeanlv/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js!/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/jeanlv/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jeanlv/sorcery-management-platform/front/src/components/Cases/apiListDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jeanlv/sorcery-management-platform/front/src/components/Cases/apiListDialog.vue","mtime":1702020607430},{"path":"/Users/jeanlv/sorcery-management-platform/front/babel.config.js","mtime":1698032213828},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1698032215054},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js","mtime":1698032214874},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1698032215054},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js","mtime":1698032217227}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9yZWdlbmVyYXRvclJ1bnRpbWUgZnJvbSAiL1VzZXJzL2plYW5sdi9zb3JjZXJ5LW1hbmFnZW1lbnQtcGxhdGZvcm0vZnJvbnQvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL3JlZ2VuZXJhdG9yUnVudGltZS5qcyI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvVXNlcnMvamVhbmx2L3NvcmNlcnktbWFuYWdlbWVudC1wbGF0Zm9ybS9mcm9udC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKaW1wb3J0IHsgZ2V0QWxsQXBpc0xpc3QgYXMgX2dldEFsbEFwaXNMaXN0IH0gZnJvbSAnQC9hcGkvYXBpcyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBpSW5mb0xpc3QnLAogIGNvbXBvbmVudHM6IHt9LAogIHByb3BzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd1RpdGxlOiAn5o6l5Y+j5YiX6KGoJywKICAgICAgZGlhbG9nVmlzaWJsZTogdHJ1ZSwKICAgICAgYXBpc0RhdGE6IFtdLAogICAgICBhcGlTZWFyY2hGcm9tOiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgYXBpX3BhdGg6ICcnLAogICAgICAgIG1ldGhvZDogJycKICAgICAgfSwKICAgICAgcmVxOiB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBzaXplOiAxMAogICAgICB9LAogICAgICAvLyDliIbpobXpobXmlbAKICAgICAgdG90YWw6IDEwLAogICAgICBkcmF3ZXI6IGZhbHNlCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0QWxsQXBpc0xpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNsb3NlRGlhbG9nOiBmdW5jdGlvbiBjbG9zZURpYWxvZygpIHsKICAgICAgdGhpcy4kZW1pdCgnY2FuY2VsJywge30pOwogICAgfSwKICAgIC8vIOiOt+WPluaooeWdl+S4i+eahOa1i+ivleeUqOS+i+WIl+ihqAogICAgZ2V0QWxsQXBpc0xpc3Q6IGZ1bmN0aW9uIGdldEFsbEFwaXNMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9fcmVnZW5lcmF0b3JSdW50aW1lKCkubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciByZXNwLCBpOwogICAgICAgIHJldHVybiBfcmVnZW5lcmF0b3JSdW50aW1lKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgIHJldHVybiBfZ2V0QWxsQXBpc0xpc3QoX3RoaXMucmVxLCBfdGhpcy5hcGlTZWFyY2hGcm9tKTsKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIHJlc3AgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIGlmIChyZXNwLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgIF90aGlzLnRvdGFsID0gcmVzcC50b3RhbDsKICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByZXNwLml0ZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIHJlc3AuaXRlbXNbaV0uY3JlYXRlX3RpbWUgPSBfdGhpcy4kbW9tZW50KHJlc3AuaXRlbXNbaV0uY3JlYXRlX3RpbWUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgX3RoaXMuYXBpc0RhdGEgPSByZXNwLml0ZW1zOwogICAgICAgICAgICAgICAgX3RoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5p+l6K+i5oiQ5Yqf77yBJyk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlLmVycm9yKCfmn6Xor6LlpLHotKXvvIEnKTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzZWxlY3RBcGk6IGZ1bmN0aW9uIHNlbGVjdEFwaShyb3cpIHsKICAgICAgdmFyIGFwaURhdGEgPSB7CiAgICAgICAgaWQ6IHJvdy5pZCwKICAgICAgICBuYW1lOiByb3cubmFtZQogICAgICB9OwogICAgICB0aGlzLiRlbWl0KCdnZXRBcGlEYXRhJywgYXBpRGF0YSk7CiAgICAgIHRoaXMuY2xvc2VEaWFsb2coKTsKICAgIH0sCiAgICAvLyDot7PovazliLDnrKzlh6DpobUKICAgIGhhbmRsZUN1cnJlbnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUN1cnJlbnRDaGFuZ2UodmFsKSB7CiAgICAgIGNvbnNvbGUubG9nKCJcdTVGNTNcdTUyNERcdTk4NzU6ICIuY29uY2F0KHZhbCkpOwogICAgICB0aGlzLnJlcS5wYWdlID0gdmFsOwogICAgICB0aGlzLmdldEFsbEFwaXNMaXN0KCk7CiAgICB9LAogICAgY2xlYXJTZWFyY2g6IGZ1bmN0aW9uIGNsZWFyU2VhcmNoKCkgewogICAgICB0aGlzLmFwaVNlYXJjaEZyb20ubmFtZSA9ICcnOwogICAgICB0aGlzLmFwaVNlYXJjaEZyb20uYXBpX3BhdGggPSAnJzsKICAgICAgdGhpcy5hcGlTZWFyY2hGcm9tLm1ldGhvZCA9ICcnOwogICAgICB0aGlzLmdldEFsbEFwaXNMaXN0KCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"names":["getAllApisList","name","components","props","data","showTitle","dialogVisible","apisData","apiSearchFrom","api_path","method","req","page","size","total","drawer","mounted","methods","closeDialog","$emit","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","resp","i","wrap","_callee$","_context","prev","next","sent","success","items","length","create_time","$moment","format","$message","error","stop","selectApi","row","apiData","id","handleCurrentChange","val","console","log","concat","clearSearch"],"sources":["src/components/Cases/apiListDialog.vue"],"sourcesContent":["<template>\n  <el-dialog\n    :title=\"showTitle\"\n    :visible.sync=\"dialogVisible\"\n    width=\"900px\"\n    :before-close=\"closeDialog\"\n    :append-to-body=\"true\"\n  >\n    <div class=\"filter-container\">\n      <el-row :gutter=\"24\">\n        <el-col :span=\"8\">\n          <div class=\"demo-input-suffix\">\n            接口名称:\n            <el-input v-model=\"apiSearchFrom.name\" size=\"mini\" placeholder=\"请输入接口名称\" style=\"width: 70%;margin-right: 5px;\" class=\"filter-item\" />\n          </div>\n        </el-col>\n        <el-col :span=\"8\">\n          <div class=\"demo-input-suffix\">\n            接口地址:\n            <el-input v-model=\"apiSearchFrom.api_path\" size=\"mini\" placeholder=\"请输入接口地址\" style=\"width: 70%;margin-right: 5px;\" class=\"filter-item\" />\n          </div>\n        </el-col>\n        <el-col :span=\"8\">\n          <div class=\"demo-input-suffix\">\n            请求方法:\n            <el-input v-model=\"apiSearchFrom.method\" size=\"mini\" placeholder=\"请输入请求方法\" style=\"width: 70%;margin-right: 5px;\" class=\"filter-item\" />\n          </div>\n        </el-col>\n      </el-row>\n      <div style=\"text-align: right;margin-top: 10px;\">\n        <el-button class=\"filter-item\" size=\"mini\" icon=\"el-icon-delete\" @click=\"clearSearch()\">重置</el-button>\n        <el-button class=\"filter-item\" size=\"mini\" type=\"primary\" icon=\"el-icon-search\" @click=\"getAllApisList()\">搜索</el-button>\n      </div>\n    </div>\n    <el-table\n      :data=\"apisData\"\n      border\n      style=\"width: 100%;margin-top: 10px;\"\n      @cell-click=\"selectApi\"\n    >\n      <el-table-column label=\"ID\" type=\"index\" width=\"80\" />\n      <el-table-column prop=\"name\" label=\"接口名称\" width=\"180\" />\n      <el-table-column prop=\"api_path\" label=\"接口地址\" idth=\"250\" />\n      <el-table-column prop=\"method\" label=\"请求方式\" width=\"100\" />\n      <el-table-column prop=\"module.name\" label=\"所属模块\" width=\"100\" />\n      <el-table-column prop=\"create_time\" label=\"创建时间\" width=\"200\" />\n    </el-table>\n    <!--分页-->\n    <div style=\"width: 100%; text-align: right\">\n      <el-pagination\n        background\n        :total=\"total\"\n        :page-size=\"req.size\"\n        layout=\"total, prev, pager, next\"\n        @current-change=\"handleCurrentChange\"\n      />\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nimport { getAllApisList } from '@/api/apis'\n\nexport default {\n  name: 'ApiInfoList',\n  components: { },\n  props: {},\n  data() {\n    return {\n      showTitle: '接口列表',\n      dialogVisible: true,\n      apisData: [],\n      apiSearchFrom: {\n        name: '',\n        api_path: '',\n        method: ''\n      },\n      req: {\n        page: 1,\n        size: 10\n      },\n      // 分页页数\n      total: 10,\n      drawer: false\n    }\n  },\n  mounted() {\n    this.getAllApisList()\n  },\n  methods: {\n    closeDialog() {\n      this.$emit('cancel', {})\n    },\n    // 获取模块下的测试用例列表\n    async getAllApisList() {\n      const resp = await getAllApisList(this.req, this.apiSearchFrom)\n      if (resp.success === true) {\n        this.total = resp.total\n        for (let i = 0; i < resp.items.length; i++) {\n          resp.items[i].create_time = this.$moment(\n            resp.items[i].create_time\n          ).format('YYYY-MM-DD HH:mm:ss')\n        }\n        this.apisData = resp.items\n        this.$message.success('查询成功！')\n      } else {\n        this.$message.error('查询失败！')\n      }\n    },\n    selectApi(row) {\n      const apiData = {\n        id: row.id,\n        name: row.name\n      }\n      this.$emit('getApiData', apiData)\n      this.closeDialog()\n    },\n    // 跳转到第几页\n    handleCurrentChange(val) {\n      console.log(`当前页: ${val}`)\n      this.req.page = val\n      this.getAllApisList()\n    },\n    clearSearch() {\n      this.apiSearchFrom.name = ''\n      this.apiSearchFrom.api_path = ''\n      this.apiSearchFrom.method = ''\n      this.getAllApisList()\n    }\n  }\n}\n</script>\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6DA,SAAAA,cAAA,IAAAA,eAAA;AAEA;EACAC,IAAA;EACAC,UAAA;EACAC,KAAA;EACAC,IAAA,WAAAA,KAAA;IACA;MACAC,SAAA;MACAC,aAAA;MACAC,QAAA;MACAC,aAAA;QACAP,IAAA;QACAQ,QAAA;QACAC,MAAA;MACA;MACAC,GAAA;QACAC,IAAA;QACAC,IAAA;MACA;MACA;MACAC,KAAA;MACAC,MAAA;IACA;EACA;EACAC,OAAA,WAAAA,QAAA;IACA,KAAAhB,cAAA;EACA;EACAiB,OAAA;IACAC,WAAA,WAAAA,YAAA;MACA,KAAAC,KAAA;IACA;IACA;IACAnB,cAAA,WAAAA,eAAA;MAAA,IAAAoB,KAAA;MAAA,OAAAC,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,UAAAC,QAAA;QAAA,IAAAC,IAAA,EAAAC,CAAA;QAAA,OAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA;UAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;YAAA;cAAAF,QAAA,CAAAE,IAAA;cAAA,OACA/B,eAAA,CAAAoB,KAAA,CAAAT,GAAA,EAAAS,KAAA,CAAAZ,aAAA;YAAA;cAAAiB,IAAA,GAAAI,QAAA,CAAAG,IAAA;cACA,IAAAP,IAAA,CAAAQ,OAAA;gBACAb,KAAA,CAAAN,KAAA,GAAAW,IAAA,CAAAX,KAAA;gBACA,KAAAY,CAAA,MAAAA,CAAA,GAAAD,IAAA,CAAAS,KAAA,CAAAC,MAAA,EAAAT,CAAA;kBACAD,IAAA,CAAAS,KAAA,CAAAR,CAAA,EAAAU,WAAA,GAAAhB,KAAA,CAAAiB,OAAA,CACAZ,IAAA,CAAAS,KAAA,CAAAR,CAAA,EAAAU,WAAA,CACA,CAAAE,MAAA;gBACA;gBACAlB,KAAA,CAAAb,QAAA,GAAAkB,IAAA,CAAAS,KAAA;gBACAd,KAAA,CAAAmB,QAAA,CAAAN,OAAA;cACA;gBACAb,KAAA,CAAAmB,QAAA,CAAAC,KAAA;cACA;YAAA;YAAA;cAAA,OAAAX,QAAA,CAAAY,IAAA;UAAA;QAAA,GAAAjB,OAAA;MAAA;IACA;IACAkB,SAAA,WAAAA,UAAAC,GAAA;MACA,IAAAC,OAAA;QACAC,EAAA,EAAAF,GAAA,CAAAE,EAAA;QACA5C,IAAA,EAAA0C,GAAA,CAAA1C;MACA;MACA,KAAAkB,KAAA,eAAAyB,OAAA;MACA,KAAA1B,WAAA;IACA;IACA;IACA4B,mBAAA,WAAAA,oBAAAC,GAAA;MACAC,OAAA,CAAAC,GAAA,wBAAAC,MAAA,CAAAH,GAAA;MACA,KAAApC,GAAA,CAAAC,IAAA,GAAAmC,GAAA;MACA,KAAA/C,cAAA;IACA;IACAmD,WAAA,WAAAA,YAAA;MACA,KAAA3C,aAAA,CAAAP,IAAA;MACA,KAAAO,aAAA,CAAAC,QAAA;MACA,KAAAD,aAAA,CAAAE,MAAA;MACA,KAAAV,cAAA;IACA;EACA;AACA"}]}