{"remainingRequest":"/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvjing/sorcery-management-platform/front/src/components/Infos/apiInfoListDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvjing/sorcery-management-platform/front/src/components/Infos/apiInfoListDialog.vue","mtime":1685606710806},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1679466716417},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js","mtime":1679466716072},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1679466716417},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js","mtime":1679466707590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGFwaUluZm9MaXN0IH0gZnJvbSAnQC9hcGkvaW5mb3MnCmltcG9ydCBhcGlSZXF1ZXN0RGlhbG9nIGZyb20gJy4vYXBpUmVxdWVzdERpYWxvZy52dWUnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0FwaUluZm9MaXN0JywKICBjb21wb25lbnRzOiB7IGFwaVJlcXVlc3REaWFsb2cgfSwKICBwcm9wczogewogICAgZm46IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd1RpdGxlOiAnJywKICAgICAgZGlhbG9nVmlzaWJsZTogdHJ1ZSwKICAgICAgYXBpVGl0bGU6ICcnLAogICAgICBjdXJyZW50QXBpSWQ6IDAsCiAgICAgIGFwaXNEYXRhOiBbXSwKICAgICAgcmVxOiB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBzaXplOiAxMAogICAgICB9LAogICAgICAvLyDliIbpobXpobXmlbAKICAgICAgdG90YWw6IDEwLAogICAgICBkcmF3ZXI6IGZhbHNlCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5hcGlJbmZvTGlzdCgpCiAgfSwKICBtZXRob2RzOiB7CiAgICBjbG9zZURpYWxvZygpIHsKICAgICAgdGhpcy4kZW1pdCgnY2FuY2VsJywge30pCiAgICB9LAogICAgYXN5bmMgYXBpSW5mb0xpc3QoKSB7CiAgICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBhcGlJbmZvTGlzdCh0aGlzLnJlcSwgdGhpcy5mbikKICAgICAgaWYgKHJlc3Auc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuYXBpc0RhdGEgPSByZXNwLml0ZW1zCiAgICAgICAgdGhpcy50b3RhbCA9IHJlc3AudG90YWwKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3AuZXJyb3IubWVzc2FnZSkKICAgICAgfQogICAgfSwKICAgIC8vIOafpeeci+eUqOS+i+ivpuaDhQogICAgY2FzZVJvd0FwaUluZm8ocm93KSB7CiAgICAgIC8vIOeCueWHu+eUqOS+i++8jOiOt+WPlueUqOS+i2lkCiAgICAgIHRoaXMuY3VycmVudEFwaUlkID0gcm93LmlkCiAgICAgIHRoaXMuZHJhd2VyID0gdHJ1ZQogICAgICB0aGlzLmFwaVRpdGxlID0gJ+aOpeWPo+ivpuaDhScKICAgIH0sCiAgICAvLyDnvJbovpHmtYvor5XnlKjkvosKICAgIGNhc2VSb3dBcGlTZW5kKHJvdykgewogICAgICAvLyDngrnlh7vnlKjkvovvvIzojrflj5bnlKjkvotpZAogICAgICB0aGlzLmN1cnJlbnRBcGlJZCA9IHJvdy5pZAogICAgICB0aGlzLmRyYXdlciA9IHRydWUKICAgICAgdGhpcy5hcGlUaXRsZSA9ICflj5HpgIHmjqXlj6MnCiAgICB9LAogICAgLy8g5Lyg6YCS5a2Q57uE5Lu277yM5YWz6Zet5oq95bGJCiAgICBjbG9zZURyYXdlcigpIHsKICAgICAgdGhpcy5kcmF3ZXIgPSBmYWxzZQogICAgfSwKICAgIC8vIOi3s+i9rOWIsOesrOWHoOmhtQogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgY29uc29sZS5sb2coYOW9k+WJjemhtTogJHt2YWx9YCkKICAgICAgdGhpcy5yZXEucGFnZSA9IHZhbAogICAgICB0aGlzLmdldENhc2VMaXN0KHRoaXMuY3VycmVudE1vZHVsZSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["apiInfoListDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsDA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"apiInfoListDialog.vue","sourceRoot":"src/components/Infos","sourcesContent":["<template>\n  <el-dialog\n    :title=\"showTitle\"\n    :modal=\"false\"\n    :visible.sync=\"dialogVisible\"\n    width=\"1200px\"\n    :before-close=\"closeDialog\"\n  >\n    <el-table\n      :data=\"apisData\"\n      border\n      style=\"width: 100%\"\n    >\n      <el-table-column prop=\"id\" label=\"ID\" width=\"80\" />\n      <el-table-column prop=\"name\" label=\"文件名称\" width=\"180\" />\n      <el-table-column prop=\"url\" label=\"接口URL\" />\n      <el-table-column prop=\"method\" label=\"请求方式\" width=\"100\" />\n      <el-table-column prop=\"create_time\" label=\"创建时间\" width=\"200\" />\n      <el-table-column fixed=\"right\" label=\"操作\" width=\"150\">\n        <template slot-scope=\"scope\">\n          <el-button\n            type=\"text\"\n            @click=\"caseRowApiInfo(scope.row)\"\n          >查看</el-button>\n          <el-button\n            type=\"text\"\n            @click=\"caseRowApiSend(scope.row)\"\n          >发送</el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n    <!--分页-->\n    <div style=\"width: 100%; text-align: right\">\n      <el-pagination\n        background\n        :total=\"total\"\n        :page-size=\"req.size\"\n        layout=\"total, prev, pager, next\"\n        @current-change=\"handleCurrentChange\"\n      />\n    </div>\n    <el-drawer\n      :title=\"apiTitle\"\n      :visible.sync=\"drawer\"\n      :modal=\"false\"\n      direction=\"rtl\"\n      size=\"50%\"\n    >\n      <api-request-dialog v-if=\"drawer\" :title=\"apiTitle\" :aid=\"currentApiId\" @close=\"closeDrawer()\" />\n    </el-drawer>\n  </el-dialog>\n</template>\n\n<script>\nimport { apiInfoList } from '@/api/infos'\nimport apiRequestDialog from './apiRequestDialog.vue'\n\nexport default {\n  name: 'ApiInfoList',\n  components: { apiRequestDialog },\n  props: {\n    fn: {\n      type: String,\n      default: null\n    }\n  },\n  data() {\n    return {\n      showTitle: '',\n      dialogVisible: true,\n      apiTitle: '',\n      currentApiId: 0,\n      apisData: [],\n      req: {\n        page: 1,\n        size: 10\n      },\n      // 分页页数\n      total: 10,\n      drawer: false\n    }\n  },\n  mounted() {\n    this.apiInfoList()\n  },\n  methods: {\n    closeDialog() {\n      this.$emit('cancel', {})\n    },\n    async apiInfoList() {\n      const resp = await apiInfoList(this.req, this.fn)\n      if (resp.success === true) {\n        this.apisData = resp.items\n        this.total = resp.total\n      } else {\n        this.$message.error(resp.error.message)\n      }\n    },\n    // 查看用例详情\n    caseRowApiInfo(row) {\n      // 点击用例，获取用例id\n      this.currentApiId = row.id\n      this.drawer = true\n      this.apiTitle = '接口详情'\n    },\n    // 编辑测试用例\n    caseRowApiSend(row) {\n      // 点击用例，获取用例id\n      this.currentApiId = row.id\n      this.drawer = true\n      this.apiTitle = '发送接口'\n    },\n    // 传递子组件，关闭抽屉\n    closeDrawer() {\n      this.drawer = false\n    },\n    // 跳转到第几页\n    handleCurrentChange(val) {\n      console.log(`当前页: ${val}`)\n      this.req.page = val\n      this.getCaseList(this.currentModule)\n    }\n  }\n}\n</script>\n"]}]}