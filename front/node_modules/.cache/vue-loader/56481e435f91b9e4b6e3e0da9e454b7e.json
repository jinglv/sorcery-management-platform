{"remainingRequest":"/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvjing/sorcery-management-platform/front/src/views/infos/har/index.vue?vue&type=style&index=0&id=6c1f54b0&lang=css&","dependencies":[{"path":"/Users/lvjing/sorcery-management-platform/front/src/views/infos/har/index.vue","mtime":1685588117449},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/css-loader/dist/cjs.js","mtime":1679466708477},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1679466707591},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/postcss-loader/src/index.js","mtime":1679466707836},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1679466716417},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js","mtime":1679466707590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgogIC5lbC1yb3cgewogICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICB9CiAgLmVsLWNvbCB7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgfQogIC5iZy1wdXJwbGUtbGlnaHQgewogICAgYmFja2dyb3VuZDogI2U1ZTlmMjsKICB9CiAgLmdyaWQtY29udGVudCB7CiAgICBib3JkZXItcmFkaXVzOiA0cHg7CiAgICBtaW4taGVpZ2h0OiAzNnB4OwogICAgbGluZS1oZWlnaHQ6IDM2cHg7CiAgfQogIC5yb3ctYmcgewogICAgcGFkZGluZzogMTBweCAwOwogICAgYmFja2dyb3VuZC1jb2xvcjogI2Y5ZmFmYzsKICB9CiAgLmxhYmVsLXRpdGxlIHsKICBmb250LWZhbWlseTogIkxpYmVyYXRpb24gTW9ubyIsIG1vbm9zcGFjZSwgc2VyaWYsIHNhbnMtc2VyaWY7CiAgZm9udC1zaXplOiAxNnB4OwogIGxpbmUtaGVpZ2h0OiA0MnB4Owp9Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/infos/har","sourcesContent":["<template>\n  <div id=\"har-api\">\n    <div id=\"upload-file\">\n      <el-row :gutter=\"20\">\n        <el-col :span=\"2\">\n          <div class=\"grid-content\">\n            <span class=\"label-title\">上传Har文件:</span>\n          </div>\n        </el-col>\n        <el-col :span=\"4\">\n          <div class=\"grid-content\">\n            <el-upload\n              ref=\"upload\"\n              class=\"upload-demo\"\n              action=\"#\"\n              :limit=\"1\"\n              :on-preview=\"handlePreview\"\n              :on-remove=\"handleRemove\"\n              :file-list=\"fileList\"\n              :before-upload=\"uploadFile\"\n              :http-request=\"httpRequest\"\n              :auto-upload=\"false\"\n            >\n              <el-button slot=\"trigger\" size=\"small\" type=\"primary\">选取文件</el-button>\n              <el-button style=\"margin-left: 10px;\" size=\"small\" type=\"success\" @click=\"submitUpload\">上传到服务器</el-button>\n              <div slot=\"tip\" class=\"el-upload__tip\" style=\"color:red\">只能上传后缀为.har的文件</div>\n            </el-upload>\n          </div>\n        </el-col>\n      </el-row>\n    </div>\n    <div id=\"api-file-list\" style=\"margin-top: 30px;\">\n      <el-button size=\"small\" type=\"primary\" @click=\"harFileList\">查看上传文件列表</el-button>\n      <el-table\n        :data=\"harFileData\"\n        border\n        stripe\n        style=\"width: 100%; margin-top: 10px;\"\n      >\n        <el-table-column\n          prop=\"file_name\"\n          label=\"Har文件名称\"\n        />\n        <el-table-column fixed=\"right\" label=\"操作\" width=\"450\">\n          <template slot-scope=\"scope\">\n            <el-button\n              type=\"text\"\n              @click=\"showApiInfo(scope.row)\"\n            >查看文件接口解析信息</el-button>\n            <el-button\n              type=\"text\"\n              @click=\"showApiInfoList(scope.row)\"\n            >查看接口列表</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n    </div>\n    <!--引入子组件-->\n    <har-api-info-dialog v-if=\"harInfoFlag\" :fn=\"fileName\" @cancel=\"closeDialog\" />\n    <api-info-list-dialog v-if=\"apiInfoListFlag\" :fn=\"fileName\" @cancel=\"closeDialog\" />\n  </div>\n</template>\n<script>\nimport { uploadFile } from '@/api/commons'\nimport { harApiInfo, harFileList } from '@/api/infos'\nimport harApiInfoDialog from '@/components/Infos/harApiInfoDialog'\nimport ApiInfoListDialog from '@/components/Infos/apiInfoListDialog.vue'\n\nexport default {\n  components: {\n    harApiInfoDialog,\n    ApiInfoListDialog\n  },\n  data() {\n    return {\n      apiData: [],\n      harFileData: [],\n      fileList: [],\n      fileName: '',\n      harInfoFlag: false,\n      apiInfoListFlag: false\n    }\n  },\n  methods: {\n    submitUpload() {\n      this.$refs.upload.submit()\n    },\n    handleRemove(file, fileList) {\n      console.log(file, fileList)\n    },\n    handlePreview(file) {\n      console.log(file)\n    },\n    // 上传文件\n    async uploadFile(file) {\n      const fb = new FormData()\n      fb.append('file', file)\n      const resp = await uploadFile(fb)\n      if (resp.success === true) {\n        // 获取文件名\n        this.fileName = resp.result.name\n        this.$message.success('上传成功！')\n      } else {\n        console.log('上传失败', resp)\n        this.$message.error(resp.error.message)\n      }\n    },\n    // 覆盖默认的上传行为，可以自定义上传的实现，避免使用框架自动上传功能\n    httpRequest() {},\n    async harFileList() {\n      const resp = await harFileList()\n      if (resp.success === true) {\n        this.harFileData = resp.result\n        this.$message.success('查询文件成功！')\n      } else {\n        this.$message.error(resp.error.message)\n      }\n    },\n    // 查看接口信息\n    showApiInfo(row) {\n      this.fileName = row.file_name\n      this.harInfoFlag = true\n    },\n    showApiInfoList(row) {\n      this.fileName = row.file_name\n      this.apiInfoListFlag = true\n    },\n    // 关闭弹窗\n    closeDialog() {\n      this.harInfoFlag = false\n      this.apiInfoListFlag = false\n    },\n    async harApiInfo() {\n      const req = {\n        'har_file': this.fileName\n      }\n      const resp = await harApiInfo(req)\n      if (resp.success === true) {\n        this.apiData = resp.result\n        this.$message.success('Har文件解析成功！')\n      } else {\n        this.$message.error(resp.error.message)\n      }\n    }\n  }\n}\n</script>\n\n<style>\n  .el-row {\n    margin-bottom: 20px;\n  }\n  .el-col {\n    border-radius: 4px;\n  }\n  .bg-purple-light {\n    background: #e5e9f2;\n  }\n  .grid-content {\n    border-radius: 4px;\n    min-height: 36px;\n    line-height: 36px;\n  }\n  .row-bg {\n    padding: 10px 0;\n    background-color: #f9fafc;\n  }\n  .label-title {\n  font-family: \"Liberation Mono\", monospace, serif, sans-serif;\n  font-size: 16px;\n  line-height: 42px;\n}\n</style>\n"]}]}