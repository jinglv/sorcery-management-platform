{"remainingRequest":"/Users/jeanlv/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jeanlv/sorcery-management-platform/front/src/views/cases/suite/index.vue?vue&type=style&index=0&id=4cd4f005&scoped=true&lang=css&","dependencies":[{"path":"/Users/jeanlv/sorcery-management-platform/front/src/views/cases/suite/index.vue","mtime":1702543748854},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/css-loader/dist/cjs.js","mtime":1698032215256},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1698032217228},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/postcss-loader/src/index.js","mtime":1698032216585},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1698032215054},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js","mtime":1698032217227}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY3VzdG9tLXRyZWUtbm9kZSB7CiAgd2lkdGg6IDEwMCU7Cn0KLmxhYmVsLXRpdGxlIHsKICBmb250LWZhbWlseTogIkxpYmVyYXRpb24gTW9ubyIsIG1vbm9zcGFjZSwgc2VyaWYsIHNhbnMtc2VyaWY7CiAgZm9udC1zaXplOiAyNHB4Owp9Ci5sYWJlbC10ZXh0IHsKICBmb250LWZhbWlseTogIkx1Y2lkYSBDYWxsaWdyYXBoeSIsIGN1cnNpdmUsIHNlcmlmLCBzYW5zLXNlcmlmOwogIGZvbnQtc2l6ZTogMjBweDsKICBmb250LXdlaWdodDogYm9sZGVyOwogIGZsb2F0OiBsZWZ0OwogIG1hcmdpbi10b3A6IDVweDsKfQouZmxleC1jb250YWluZXIgewogIGRpc3BsYXk6IGZsZXg7Cn0KCi5lbC1jb250YWluZXIgewogIHRleHQtYWxpZ246IGNlbnRlcjsKICBsaW5lLWhlaWdodDogMzhweDsKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/cases/suite","sourcesContent":["<template>\n  <div class=\"test-suite\">\n    <div class=\"filter-container\">\n      <el-row :gutter=\"24\">\n        <el-col :span=\"6\">\n          <div class=\"demo-input-suffix\">\n            用例集名称:\n            <el-input v-model=\"suiteFrom.name\" placeholder=\"请输入用例集名称\" style=\"width: 70%;margin-right: 5px;\" class=\"filter-item\" />\n          </div>\n        </el-col>\n        <el-col :span=\"6\">\n          <div class=\"demo-input-suffix\">\n            需求版本号:\n            <el-input v-model=\"suiteFrom.name\" placeholder=\"请输入需求版本号\" style=\"width: 70%;margin-right: 5px;\" class=\"filter-item\" />\n          </div>\n        </el-col>\n        <el-col :span=\"6\">\n          <div class=\"demo-input-suffix\">\n            执行状态:\n            <el-select\n              v-model=\"statusValue\"\n              placeholder=\"请选择用例集执行状态\"\n              @change=\"changeStatusValue\"\n            >\n              <el-option\n                v-for=\"item in statusOption\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              />\n            </el-select>\n          </div>\n        </el-col>\n      </el-row>\n      <div style=\"text-align: right;margin-top: 10px;\">\n        <el-button class=\"filter-item\" icon=\"el-icon-delete\" @click=\"clearSearch()\">重置</el-button>\n        <el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-search\" @click=\"getSuiteList()\">搜索</el-button>\n      </div>\n    </div>\n    <div style=\"text-align: left; margin-top: 10px;\">\n      <el-button class=\"el-icon-circle-plus-outline\" type=\"primary\" @click=\"createTestSuite()\">创建用例集</el-button>\n    </div>\n    <div style=\"margin-top: 10px\">\n      <el-table\n        :data=\"testSuiteData\"\n        border\n        style=\"width: 100%\"\n      >\n        <el-table-column prop=\"id\" label=\"ID\" width=\"80\" />\n        <el-table-column prop=\"name\" label=\"用例集名称\" width=\"auto\" />\n        <el-table-column prop=\"version_number\" label=\"需求版本号\" width=\"auto\" />\n        <el-table-column prop=\"case_number\" label=\"用例数量\" width=\"auto\" />\n        <el-table-column prop=\"status\" label=\"执行状态\" width=\"180\">\n          <template slot-scope=\"{ row }\">\n            <el-tag :type=\"testSuiteStatusType(row.status)\" effect=\"dark\">\n              {{ row.status | testSuiteStatus }}\n            </el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"create_time\" label=\"创建时间\" width=\"auto\" />\n        <el-table-column fixed=\"right\" label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button\n              type=\"text\"\n              @click=\"showTestSuite(scope.row)\"\n            >执行</el-button>\n            <el-button\n              type=\"text\"\n              @click=\"showTestSuite(scope.row)\"\n            >查看</el-button>\n            <el-button\n              type=\"text\"\n              @click=\"editTestSuite(scope.row)\"\n            >编辑</el-button>\n            <el-button\n              type=\"text\"\n              @click=\"deleteTestCase(scope.row)\"\n            >删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <!--分页-->\n      <div style=\"width: 100%; text-align: right\">\n        <el-pagination\n          background\n          :total=\"total\"\n          :page-size=\"req.size\"\n          layout=\"total, prev, pager, next\"\n          @current-change=\"handleCurrentChange\"\n        />\n      </div>\n    </div>\n    <!-- 创建测试用例集 -->\n    <test-suite-dialog\n      v-if=\"dialogFlag\"\n      :title=\"testSuiteTitle\"\n      :sid=\"currentSuiteId\"\n      @cancel=\"closeDialog\"\n    />\n  </div>\n</template>\n<script>\nimport TestSuiteDialog from '@/components/Cases/testSuiteDialog'\nimport { getSuiteList } from '@/api/cases'\n\nexport default {\n  name: 'CaseSuite',\n  components: {\n    TestSuiteDialog\n  },\n  filters: {\n    testSuiteStatus(value) {\n      if (value === 1) {\n        return '未执行'\n      } else if (value === 2) {\n        return '执行中'\n      } else if (value === 3) {\n        return '已完成'\n      } else {\n        return ''\n      }\n    }\n  },\n  data() {\n    return {\n      testSuiteTitle: 'create',\n      dialogFlag: false,\n      testSuiteData: [],\n      suiteFrom: {\n        'name': '',\n        'version_number': '',\n        'status': 0\n      },\n      req: {\n        page: 1,\n        size: 10\n      },\n      // 分页页数\n      total: 10,\n      statusValue: '',\n      statusLabel: '',\n      statusOption: [\n        {\n          value: 1,\n          label: '未执行'\n        },\n        {\n          value: 2,\n          label: '执行中'\n        },\n        {\n          value: 3,\n          label: '已执行'\n        }\n      ],\n      currentSuiteId: 0\n    }\n  },\n  mounted() {\n    this.getSuiteList()\n  },\n  methods: {\n    testSuiteStatusType(value) {\n      if (value === 1) {\n        return 'warning'\n      } else if (value === 2) {\n        return 'info'\n      } else if (value === 3) {\n        return 'success'\n      } else {\n        return ''\n      }\n    },\n    changeStatusValue(value) {\n      this.statusValue = value\n      this.statusLabel = this.statusOption.find(\n        (item) => item.value === value\n      ).label\n      this.suiteFrom.status = value\n    },\n    // 创建用例集\n    createTestSuite() {\n      this.dialogFlag = true\n      this.testSuiteTitle = 'create'\n    },\n    closeDialog() {\n      this.dialogFlag = false\n      this.getSuiteList()\n    },\n    showTestSuite(row) {\n      this.currentSuiteId = row.id\n      this.dialogFlag = true\n      this.testSuiteTitle = 'detail'\n    },\n    editTestSuite(row) {\n      this.currentSuiteId = row.id\n      this.dialogFlag = true\n      this.testSuiteTitle = 'edit'\n    },\n    // 获取测试用例集列表\n    async getSuiteList() {\n      const resp = await getSuiteList(this.req, JSON.stringify(this.suiteFrom))\n      if (resp.success === true) {\n        this.total = resp.total\n        for (let i = 0; i < resp.items.length; i++) {\n          resp.items[i].create_time = this.$moment(\n            resp.items[i].create_time\n          ).format('YYYY-MM-DD HH:mm:ss')\n        }\n        this.testSuiteData = resp.items\n        this.$message.success('查询成功！')\n      } else {\n        this.$message.error('查询失败！')\n      }\n    },\n    // 跳转到第几页\n    handleCurrentChange(val) {\n      // console.log(`当前页: ${val}`)\n      this.req.page = val\n      this.getCasesList()\n    },\n    // 清除搜索\n    clearSearch() {\n      this.statusValue = ''\n      this.suiteFrom.status = 0\n      this.suiteFrom.name = ''\n      this.suiteFrom.version_number = ''\n      this.getSuiteList()\n    }\n  }\n}\n</script>\n<style scoped>\n.custom-tree-node {\n  width: 100%;\n}\n.label-title {\n  font-family: \"Liberation Mono\", monospace, serif, sans-serif;\n  font-size: 24px;\n}\n.label-text {\n  font-family: \"Lucida Calligraphy\", cursive, serif, sans-serif;\n  font-size: 20px;\n  font-weight: bolder;\n  float: left;\n  margin-top: 5px;\n}\n.flex-container {\n  display: flex;\n}\n\n.el-container {\n  text-align: center;\n  line-height: 38px;\n}\n</style>\n"]}]}