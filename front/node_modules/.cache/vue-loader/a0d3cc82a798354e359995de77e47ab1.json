{"remainingRequest":"/Users/jeanlv/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jeanlv/sorcery-management-platform/front/src/components/HttpRunner/httpRunnerSuiteDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jeanlv/sorcery-management-platform/front/src/components/HttpRunner/httpRunnerSuiteDialog.vue","mtime":1698032217391},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1698032215054},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js","mtime":1698032214874},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1698032215054},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js","mtime":1698032217227}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGh0dHBSdW5uZXJQcm9qZWN0TGlzdCwgZ2V0SHR0cFJ1bm5lclRlc3RDYXNlSWRzLCBjcmVhdGVIdHRwUnVubmVyU3VpdGUsIHVwZGF0ZUh0dHBSdW5uZXJTdWl0ZSwgaHR0cFJ1bm5lclN1aXRlRGV0YWlsIH0gZnJvbSAnQC9hcGkvaHR0cHJ1bm5lcicKaW1wb3J0IGRpY3REaWFsb2cgZnJvbSAnQC9jb21wb25lbnRzL0FwaS9kaWN0RGlhbG9nJwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIGRpY3REaWFsb2cKICB9LAogIHByb3BzOiB7CiAgICB0aXRsZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBzaWQ6IHsKICAgICAgdHlwZTogTnVtYmVyLAogICAgICBkZWZhdWx0OiAxCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGltZUxpbmVIZWlnaHQ6ICcnLAogICAgICBwcm9qZWN0VmFsdWU6ICcnLAogICAgICBwcm9qZWN0TGFiZWw6ICcnLAogICAgICBwcm9qZWN0T3B0aW9uOiBbXSwKICAgICAgYXBpRGV0YWlsSW5mbzoge30sCiAgICAgIHRlc3RDYXNlTGlzdDogW3sKICAgICAgICBuYW1lOiAnJywKICAgICAgICBjYXNlX2lkOiAnJywKICAgICAgICBwYXJhbXM6IFtdLAogICAgICAgIHZhcmlhYmxlczogW10sCiAgICAgICAgLy8g5piv5ZCm5pi+56S65paw5aKe5oyJ6ZKuCiAgICAgICAgc2hvdzogJ3RydWUnCiAgICAgIH1dLAogICAgICBhcGlWYWx1ZTogJycsCiAgICAgIGFwaUxhYmVsOiAnJywKICAgICAgY2FzZXNPcHRpb246IFtdLAogICAgICBzdWl0ZUZyb206IHsKICAgICAgICBuYW1lOiAnJywKICAgICAgICBodHRwcnVubmVyX3Byb2plY3RfaWQ6ICcnLAogICAgICAgIHB1YmxpY192YXJpYWJsZXM6ICcnLAogICAgICAgIHRlc3RfY2FzZXM6IFtdCiAgICAgIH0sCiAgICAgIHB1YmxpY1ZhcmlhYmxlOiBbewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIHZhbHVlOiAnJywKICAgICAgICAvLyDmmK/lkKbmmL7npLrmlrDlop7mjInpkq4KICAgICAgICBzaG93OiAndHJ1ZScKICAgICAgfV0sCiAgICAgIHBhcmFtczogW10sCiAgICAgIHZhcmlhYmxlczogW10sCiAgICAgIGFzc2VydExhYmVsOiAnJywKICAgICAgYWN0aXZlTmFtZTogJ2ZpcnN0JywKICAgICAgbG9hZGluZzogZmFsc2UKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICAvLyDnqpflj6Pmu5HliqgKICAgIHRoaXMudGltZUxpbmVIZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gMTUwCiAgICB3aW5kb3cub25yZXNpemUgPSAoKSA9PiB7IHRoaXMudGltZUxpbmVIZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gMTUwIH0KICAgIHRoaXMuaW5pdEh0dHBSdW5uZXJQcm9qZWN0TGlzdCgpCiAgICBpZiAodGhpcy50aXRsZSA9PT0gJ+e8lui+kea1i+ivleeUqOS+i+mbhicpIHsKICAgICAgdGhpcy5odHRwUnVubmVyU3VpdGVEZXRhaWwoKQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2xvc2VEaWFsb2coKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NhbmNlbCcsIHt9KQogICAgfSwKICAgIGFzeW5jIGluaXRIdHRwUnVubmVyUHJvamVjdExpc3QoKSB7CiAgICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBodHRwUnVubmVyUHJvamVjdExpc3QodGhpcy5yZXEpCiAgICAgIGlmIChyZXNwLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlc3AuaXRlbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHRoaXMucHJvamVjdE9wdGlvbi5wdXNoKHsKICAgICAgICAgICAgdmFsdWU6IHJlc3AuaXRlbXNbaV0uaWQsCiAgICAgICAgICAgIGxhYmVsOiByZXNwLml0ZW1zW2ldLm5hbWUKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICAgIHRoaXMudG90YWwgPSByZXNwLnRvdGFsCiAgICAgICAgLy8gdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmn6Xor6LmiJDlip/vvIEnKQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+afpeivouWksei0pe+8gScpCiAgICAgIH0KICAgIH0sCiAgICBjaGFuZ2VQcm9qZWN0KHZhbHVlKSB7CiAgICAgIHRoaXMucHJvamVjdFZhbHVlID0gdmFsdWUKICAgICAgdGhpcy5wcm9qZWN0TGFiZWwgPSB0aGlzLnByb2plY3RPcHRpb24uZmluZCgKICAgICAgICAoaXRlbSkgPT4gaXRlbS52YWx1ZSA9PT0gdmFsdWUKICAgICAgKS5sYWJlbAogICAgICB0aGlzLmh0dHBSdW5uZXJUZXN0Q2FzZUlkcyh2YWx1ZSkKICAgIH0sCiAgICBhc3luYyBodHRwUnVubmVyVGVzdENhc2VJZHMocHJvamVjdElkKSB7CiAgICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBnZXRIdHRwUnVubmVyVGVzdENhc2VJZHMocHJvamVjdElkKQogICAgICBpZiAocmVzcC5zdWNjZXNzID09PSB0cnVlKSB7CiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNwLnJlc3VsdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgdGhpcy5jYXNlc09wdGlvbi5wdXNoKHsKICAgICAgICAgICAgdmFsdWU6IHJlc3AucmVzdWx0W2ldLmlkLAogICAgICAgICAgICBsYWJlbDogcmVzcC5yZXN1bHRbaV0ubmFtZQogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgICAgLy8gdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfmn6Xor6LmiJDlip/vvIEnKQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+afpeivouWksei0pe+8gScpCiAgICAgIH0KICAgIH0sCiAgICAvLyDmt7vliqDmtYvor5XmraXpqqQKICAgIGFkZFRlc3RDYXNlKGluZGV4KSB7CiAgICAgIGNvbnN0IGxpc3QgPSB0aGlzLnRlc3RDYXNlTGlzdAogICAgICBsaXN0W2luZGV4XS5zaG93ID0gJ2ZhbHNlJwogICAgICBsaXN0LnB1c2goewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIGNhc2VfaWQ6ICcnLAogICAgICAgIHBhcmFtczogW10sCiAgICAgICAgdmFyaWFibGVzOiBbXSwKICAgICAgICBzaG93OiAndHJ1ZScKICAgICAgfSkKICAgICAgdGhpcy50ZXN0Q2FzZUxpc3QgPSBsaXN0CiAgICB9LAogICAgYWRkUGFyYW1zKHNjb3BlKSB7CiAgICAgIHNjb3BlLnJvdy5wYXJhbXMucHVzaCh7IG5hbWU6ICcnLCB2YWx1ZTogJycgfSkKICAgIH0sCiAgICByZW1vdmVQYXJhbXMoc2NvcGUsIGluZGV4KSB7CiAgICAgIHNjb3BlLnJvdy5wYXJhbXMuc3BsaWNlKGluZGV4LCAxKQogICAgfSwKICAgIGFkZFZhcmlhYmxlcyhzY29wZSkgewogICAgICBzY29wZS5yb3cudmFyaWFibGVzLnB1c2goeyBuYW1lOiAnJywgdmFsdWU6ICcnIH0pCiAgICB9LAogICAgcmVtb3ZlVmFyaWFibGVzKHNjb3BlLCBpbmRleCkgewogICAgICBzY29wZS5yb3cudmFyaWFibGVzLnNwbGljZShpbmRleCwgMSkKICAgIH0sCiAgICByZW1vdmVUZXN0Q2FzZShpbmRleCkgewogICAgICBjb25zdCBsaXN0ID0gdGhpcy50ZXN0Q2FzZUxpc3QKICAgICAgaWYgKGluZGV4ID09PSAwICYmIGxpc3QubGVuZ3RoID09PSAxKSB7CiAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpCiAgICAgICAgbGlzdC5wdXNoKHsKICAgICAgICAgIG5hbWU6ICcnLAogICAgICAgICAgY2FzZV9pZDogJycsCiAgICAgICAgICBwYXJhbXM6IFtdLAogICAgICAgICAgdmFyaWFibGVzOiBbXSwKICAgICAgICAgIHNob3c6ICd0cnVlJwogICAgICAgIH0pCiAgICAgIH0gZWxzZSB7CiAgICAgICAgbGlzdC5zcGxpY2UoaW5kZXgsIDEpCiAgICAgIH0KICAgICAgaWYgKGluZGV4ID09PSBsaXN0Lmxlbmd0aCkgewogICAgICAgIGxpc3RbaW5kZXggLSAxXS5zaG93ID0gJ3RydWUnCiAgICAgIH0KICAgICAgdGhpcy50ZXN0Q2FzZUxpc3QgPSBsaXN0CiAgICB9LAogICAgYXN5bmMgY3JlYXRlU3VpdGUoKSB7CiAgICAgIGNvbnN0IHRlc3RDYXNlcyA9IFtdCiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy50ZXN0Q2FzZUxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBjYXNlX2luZm8gPSB0aGlzLnRlc3RDYXNlTGlzdFtpXQogICAgICAgIGNvbnN0IGNhc2VfZGljdCA9IHsKICAgICAgICAgICduYW1lJzogY2FzZV9pbmZvLm5hbWUsCiAgICAgICAgICAnY2FzZV9pZCc6IGNhc2VfaW5mby5jYXNlX2lkLAogICAgICAgICAgJ3BhcmFtcyc6IHRoaXMucGFyYW1zX2RhdGFfZGljdChjYXNlX2luZm8ucGFyYW1zKSwKICAgICAgICAgICd2YXJpYWJsZXMnOiB0aGlzLmxpc3RfdG9fZGljdChjYXNlX2luZm8udmFyaWFibGVzKQogICAgICAgIH0KICAgICAgICB0ZXN0Q2FzZXMucHVzaChjYXNlX2RpY3QpCiAgICAgIH0KICAgICAgY29uc3QgcHVibGljX3ZhcmlhYmxlc19kaWN0ID0gdGhpcy5saXN0X3RvX2RpY3QodGhpcy5wdWJsaWNWYXJpYWJsZSkKICAgICAgdGhpcy5zdWl0ZUZyb20ucHVibGljX3ZhcmlhYmxlcyA9IHB1YmxpY192YXJpYWJsZXNfZGljdAogICAgICB0aGlzLnN1aXRlRnJvbS50ZXN0X2Nhc2VzID0gdGVzdENhc2VzCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IGNyZWF0ZUh0dHBSdW5uZXJTdWl0ZSh0aGlzLnN1aXRlRnJvbSkKICAgICAgaWYgKHJlc3Auc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5Yib5bu65oiQ5Yqf77yBJykKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgIHRoaXMuY2xvc2VEaWFsb2coKQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+WIm+W7uuWksei0pe+8gScpCiAgICAgIH0KICAgIH0sCiAgICBhc3luYyB1cGRhdGVTdWl0ZSgpIHsKICAgICAgY29uc3QgdGVzdENhc2VzID0gW10KICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnRlc3RDYXNlTGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IGNhc2VfaW5mbyA9IHRoaXMudGVzdENhc2VMaXN0W2ldCiAgICAgICAgY29uc3QgY2FzZV9kaWN0ID0gewogICAgICAgICAgJ25hbWUnOiBjYXNlX2luZm8ubmFtZSwKICAgICAgICAgICdjYXNlX2lkJzogY2FzZV9pbmZvLmNhc2VfaWQsCiAgICAgICAgICAncGFyYW1zJzogdGhpcy5wYXJhbXNfZGF0YV9kaWN0KGNhc2VfaW5mby5wYXJhbXMpLAogICAgICAgICAgJ3ZhcmlhYmxlcyc6IHRoaXMubGlzdF90b19kaWN0KGNhc2VfaW5mby52YXJpYWJsZXMpCiAgICAgICAgfQogICAgICAgIHRlc3RDYXNlcy5wdXNoKGNhc2VfZGljdCkKICAgICAgfQogICAgICBjb25zdCBwdWJsaWNfdmFyaWFibGVzX2RpY3QgPSB0aGlzLmxpc3RfdG9fZGljdCh0aGlzLnB1YmxpY1ZhcmlhYmxlKQogICAgICB0aGlzLnN1aXRlRnJvbS5wdWJsaWNfdmFyaWFibGVzID0gcHVibGljX3ZhcmlhYmxlc19kaWN0CiAgICAgIHRoaXMuc3VpdGVGcm9tLnRlc3RfY2FzZXMgPSB0ZXN0Q2FzZXMKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICBjb25zdCByZXNwID0gYXdhaXQgdXBkYXRlSHR0cFJ1bm5lclN1aXRlKHRoaXMuc2lkLCB0aGlzLnN1aXRlRnJvbSkKICAgICAgaWYgKHJlc3Auc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5pu05paw5oiQ5Yqf77yBJykKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgIHRoaXMuY2xvc2VEaWFsb2coKQogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoJ+abtOaWsOWksei0pe+8gScpCiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBodHRwUnVubmVyU3VpdGVEZXRhaWwoKSB7CiAgICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBodHRwUnVubmVyU3VpdGVEZXRhaWwodGhpcy5zaWQpCiAgICAgIGlmIChyZXNwLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICB0aGlzLnN1aXRlRnJvbSA9IHJlc3AucmVzdWx0CiAgICAgICAgY29uc3QgY29uZmlnX2NvbnRlbnQgPSBKU09OLnBhcnNlKHJlc3AucmVzdWx0LmNvbmZpZy5yZXBsYWNlKC8nL2csICciJykpCiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGNvbmZpZ19jb250ZW50KS5sZW5ndGggIT09IDApIHsKICAgICAgICAgIHRoaXMucHVibGljVmFyaWFibGUgPSB0aGlzLmRpY3RfdG9fbGlzdChjb25maWdfY29udGVudCkKICAgICAgICAgIHRoaXMucHVibGljVmFyaWFibGVbdGhpcy5wdWJsaWNWYXJpYWJsZS5sZW5ndGggLSAxXVsnc2hvdyddID0gJ3RydWUnCiAgICAgICAgfQogICAgICAgIGNvbnN0IHRlc3RDYXNlc1Jlc3VsdCA9IFtdCiAgICAgICAgY29uc3QgdGVzdENhc2VzID0gSlNPTi5wYXJzZSh0aGlzLnN1aXRlRnJvbS50ZXN0X2Nhc2VzLnJlcGxhY2UoLycvZywgJyInKSkKICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRlc3RDYXNlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgaWYgKHRlc3RDYXNlc1tpXS5wYXJhbXMgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICB0aGlzLnBhcmFtcyA9IHRoaXMucGFyYW1zX2RhdGFfbGlzdCh0ZXN0Q2FzZXNbaV0ucGFyYW1zKQogICAgICAgICAgfQogICAgICAgICAgaWYgKHRlc3RDYXNlcy52YXJpYWJsZXMgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICB0aGlzLnZhcmlhYmxlcyA9IHRoaXMuZGljdF90b19saXN0KHRlc3RDYXNlcy52YXJpYWJsZXMpCiAgICAgICAgICB9CiAgICAgICAgICB0ZXN0Q2FzZXNSZXN1bHQucHVzaCh7CiAgICAgICAgICAgIG5hbWU6IHRlc3RDYXNlc1tpXS5uYW1lLAogICAgICAgICAgICBjYXNlX2lkOiB0ZXN0Q2FzZXNbaV0uY2FzZV9pZCwKICAgICAgICAgICAgcGFyYW1zOiB0aGlzLnBhcmFtcywKICAgICAgICAgICAgdmFyaWFibGVzOiB0aGlzLnZhcmlhYmxlcwogICAgICAgICAgfSkKICAgICAgICB9CiAgICAgICAgdGhpcy50ZXN0Q2FzZUxpc3QgPSB0ZXN0Q2FzZXNSZXN1bHQKICAgICAgICB0aGlzLnRlc3RDYXNlTGlzdFt0aGlzLnRlc3RDYXNlTGlzdC5sZW5ndGggLSAxXVsnc2hvdyddID0gJ3RydWUnCiAgICAgICAgdGhpcy5odHRwUnVubmVyVGVzdENhc2VJZHMocmVzcC5yZXN1bHQuaHR0cHJ1bm5lcl9wcm9qZWN0X2lkKQogICAgICAgIC8vIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5p+l6K+i5oiQ5Yqf77yBJykKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmn6Xor6LlpLHotKXvvIEnKQogICAgICB9CiAgICB9LAogICAgLy8g5YiX6KGo6L2s5o2i5a2X5YW4CiAgICBsaXN0X3RvX2RpY3QobHN0KSB7CiAgICAgIGlmIChsc3QgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGNvbnN0IGRpY3QgPSB7fQogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbHN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBjb25zdCBpdGVtID0gbHN0W2ldCiAgICAgICAgICBpZiAoaXRlbS5uYW1lID09PSAnJyAmJiBpdGVtLnZhbHVlID09PSAnJykgewogICAgICAgICAgICByZXR1cm4gZGljdAogICAgICAgICAgfQogICAgICAgICAgZGljdFtpdGVtLm5hbWVdID0gaXRlbS52YWx1ZQogICAgICAgIH0KICAgICAgICByZXR1cm4gZGljdAogICAgICB9CiAgICB9LAogICAgLy8g5a2X5YW46L2s5o2i5YiX6KGoCiAgICBkaWN0X3RvX2xpc3QoZGljKSB7CiAgICAgIGlmIChkaWMgIT09IHVuZGVmaW5lZCkgewogICAgICAgIGNvbnN0IHJlc3VsdCA9IE9iamVjdC5lbnRyaWVzKGRpYykubWFwKChbbmFtZSwgdmFsdWVdKSA9PiB7CiAgICAgICAgICByZXR1cm4geyAnbmFtZSc6IG5hbWUsICd2YWx1ZSc6IHZhbHVlIH0KICAgICAgICB9KQogICAgICAgIHJldHVybiByZXN1bHQKICAgICAgfQogICAgfSwKICAgIHBhcmFtc19kYXRhX2RpY3QobHN0KSB7CiAgICAgIGNvbnN0IG91dHB1dCA9IHt9CiAgICAgIGxzdC5mb3JFYWNoKGl0ZW0gPT4gewogICAgICAgIGNvbnN0IG5hbWUgPSBpdGVtWyduYW1lJ10KICAgICAgICBjb25zdCB2YWx1ZSA9IGl0ZW1bJ3ZhbHVlJ10KICAgICAgICBpZiAob3V0cHV0W25hbWVdKSB7CiAgICAgICAgICBvdXRwdXRbbmFtZV0ucHVzaCh2YWx1ZSkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgb3V0cHV0W25hbWVdID0gW3ZhbHVlXQogICAgICAgIH0KICAgICAgfSkKICAgICAgcmV0dXJuIG91dHB1dAogICAgfSwKICAgIHBhcmFtc19kYXRhX2xpc3QoZGljKSB7CiAgICAgIC8qKgogICAgICAgKiDlsIbmlbDmja4geyJhYSI6IDExMSwgImJiIjogMjIyfei9rOaNouS4ugogICAgICAgKiBbeyJuYW1lIjogImFhIiwgInZhbHVlIjogMTExfSwgeyJuYW1lIjogImJiIiwgInZhbHVlIjogMjIyfV0KICAgICAgICovCiAgICAgIGNvbnN0IG91dHB1dCA9IE9iamVjdC5lbnRyaWVzKGRpYykuZmxhdE1hcCgoW25hbWUsIHZhbHVlc10pID0+IHsKICAgICAgICByZXR1cm4gdmFsdWVzLm1hcCh2YWx1ZSA9PiAoeyBuYW1lLCB2YWx1ZSB9KSkKICAgICAgfSkKICAgICAgcmV0dXJuIG91dHB1dAogICAgfQogIH0KfQo="},{"version":3,"sources":["httpRunnerSuiteDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwKA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"httpRunnerSuiteDialog.vue","sourceRoot":"src/components/HttpRunner","sourcesContent":["<template>\n  <div :style=\"{'max-height': timeLineHeight +'px'}\" style=\"margin-left: 10px; margin-right: 10px; overflow-y:scroll;\">\n    <el-form\n      ref=\"ruleForm\"\n      :model=\"suiteFrom\"\n      label-width=\"180px\"\n      class=\"demo-ruleForm\"\n    >\n      <el-form-item label=\"HttpRunner项目：\">\n        <el-select\n          v-model=\"suiteFrom.httprunner_project_id\"\n          placeholder=\"请选择HttpRunner项目名称\"\n          style=\"width: 100%;\"\n          @change=\"changeProject\"\n        >\n          <el-option\n            v-for=\"item in projectOption\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          />\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"测试用例集名称：\" prop=\"name\">\n        <el-input v-model=\"suiteFrom.name\" placeholder=\"请输入测试用例集名称\" />\n      </el-form-item>\n      <el-tabs v-model=\"activeName\">\n        <el-tab-pane label=\"测试用例\" name=\"first\" prop=\"testSteps\">\n          <div style=\"height: 600px; overflow-y: auto;\">\n            <el-table :data=\"testCaseList\">\n              <el-table-column>\n                <template slot-scope=\"scope\">\n                  <el-form label-width=\"120px\">\n                    <div class=\"container\">\n                      <span class=\"label-text\">TestCase: {{ scope.$index + 1 }}</span>\n                      <el-button\n                        v-if=\"scope.row.show === 'true'\"\n                        type=\"success\"\n                        class=\"btn\"\n                        icon=\"el-icon-circle-plus-outline\"\n                        size=\"mini\"\n                        style=\"margin-right: 50px;\"\n                        plain\n                        @click=\"addTestCase(scope.$index)\"\n                      />\n                      <el-button\n                        class=\"btn\"\n                        type=\"danger\"\n                        size=\"mini\"\n                        icon=\"el-icon-delete\"\n                        plain\n                        @click=\"removeTestCase(scope.$index)\"\n                      />\n                    </div>\n                    <div style=\"margin-top: 15px;\">\n                      <el-form-item label=\"测试步骤名称：\" prop=\"name\">\n                        <el-input v-model=\"scope.row.name\" placeholder=\"请输入测试用例名称\" size=\"small\" />\n                      </el-form-item>\n                      <el-form-item label=\"选择测试用例：\" prop=\"case_id\">\n                        <el-select\n                          v-model=\"scope.row.case_id\"\n                          placeholder=\"请选择HttpRunner项目下的测试用例\"\n                          size=\"small\"\n                          style=\"width: 100%;\"\n                        >\n                          <el-option\n                            v-for=\"i in casesOption\"\n                            :key=\"'api' + i.value\"\n                            :label=\"i.label\"\n                            :value=\"i.value\"\n                          />\n                        </el-select>\n                      </el-form-item>\n                      <el-collapse>\n                        <el-collapse-item title=\"其他内容\">\n                          <div style=\"height: 200px; overflow-y: auto;\">\n                            <el-form-item label=\"参数：\" prop=\"extracts\">\n                              <el-button\n                                type=\"primary\"\n                                size=\"mini\"\n                                icon=\"el-icon-plus\"\n                                plain\n                                @click=\"addParams(scope)\"\n                              >添加</el-button>\n                              <div v-for=\"(item, index) in scope.row.params\" :key=\"index\" style=\"margin-top: 5px;\">\n                                <el-col :span=\"6\">\n                                  <el-input\n                                    v-model=\"item.name\"\n                                    placeholder=\"参数名\"\n                                    style=\"width: 200px\"\n                                  />\n                                </el-col>\n                                <el-col :span=\"7\">\n                                  <el-input\n                                    v-model=\"item.value\"\n                                    placeholder=\"参数值\"\n                                    style=\"width: 100%\"\n                                  />\n                                </el-col>\n                                <el-button\n                                  type=\"text\"\n                                  style=\"padding-right: 10px\"\n                                  @click=\"removeParams(scope, index)\"\n                                >\n                                  <i class=\"el-icon-remove-outline\" />\n                                </el-button>\n                              </div>\n                            </el-form-item>\n                            <el-form-item label=\"变量：\" prop=\"variables\">\n                              <el-button\n                                type=\"primary\"\n                                size=\"mini\"\n                                icon=\"el-icon-plus\"\n                                plain\n                                @click=\"addVariables(scope)\"\n                              >添加</el-button>\n                              <div v-for=\"(item, index) in scope.row.variables\" :key=\"index\" style=\"margin-top: 5px;\">\n                                <el-col :span=\"6\">\n                                  <el-input\n                                    v-model=\"item.name\"\n                                    placeholder=\"变量名\"\n                                    style=\"width: 200px\"\n                                  />\n                                </el-col>\n                                <el-col :span=\"7\">\n                                  <el-input\n                                    v-model=\"item.value\"\n                                    placeholder=\"变量值\"\n                                    style=\"width: 100%\"\n                                  />\n                                </el-col>\n                                <el-button\n                                  type=\"text\"\n                                  style=\"padding-right: 10px\"\n                                  @click=\"removeVariables(scope,index)\"\n                                >\n                                  <i class=\"el-icon-remove-outline\" />\n                                </el-button>\n                              </div>\n                            </el-form-item>\n                          </div>\n                        </el-collapse-item>\n                      </el-collapse>\n                    </div>\n                  </el-form>\n                </template>\n              </el-table-column>\n            </el-table>\n          </div>\n        </el-tab-pane>\n        <el-tab-pane label=\"公共变量\" name=\"second\" :lazy=\"true\">\n          <div style=\"height: 300px; overflow-y: auto;\">\n            <dict-dialog :dict-data=\"publicVariable\" />\n          </div>\n        </el-tab-pane>\n      </el-tabs>\n      <el-form-item style=\"text-align: right; margin-top: 20px;\">\n        <div class=\"dialog-footer\">\n          <el-button @click=\"closeDialog()\">取消</el-button>\n          <el-button v-if=\"title != '编辑测试用例集'\" :loading=\"loading\" type=\"primary\" @click=\"createSuite()\">保存</el-button>\n          <el-button v-if=\"title == '编辑测试用例集'\" :loading=\"loading\" type=\"primary\" @click=\"updateSuite()\">更新</el-button>\n        </div>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { httpRunnerProjectList, getHttpRunnerTestCaseIds, createHttpRunnerSuite, updateHttpRunnerSuite, httpRunnerSuiteDetail } from '@/api/httprunner'\nimport dictDialog from '@/components/Api/dictDialog'\n\nexport default {\n  components: {\n    dictDialog\n  },\n  props: {\n    title: {\n      type: String,\n      default: null\n    },\n    sid: {\n      type: Number,\n      default: 1\n    }\n  },\n  data() {\n    return {\n      timeLineHeight: '',\n      projectValue: '',\n      projectLabel: '',\n      projectOption: [],\n      apiDetailInfo: {},\n      testCaseList: [{\n        name: '',\n        case_id: '',\n        params: [],\n        variables: [],\n        // 是否显示新增按钮\n        show: 'true'\n      }],\n      apiValue: '',\n      apiLabel: '',\n      casesOption: [],\n      suiteFrom: {\n        name: '',\n        httprunner_project_id: '',\n        public_variables: '',\n        test_cases: []\n      },\n      publicVariable: [{\n        name: '',\n        value: '',\n        // 是否显示新增按钮\n        show: 'true'\n      }],\n      params: [],\n      variables: [],\n      assertLabel: '',\n      activeName: 'first',\n      loading: false\n    }\n  },\n  mounted() {\n    // 窗口滑动\n    this.timeLineHeight = document.documentElement.clientHeight - 150\n    window.onresize = () => { this.timeLineHeight = document.documentElement.clientHeight - 150 }\n    this.initHttpRunnerProjectList()\n    if (this.title === '编辑测试用例集') {\n      this.httpRunnerSuiteDetail()\n    }\n  },\n  methods: {\n    closeDialog() {\n      this.$emit('cancel', {})\n    },\n    async initHttpRunnerProjectList() {\n      const resp = await httpRunnerProjectList(this.req)\n      if (resp.success === true) {\n        for (let i = 0; i < resp.items.length; i++) {\n          this.projectOption.push({\n            value: resp.items[i].id,\n            label: resp.items[i].name\n          })\n        }\n        this.total = resp.total\n        // this.$message.success('查询成功！')\n      } else {\n        this.$message.error('查询失败！')\n      }\n    },\n    changeProject(value) {\n      this.projectValue = value\n      this.projectLabel = this.projectOption.find(\n        (item) => item.value === value\n      ).label\n      this.httpRunnerTestCaseIds(value)\n    },\n    async httpRunnerTestCaseIds(projectId) {\n      const resp = await getHttpRunnerTestCaseIds(projectId)\n      if (resp.success === true) {\n        for (let i = 0; i < resp.result.length; i++) {\n          this.casesOption.push({\n            value: resp.result[i].id,\n            label: resp.result[i].name\n          })\n        }\n        // this.$message.success('查询成功！')\n      } else {\n        this.$message.error('查询失败！')\n      }\n    },\n    // 添加测试步骤\n    addTestCase(index) {\n      const list = this.testCaseList\n      list[index].show = 'false'\n      list.push({\n        name: '',\n        case_id: '',\n        params: [],\n        variables: [],\n        show: 'true'\n      })\n      this.testCaseList = list\n    },\n    addParams(scope) {\n      scope.row.params.push({ name: '', value: '' })\n    },\n    removeParams(scope, index) {\n      scope.row.params.splice(index, 1)\n    },\n    addVariables(scope) {\n      scope.row.variables.push({ name: '', value: '' })\n    },\n    removeVariables(scope, index) {\n      scope.row.variables.splice(index, 1)\n    },\n    removeTestCase(index) {\n      const list = this.testCaseList\n      if (index === 0 && list.length === 1) {\n        list.splice(index, 1)\n        list.push({\n          name: '',\n          case_id: '',\n          params: [],\n          variables: [],\n          show: 'true'\n        })\n      } else {\n        list.splice(index, 1)\n      }\n      if (index === list.length) {\n        list[index - 1].show = 'true'\n      }\n      this.testCaseList = list\n    },\n    async createSuite() {\n      const testCases = []\n      for (let i = 0; i < this.testCaseList.length; i++) {\n        const case_info = this.testCaseList[i]\n        const case_dict = {\n          'name': case_info.name,\n          'case_id': case_info.case_id,\n          'params': this.params_data_dict(case_info.params),\n          'variables': this.list_to_dict(case_info.variables)\n        }\n        testCases.push(case_dict)\n      }\n      const public_variables_dict = this.list_to_dict(this.publicVariable)\n      this.suiteFrom.public_variables = public_variables_dict\n      this.suiteFrom.test_cases = testCases\n      this.loading = true\n      const resp = await createHttpRunnerSuite(this.suiteFrom)\n      if (resp.success === true) {\n        this.$message.success('创建成功！')\n        this.loading = false\n        this.closeDialog()\n      } else {\n        this.$message.error('创建失败！')\n      }\n    },\n    async updateSuite() {\n      const testCases = []\n      for (let i = 0; i < this.testCaseList.length; i++) {\n        const case_info = this.testCaseList[i]\n        const case_dict = {\n          'name': case_info.name,\n          'case_id': case_info.case_id,\n          'params': this.params_data_dict(case_info.params),\n          'variables': this.list_to_dict(case_info.variables)\n        }\n        testCases.push(case_dict)\n      }\n      const public_variables_dict = this.list_to_dict(this.publicVariable)\n      this.suiteFrom.public_variables = public_variables_dict\n      this.suiteFrom.test_cases = testCases\n      this.loading = true\n      const resp = await updateHttpRunnerSuite(this.sid, this.suiteFrom)\n      if (resp.success === true) {\n        this.$message.success('更新成功！')\n        this.loading = false\n        this.closeDialog()\n      } else {\n        this.$message.error('更新失败！')\n      }\n    },\n    async httpRunnerSuiteDetail() {\n      const resp = await httpRunnerSuiteDetail(this.sid)\n      if (resp.success === true) {\n        this.suiteFrom = resp.result\n        const config_content = JSON.parse(resp.result.config.replace(/'/g, '\"'))\n        if (Object.keys(config_content).length !== 0) {\n          this.publicVariable = this.dict_to_list(config_content)\n          this.publicVariable[this.publicVariable.length - 1]['show'] = 'true'\n        }\n        const testCasesResult = []\n        const testCases = JSON.parse(this.suiteFrom.test_cases.replace(/'/g, '\"'))\n        for (let i = 0; i < testCases.length; i++) {\n          if (testCases[i].params !== undefined) {\n            this.params = this.params_data_list(testCases[i].params)\n          }\n          if (testCases.variables !== undefined) {\n            this.variables = this.dict_to_list(testCases.variables)\n          }\n          testCasesResult.push({\n            name: testCases[i].name,\n            case_id: testCases[i].case_id,\n            params: this.params,\n            variables: this.variables\n          })\n        }\n        this.testCaseList = testCasesResult\n        this.testCaseList[this.testCaseList.length - 1]['show'] = 'true'\n        this.httpRunnerTestCaseIds(resp.result.httprunner_project_id)\n        // this.$message.success('查询成功！')\n      } else {\n        this.$message.error('查询失败！')\n      }\n    },\n    // 列表转换字典\n    list_to_dict(lst) {\n      if (lst !== undefined) {\n        const dict = {}\n        for (let i = 0; i < lst.length; i++) {\n          const item = lst[i]\n          if (item.name === '' && item.value === '') {\n            return dict\n          }\n          dict[item.name] = item.value\n        }\n        return dict\n      }\n    },\n    // 字典转换列表\n    dict_to_list(dic) {\n      if (dic !== undefined) {\n        const result = Object.entries(dic).map(([name, value]) => {\n          return { 'name': name, 'value': value }\n        })\n        return result\n      }\n    },\n    params_data_dict(lst) {\n      const output = {}\n      lst.forEach(item => {\n        const name = item['name']\n        const value = item['value']\n        if (output[name]) {\n          output[name].push(value)\n        } else {\n          output[name] = [value]\n        }\n      })\n      return output\n    },\n    params_data_list(dic) {\n      /**\n       * 将数据 {\"aa\": 111, \"bb\": 222}转换为\n       * [{\"name\": \"aa\", \"value\": 111}, {\"name\": \"bb\", \"value\": 222}]\n       */\n      const output = Object.entries(dic).flatMap(([name, values]) => {\n        return values.map(value => ({ name, value }))\n      })\n      return output\n    }\n  }\n}\n</script>\n<style scoped>\n#image {\n  text-align: left;\n}\n.container {\n  position: relative;\n}\n.btn {\n  position: absolute;\n  right: 0;\n}\n.label-text {\n  font-family: \"Lucida Calligraphy\", cursive, serif, sans-serif;\n  font-size: 20px;\n  font-weight: bolder;\n  margin-top: 5px;\n}\n</style>\n"]}]}