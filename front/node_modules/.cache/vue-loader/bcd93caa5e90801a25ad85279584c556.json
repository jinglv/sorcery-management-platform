{"remainingRequest":"/Users/jeanlv/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/jeanlv/sorcery-management-platform/front/src/views/cases/suite/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/jeanlv/sorcery-management-platform/front/src/views/cases/suite/index.vue","mtime":1702543748854},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1698032215054},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js","mtime":1698032214874},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1698032215054},{"path":"/Users/jeanlv/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js","mtime":1698032217227}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUZXN0U3VpdGVEaWFsb2cgZnJvbSAnQC9jb21wb25lbnRzL0Nhc2VzL3Rlc3RTdWl0ZURpYWxvZycKaW1wb3J0IHsgZ2V0U3VpdGVMaXN0IH0gZnJvbSAnQC9hcGkvY2FzZXMnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0Nhc2VTdWl0ZScsCiAgY29tcG9uZW50czogewogICAgVGVzdFN1aXRlRGlhbG9nCiAgfSwKICBmaWx0ZXJzOiB7CiAgICB0ZXN0U3VpdGVTdGF0dXModmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09PSAxKSB7CiAgICAgICAgcmV0dXJuICfmnKrmiafooYwnCiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IDIpIHsKICAgICAgICByZXR1cm4gJ+aJp+ihjOS4rScKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gMykgewogICAgICAgIHJldHVybiAn5bey5a6M5oiQJwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAnJwogICAgICB9CiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGVzdFN1aXRlVGl0bGU6ICdjcmVhdGUnLAogICAgICBkaWFsb2dGbGFnOiBmYWxzZSwKICAgICAgdGVzdFN1aXRlRGF0YTogW10sCiAgICAgIHN1aXRlRnJvbTogewogICAgICAgICduYW1lJzogJycsCiAgICAgICAgJ3ZlcnNpb25fbnVtYmVyJzogJycsCiAgICAgICAgJ3N0YXR1cyc6IDAKICAgICAgfSwKICAgICAgcmVxOiB7CiAgICAgICAgcGFnZTogMSwKICAgICAgICBzaXplOiAxMAogICAgICB9LAogICAgICAvLyDliIbpobXpobXmlbAKICAgICAgdG90YWw6IDEwLAogICAgICBzdGF0dXNWYWx1ZTogJycsCiAgICAgIHN0YXR1c0xhYmVsOiAnJywKICAgICAgc3RhdHVzT3B0aW9uOiBbCiAgICAgICAgewogICAgICAgICAgdmFsdWU6IDEsCiAgICAgICAgICBsYWJlbDogJ+acquaJp+ihjCcKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHZhbHVlOiAyLAogICAgICAgICAgbGFiZWw6ICfmiafooYzkuK0nCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICB2YWx1ZTogMywKICAgICAgICAgIGxhYmVsOiAn5bey5omn6KGMJwogICAgICAgIH0KICAgICAgXSwKICAgICAgY3VycmVudFN1aXRlSWQ6IDAKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFN1aXRlTGlzdCgpCiAgfSwKICBtZXRob2RzOiB7CiAgICB0ZXN0U3VpdGVTdGF0dXNUeXBlKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSA9PT0gMSkgewogICAgICAgIHJldHVybiAnd2FybmluZycKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gMikgewogICAgICAgIHJldHVybiAnaW5mbycKICAgICAgfSBlbHNlIGlmICh2YWx1ZSA9PT0gMykgewogICAgICAgIHJldHVybiAnc3VjY2VzcycKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJycKICAgICAgfQogICAgfSwKICAgIGNoYW5nZVN0YXR1c1ZhbHVlKHZhbHVlKSB7CiAgICAgIHRoaXMuc3RhdHVzVmFsdWUgPSB2YWx1ZQogICAgICB0aGlzLnN0YXR1c0xhYmVsID0gdGhpcy5zdGF0dXNPcHRpb24uZmluZCgKICAgICAgICAoaXRlbSkgPT4gaXRlbS52YWx1ZSA9PT0gdmFsdWUKICAgICAgKS5sYWJlbAogICAgICB0aGlzLnN1aXRlRnJvbS5zdGF0dXMgPSB2YWx1ZQogICAgfSwKICAgIC8vIOWIm+W7uueUqOS+i+mbhgogICAgY3JlYXRlVGVzdFN1aXRlKCkgewogICAgICB0aGlzLmRpYWxvZ0ZsYWcgPSB0cnVlCiAgICAgIHRoaXMudGVzdFN1aXRlVGl0bGUgPSAnY3JlYXRlJwogICAgfSwKICAgIGNsb3NlRGlhbG9nKCkgewogICAgICB0aGlzLmRpYWxvZ0ZsYWcgPSBmYWxzZQogICAgICB0aGlzLmdldFN1aXRlTGlzdCgpCiAgICB9LAogICAgc2hvd1Rlc3RTdWl0ZShyb3cpIHsKICAgICAgdGhpcy5jdXJyZW50U3VpdGVJZCA9IHJvdy5pZAogICAgICB0aGlzLmRpYWxvZ0ZsYWcgPSB0cnVlCiAgICAgIHRoaXMudGVzdFN1aXRlVGl0bGUgPSAnZGV0YWlsJwogICAgfSwKICAgIGVkaXRUZXN0U3VpdGUocm93KSB7CiAgICAgIHRoaXMuY3VycmVudFN1aXRlSWQgPSByb3cuaWQKICAgICAgdGhpcy5kaWFsb2dGbGFnID0gdHJ1ZQogICAgICB0aGlzLnRlc3RTdWl0ZVRpdGxlID0gJ2VkaXQnCiAgICB9LAogICAgLy8g6I635Y+W5rWL6K+V55So5L6L6ZuG5YiX6KGoCiAgICBhc3luYyBnZXRTdWl0ZUxpc3QoKSB7CiAgICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBnZXRTdWl0ZUxpc3QodGhpcy5yZXEsIEpTT04uc3RyaW5naWZ5KHRoaXMuc3VpdGVGcm9tKSkKICAgICAgaWYgKHJlc3Auc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMudG90YWwgPSByZXNwLnRvdGFsCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZXNwLml0ZW1zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICByZXNwLml0ZW1zW2ldLmNyZWF0ZV90aW1lID0gdGhpcy4kbW9tZW50KAogICAgICAgICAgICByZXNwLml0ZW1zW2ldLmNyZWF0ZV90aW1lCiAgICAgICAgICApLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbTpzcycpCiAgICAgICAgfQogICAgICAgIHRoaXMudGVzdFN1aXRlRGF0YSA9IHJlc3AuaXRlbXMKICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+afpeivouaIkOWKn++8gScpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5p+l6K+i5aSx6LSl77yBJykKICAgICAgfQogICAgfSwKICAgIC8vIOi3s+i9rOWIsOesrOWHoOmhtQogICAgaGFuZGxlQ3VycmVudENoYW5nZSh2YWwpIHsKICAgICAgLy8gY29uc29sZS5sb2coYOW9k+WJjemhtTogJHt2YWx9YCkKICAgICAgdGhpcy5yZXEucGFnZSA9IHZhbAogICAgICB0aGlzLmdldENhc2VzTGlzdCgpCiAgICB9LAogICAgLy8g5riF6Zmk5pCc57SiCiAgICBjbGVhclNlYXJjaCgpIHsKICAgICAgdGhpcy5zdGF0dXNWYWx1ZSA9ICcnCiAgICAgIHRoaXMuc3VpdGVGcm9tLnN0YXR1cyA9IDAKICAgICAgdGhpcy5zdWl0ZUZyb20ubmFtZSA9ICcnCiAgICAgIHRoaXMuc3VpdGVGcm9tLnZlcnNpb25fbnVtYmVyID0gJycKICAgICAgdGhpcy5nZXRTdWl0ZUxpc3QoKQogICAgfQogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/cases/suite","sourcesContent":["<template>\n  <div class=\"test-suite\">\n    <div class=\"filter-container\">\n      <el-row :gutter=\"24\">\n        <el-col :span=\"6\">\n          <div class=\"demo-input-suffix\">\n            用例集名称:\n            <el-input v-model=\"suiteFrom.name\" placeholder=\"请输入用例集名称\" style=\"width: 70%;margin-right: 5px;\" class=\"filter-item\" />\n          </div>\n        </el-col>\n        <el-col :span=\"6\">\n          <div class=\"demo-input-suffix\">\n            需求版本号:\n            <el-input v-model=\"suiteFrom.name\" placeholder=\"请输入需求版本号\" style=\"width: 70%;margin-right: 5px;\" class=\"filter-item\" />\n          </div>\n        </el-col>\n        <el-col :span=\"6\">\n          <div class=\"demo-input-suffix\">\n            执行状态:\n            <el-select\n              v-model=\"statusValue\"\n              placeholder=\"请选择用例集执行状态\"\n              @change=\"changeStatusValue\"\n            >\n              <el-option\n                v-for=\"item in statusOption\"\n                :key=\"item.value\"\n                :label=\"item.label\"\n                :value=\"item.value\"\n              />\n            </el-select>\n          </div>\n        </el-col>\n      </el-row>\n      <div style=\"text-align: right;margin-top: 10px;\">\n        <el-button class=\"filter-item\" icon=\"el-icon-delete\" @click=\"clearSearch()\">重置</el-button>\n        <el-button class=\"filter-item\" type=\"primary\" icon=\"el-icon-search\" @click=\"getSuiteList()\">搜索</el-button>\n      </div>\n    </div>\n    <div style=\"text-align: left; margin-top: 10px;\">\n      <el-button class=\"el-icon-circle-plus-outline\" type=\"primary\" @click=\"createTestSuite()\">创建用例集</el-button>\n    </div>\n    <div style=\"margin-top: 10px\">\n      <el-table\n        :data=\"testSuiteData\"\n        border\n        style=\"width: 100%\"\n      >\n        <el-table-column prop=\"id\" label=\"ID\" width=\"80\" />\n        <el-table-column prop=\"name\" label=\"用例集名称\" width=\"auto\" />\n        <el-table-column prop=\"version_number\" label=\"需求版本号\" width=\"auto\" />\n        <el-table-column prop=\"case_number\" label=\"用例数量\" width=\"auto\" />\n        <el-table-column prop=\"status\" label=\"执行状态\" width=\"180\">\n          <template slot-scope=\"{ row }\">\n            <el-tag :type=\"testSuiteStatusType(row.status)\" effect=\"dark\">\n              {{ row.status | testSuiteStatus }}\n            </el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"create_time\" label=\"创建时间\" width=\"auto\" />\n        <el-table-column fixed=\"right\" label=\"操作\">\n          <template slot-scope=\"scope\">\n            <el-button\n              type=\"text\"\n              @click=\"showTestSuite(scope.row)\"\n            >执行</el-button>\n            <el-button\n              type=\"text\"\n              @click=\"showTestSuite(scope.row)\"\n            >查看</el-button>\n            <el-button\n              type=\"text\"\n              @click=\"editTestSuite(scope.row)\"\n            >编辑</el-button>\n            <el-button\n              type=\"text\"\n              @click=\"deleteTestCase(scope.row)\"\n            >删除</el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <!--分页-->\n      <div style=\"width: 100%; text-align: right\">\n        <el-pagination\n          background\n          :total=\"total\"\n          :page-size=\"req.size\"\n          layout=\"total, prev, pager, next\"\n          @current-change=\"handleCurrentChange\"\n        />\n      </div>\n    </div>\n    <!-- 创建测试用例集 -->\n    <test-suite-dialog\n      v-if=\"dialogFlag\"\n      :title=\"testSuiteTitle\"\n      :sid=\"currentSuiteId\"\n      @cancel=\"closeDialog\"\n    />\n  </div>\n</template>\n<script>\nimport TestSuiteDialog from '@/components/Cases/testSuiteDialog'\nimport { getSuiteList } from '@/api/cases'\n\nexport default {\n  name: 'CaseSuite',\n  components: {\n    TestSuiteDialog\n  },\n  filters: {\n    testSuiteStatus(value) {\n      if (value === 1) {\n        return '未执行'\n      } else if (value === 2) {\n        return '执行中'\n      } else if (value === 3) {\n        return '已完成'\n      } else {\n        return ''\n      }\n    }\n  },\n  data() {\n    return {\n      testSuiteTitle: 'create',\n      dialogFlag: false,\n      testSuiteData: [],\n      suiteFrom: {\n        'name': '',\n        'version_number': '',\n        'status': 0\n      },\n      req: {\n        page: 1,\n        size: 10\n      },\n      // 分页页数\n      total: 10,\n      statusValue: '',\n      statusLabel: '',\n      statusOption: [\n        {\n          value: 1,\n          label: '未执行'\n        },\n        {\n          value: 2,\n          label: '执行中'\n        },\n        {\n          value: 3,\n          label: '已执行'\n        }\n      ],\n      currentSuiteId: 0\n    }\n  },\n  mounted() {\n    this.getSuiteList()\n  },\n  methods: {\n    testSuiteStatusType(value) {\n      if (value === 1) {\n        return 'warning'\n      } else if (value === 2) {\n        return 'info'\n      } else if (value === 3) {\n        return 'success'\n      } else {\n        return ''\n      }\n    },\n    changeStatusValue(value) {\n      this.statusValue = value\n      this.statusLabel = this.statusOption.find(\n        (item) => item.value === value\n      ).label\n      this.suiteFrom.status = value\n    },\n    // 创建用例集\n    createTestSuite() {\n      this.dialogFlag = true\n      this.testSuiteTitle = 'create'\n    },\n    closeDialog() {\n      this.dialogFlag = false\n      this.getSuiteList()\n    },\n    showTestSuite(row) {\n      this.currentSuiteId = row.id\n      this.dialogFlag = true\n      this.testSuiteTitle = 'detail'\n    },\n    editTestSuite(row) {\n      this.currentSuiteId = row.id\n      this.dialogFlag = true\n      this.testSuiteTitle = 'edit'\n    },\n    // 获取测试用例集列表\n    async getSuiteList() {\n      const resp = await getSuiteList(this.req, JSON.stringify(this.suiteFrom))\n      if (resp.success === true) {\n        this.total = resp.total\n        for (let i = 0; i < resp.items.length; i++) {\n          resp.items[i].create_time = this.$moment(\n            resp.items[i].create_time\n          ).format('YYYY-MM-DD HH:mm:ss')\n        }\n        this.testSuiteData = resp.items\n        this.$message.success('查询成功！')\n      } else {\n        this.$message.error('查询失败！')\n      }\n    },\n    // 跳转到第几页\n    handleCurrentChange(val) {\n      // console.log(`当前页: ${val}`)\n      this.req.page = val\n      this.getCasesList()\n    },\n    // 清除搜索\n    clearSearch() {\n      this.statusValue = ''\n      this.suiteFrom.status = 0\n      this.suiteFrom.name = ''\n      this.suiteFrom.version_number = ''\n      this.getSuiteList()\n    }\n  }\n}\n</script>\n<style scoped>\n.custom-tree-node {\n  width: 100%;\n}\n.label-title {\n  font-family: \"Liberation Mono\", monospace, serif, sans-serif;\n  font-size: 24px;\n}\n.label-text {\n  font-family: \"Lucida Calligraphy\", cursive, serif, sans-serif;\n  font-size: 20px;\n  font-weight: bolder;\n  float: left;\n  margin-top: 5px;\n}\n.flex-container {\n  display: flex;\n}\n\n.el-container {\n  text-align: center;\n  line-height: 38px;\n}\n</style>\n"]}]}