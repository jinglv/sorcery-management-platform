{"remainingRequest":"/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvjing/sorcery-management-platform/front/src/components/Infos/apiRequestDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvjing/sorcery-management-platform/front/src/components/Infos/apiRequestDialog.vue","mtime":1688630998809},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1679466716417},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js","mtime":1679466716072},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1679466716417},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js","mtime":1679466707590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBqc29uVmlld2VyIGZyb20gJ3Z1ZS1qc29uLXZpZXdlcicKaW1wb3J0IHsgZGVidWdBcGksIGFzc2VydEFwaSwgY3JlYXRlQXBpLCBjaGVja0V4dHJhY3QsIHVwZGF0ZUFwaSB9IGZyb20gJ0AvYXBpL2FwaXMnCmltcG9ydCB7IGFwaUluZm9EZXRhaWwgfSBmcm9tICdAL2FwaS9pbmZvcycKaW1wb3J0IGRpY3REaWFsb2cgZnJvbSAnQC9jb21wb25lbnRzL0FwaS9kaWN0RGlhbG9nLnZ1ZScKaW1wb3J0IGFjZUNvZGVFZGl0b3JEaWFsb2cgZnJvbSAnQC9jb21wb25lbnRzL0h0dHBSdW5uZXIvYWNlQ29kZUVkaXRvckRpYWxvZycKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBpUmVxdWVzdCcsCiAgY29tcG9uZW50czogewogICAganNvblZpZXdlciwKICAgIGRpY3REaWFsb2csCiAgICBhY2VDb2RlRWRpdG9yRGlhbG9nCiAgfSwKICBwcm9wczogewogICAgdGl0bGU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9LAogICAgYWlkOiB7CiAgICAgIHR5cGU6IE51bWJlciwKICAgICAgZGVmYXVsdDogMQogICAgfQogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG1ldGhvZE9wdGlvbjogWwogICAgICAgIHsKICAgICAgICAgIHZhbHVlOiAnZ2V0JywKICAgICAgICAgIGxhYmVsOiAnR0VUJwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdmFsdWU6ICdwb3N0JywKICAgICAgICAgIGxhYmVsOiAnUE9TVCcKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIHZhbHVlOiAncHV0JywKICAgICAgICAgIGxhYmVsOiAnUFVUJwogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAgdmFsdWU6ICdkZWxldGUnLAogICAgICAgICAgbGFiZWw6ICdERUxFVEUnCiAgICAgICAgfQogICAgICBdLAogICAgICByZXF1ZXN0X3BhdGg6ICcnLAogICAgICBhY3RpdmVOYW1lOiAnZmlyc3QnLAogICAgICBwYXJhbXNUeXBlOiAxLAogICAgICBqc29uOiB7fSwKICAgICAgcmVzcG9uc2U6ICcnLAogICAgICBhc3NlcnRUeXBlOiAnaW5jbHVkZScsCiAgICAgIGFwaUluZm9Gb3JtOiB7CiAgICAgICAgdXJsOiAnJywKICAgICAgICBtZXRob2Q6ICcnLAogICAgICAgIHJlcXVlc3RfaGVhZGVyczogW10sCiAgICAgICAgcmVxdWVzdF9wYXJhbXM6IFtdLAogICAgICAgIHJlcXVlc3RfYm9keToge30sCiAgICAgICAgcmVzcG9uc2VfYm9keToge30sCiAgICAgICAgYXNzZXJ0X3R5cGU6ICdpbmNsdWRlJywKICAgICAgICBhc3NlcnRfdGV4dDogJycKICAgICAgfSwKICAgICAgYXBpRm9ybTogewogICAgICAgIG5hbWU6ICcnLAogICAgICAgIG1vZHVsZV9pZDogMCwKICAgICAgICBhcGlfcGF0aDogJycsCiAgICAgICAgbWV0aG9kOiAnZ2V0JywKICAgICAgICBoZWFkZXI6IFtdLAogICAgICAgIHBhcmFtc190eXBlOiAncGFyYW1zJywKICAgICAgICBwYXJhbXNfYm9keTogJycsCiAgICAgICAgcmVzcG9uc2U6ICcnLAogICAgICAgIGFzc2VydF90eXBlOiAnaW5jbHVkZScsCiAgICAgICAgYXNzZXJ0X3RleHQ6ICcnCiAgICAgIH0sCiAgICAgIHBhcmFtczogW10sCiAgICAgIHNhdmVGbGFnOiBmYWxzZSwKICAgICAgZXh0cmFjdExpc3Q6IFtdLAogICAgICB0aW1lTGluZUhlaWdodDogJycsCiAgICAgIGhlYWRlckRhdGE6IFt7CiAgICAgICAga2V5OiAnJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgLy8g5piv5ZCm5pi+56S65paw5aKe5oyJ6ZKuCiAgICAgICAgc2hvdzogJ3RydWUnCiAgICAgIH1dLAogICAgICBwYXJhbURhdGE6IFt7CiAgICAgICAga2V5OiAnJywKICAgICAgICB2YWx1ZTogJycsCiAgICAgICAgLy8g5piv5ZCm5pi+56S65paw5aKe5oyJ6ZKuCiAgICAgICAgc2hvdzogJ3RydWUnCiAgICAgIH1dLAogICAgICBib2R5RmxhZzogZmFsc2UsCiAgICAgIHBhcmFtRmxhZzogdHJ1ZSwKICAgICAganNvbl9ib2R5OiAnJwogICAgfQogIH0sCiAgbW91bnRlZCgpIHsKICAgIC8vIOeql+WPo+a7keWKqAogICAgdGhpcy50aW1lTGluZUhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSAxNTAKICAgIHdpbmRvdy5vbnJlc2l6ZSA9ICgpID0+IHsgdGhpcy50aW1lTGluZUhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSAxNTAgfQogICAgLy8g5Yid5aeL5YyW5pWw5o2uCiAgICB0aGlzLmdldEFwaUluZm9EZXRhaWwoKQogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+W5LiA5p2h55So5L6L5L+h5oGvCiAgICBhc3luYyBnZXRBcGlJbmZvRGV0YWlsKCkgewogICAgICBjb25zdCByZXNwID0gYXdhaXQgYXBpSW5mb0RldGFpbCh0aGlzLmFpZCkKICAgICAgY29uc29sZS5pbmZvKCflk43lupTnu5PmnpzvvJonLCByZXNwKQogICAgICBpZiAocmVzcC5zdWNjZXNzID09PSB0cnVlKSB7CiAgICAgICAgLy8g5o6l5Y+j6I635Y+W5pWw5o2uCiAgICAgICAgdGhpcy5hcGlJbmZvRm9ybSA9IHJlc3AucmVzdWx0CiAgICAgICAgLy8g5bCG6I635Y+W5Yiw55qE5pWw5o2u6LWL5YC857uZ6KGo5Y2V5pWw5o2uCiAgICAgICAgdGhpcy5oZWFkZXJEYXRhID0gcmVzcC5yZXN1bHQucmVxdWVzdF9oZWFkZXJzCiAgICAgICAgLy8g6I635Y+W5aS05L+h5oGv5ZCO77yM5re75Yqg77yM5piv5ZCm5Y+v5bGV56S65L+h5oGvCiAgICAgICAgdGhpcy5oZWFkZXJEYXRhW3RoaXMuaGVhZGVyRGF0YS5sZW5ndGggLSAxXVsnc2hvdyddID0gJ3RydWUnCiAgICAgICAgdGhpcy5wYXJhbURhdGEgPSByZXNwLnJlc3VsdC5yZXF1ZXN0X3BhcmFtcwogICAgICAgIGlmICh0aGlzLnBhcmFtRGF0YS5sZW5ndGggIT09IDApIHsKICAgICAgICAgIHRoaXMucGFyYW1EYXRhW3RoaXMucGFyYW1EYXRhLmxlbmd0aCAtIDFdWydzaG93J10gPSAndHJ1ZScKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXNwLmVycm9yLm1lc3NhZ2UpCiAgICAgIH0KICAgIH0sCiAgICBnZXRJbnB1dEpzb25Cb2R5KHZhbHVlKSB7CiAgICAgIHRoaXMuanNvbl9ib2R5ID0gdmFsdWUKICAgIH0sCiAgICAvLyDlj5HpgIHor7fmsYIKICAgIGFzeW5jIHNlbmRDbGljaygpIHsKICAgICAgLy8g6K+35rGC5aS05Y+C5pWw6L2s5o2iCiAgICAgIGNvbnN0IHJlcV9oZWFkZXIgPSBbXQogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuaGVhZGVyRGF0YS5sZW5ndGg7IGkrKykgewogICAgICAgIGNvbnN0IGhlYWQgPSB7CiAgICAgICAgICBuYW1lOiB0aGlzLmhlYWRlckRhdGFbaV0ubmFtZSwKICAgICAgICAgIHZhbHVlOiB0aGlzLmhlYWRlckRhdGFbaV0udmFsdWUKICAgICAgICB9CiAgICAgICAgcmVxX2hlYWRlci5wdXNoKGhlYWQpCiAgICAgIH0KICAgICAgaWYgKHRoaXMuYXBpSW5mb0Zvcm0ucmVxdWVzdF9wYXJhbXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy5hcGlGb3JtLnBhcmFtc190eXBlID0gJ2pzb24nCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5hcGlGb3JtLnBhcmFtc190eXBlID0gJ3BhcmFtcycKICAgICAgfQogICAgICAvLyDlhaXlj4Lov5vooYzovazmjaIKICAgICAgY29uc3QgcmVxID0gewogICAgICAgIG1ldGhvZDogdGhpcy5hcGlJbmZvRm9ybS5tZXRob2QudG9Mb2NhbGVMb3dlckNhc2UoKSwKICAgICAgICB1cmw6IHRoaXMuYXBpSW5mb0Zvcm0udXJsLAogICAgICAgIGhlYWRlcjogcmVxX2hlYWRlciwKICAgICAgICBwYXJhbXNfdHlwZTogdGhpcy5hcGlGb3JtLnBhcmFtc190eXBlLAogICAgICAgIHBhcmFtc19ib2R5OiB0aGlzLmFwaUZvcm0ucGFyYW1zX3R5cGUgPT09ICdwYXJhbXMnID8gSlNPTi5zdHJpbmdpZnkodGhpcy5wYXJhbURhdGEpIDogSlNPTi5zdHJpbmdpZnkodGhpcy5qc29uX2JvZHkpCiAgICAgIH0KICAgICAgY29uc29sZS5pbmZvKCdyZXE6JywgcmVxKQogICAgICBjb25zdCByZXNwID0gYXdhaXQgZGVidWdBcGkocmVxKQogICAgICBpZiAocmVzcC5zdWNjZXNzID09PSB0cnVlKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfor7fmsYLmiJDlip8nKQogICAgICAgIHRoaXMuYXBpRm9ybS5yZXNwb25zZSA9IEpTT04ucGFyc2UocmVzcC5yZXN1bHQucmVzcG9uc2UpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHJlc3AuZXJyb3IuY29kZSA9PT0gJzEwMDQ0JykgewogICAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcihyZXNwLmVycm9yLm1lc3NhZ2UpCiAgICAgICAgfQogICAgICAgIGNvbnNvbGUubG9nKHJlc3ApCiAgICAgIH0KICAgIH0sCiAgICAvLyDmjqXlj6Pmlq3oqIAKICAgIGFzeW5jIGFzc2VydENsaWNrKCkgewogICAgICBjb25zdCByZXEgPSB7CiAgICAgICAgcmVzcG9uc2U6IEpTT04uc3RyaW5naWZ5KHRoaXMuYXBpRm9ybS5yZXNwb25zZSksCiAgICAgICAgYXNzZXJ0X3R5cGU6IHRoaXMuYXBpRm9ybS5hc3NlcnRfdHlwZSwKICAgICAgICBhc3NlcnRfdGV4dDogdGhpcy5hcGlGb3JtLmFzc2VydF90ZXh0CiAgICAgIH0KICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IGFzc2VydEFwaShyZXEpCiAgICAgIGlmIChyZXNwLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+aWreiogOaIkOWKnycpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5pat6KiA5aSx6LSlJykKICAgICAgfQogICAgfSwKICAgIC8vIOS/neWtmOeUqOS+iwogICAgYXN5bmMgc2F2ZVRlc3RDYXNlKCkgewogICAgICAvLyDor7fmsYLlpLTlj4LmlbDovazmjaIKICAgICAgY29uc3QgcmVxX2hlYWRlciA9IHRoaXMuZGljdEhlYWRlckRhdGEoKQogICAgICBjb25zdCByZXFfcGFyYW1zID0gdGhpcy5kaWN0UGFyYW1zRGF0YSgpCiAgICAgIGlmICh0aGlzLmFwaUZvcm0ucGFyYW1zX3R5cGUgIT09ICdqc29uJykgewogICAgICAgIHRoaXMuYXBpRm9ybS5wYXJhbXNfYm9keSA9IHJlcV9wYXJhbXMKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFwaUZvcm0ucGFyYW1zX2JvZHkgPSB0aGlzLmpzb25fYm9keQogICAgICB9CiAgICAgIHRoaXMuYXBpRm9ybS5leHRyYWN0X2xpc3QgPSB0aGlzLmV4dHJhY3RMaXN0CiAgICAgIHRoaXMuYXBpRm9ybS5oZWFkZXIgPSByZXFfaGVhZGVyCiAgICAgIHRoaXMuYXBpRm9ybS5yZXNwb25zZSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuYXBpRm9ybS5yZXNwb25zZSkKICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IGNyZWF0ZUFwaSh0aGlzLmFwaUZvcm0pCiAgICAgIGlmIChyZXNwLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+S/neWtmOaIkOWKnycpCiAgICAgICAgdGhpcy5zYXZlRmxhZyA9IHRydWUKICAgICAgICAvLyDlu7bml7blmagKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJykKICAgICAgICAgIHRoaXMuJGVtaXQoJ3JlZnJlc2gnKQogICAgICAgIH0sIDUwMCkKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfkv53lrZjlpLHotKUnKQogICAgICB9CiAgICB9LAogICAgLy8g5pu05paw55So5L6LCiAgICBhc3luYyB1cGRhdGVUZXN0Q2FzZSgpIHsKICAgICAgLy8g6K+35rGC5aS05Y+C5pWw6L2s5o2iCiAgICAgIGNvbnN0IHJlcV9oZWFkZXIgPSB0aGlzLmRpY3RIZWFkZXJEYXRhKCkKICAgICAgY29uc3QgcmVxX3BhcmFtcyA9IHRoaXMuZGljdFBhcmFtc0RhdGEoKQogICAgICBpZiAodGhpcy5hcGlGb3JtLnBhcmFtc190eXBlICE9PSAnanNvbicpIHsKICAgICAgICB0aGlzLmFwaUZvcm0ucGFyYW1zX2JvZHkgPSByZXFfcGFyYW1zCiAgICAgIH0KICAgICAgdGhpcy5hcGlGb3JtLmV4dHJhY3RfbGlzdCA9IHRoaXMuZXh0cmFjdExpc3QKICAgICAgdGhpcy5hcGlGb3JtLmhlYWRlciA9IHJlcV9oZWFkZXIKICAgICAgdGhpcy5hcGlGb3JtLnJlc3BvbnNlID0gSlNPTi5zdHJpbmdpZnkodGhpcy5hcGlGb3JtLnJlc3BvbnNlKQogICAgICBjb25zdCByZXNwID0gYXdhaXQgdXBkYXRlQXBpKHRoaXMuY2lkLCB0aGlzLmFwaUZvcm0pCiAgICAgIGlmIChyZXNwLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+abtOaWsOaIkOWKnycpCiAgICAgICAgdGhpcy5zYXZlRmxhZyA9IHRydWUKICAgICAgICAvLyDlu7bml7blmagKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJykKICAgICAgICAgIHRoaXMuJGVtaXQoJ3JlZnJlc2gnKQogICAgICAgIH0sIDUwMCkKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCfmm7TmlrDlpLHotKUnKQogICAgICB9CiAgICB9LAogICAgLy8g5re75Yqg5o+Q5Y+W6KeE5YiZCiAgICBhZGRFeHRyYWN0KCkgewogICAgICB0aGlzLmV4dHJhY3RMaXN0LnB1c2goeyBuYW1lOiAnJywgdmFsdWU6ICcnIH0pCiAgICAgIGNvbnNvbGUuaW5mbyh0aGlzLmV4dHJhY3RMaXN0KQogICAgfSwKICAgIC8vIOWIoOmZpOaPkOWPluinhOWImQogICAgcmVtb3ZlRXh0cmFjdChpbmRleCkgewogICAgICB0aGlzLmV4dHJhY3RMaXN0LnNwbGljZShpbmRleCwgMSkKICAgIH0sCiAgICAvLyDmoKHpqozmj5Dlj5bop4TliJkKICAgIGFzeW5jIGNoZWNrRXh0cmFjdCgpIHsKICAgICAgaWYgKHRoaXMuZXh0cmFjdExpc3QubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+35re75Yqg5o+Q5Y+W5ZmoJykKICAgICAgICByZXR1cm4KICAgICAgfQogICAgICBjb25zdCByZXEgPSB7CiAgICAgICAgcmVzcG9uc2U6IHRoaXMuYXBpRm9ybS5yZXNwb25zZSwKICAgICAgICBleHRyYWN0TGlzdDogdGhpcy5leHRyYWN0TGlzdAogICAgICB9CiAgICAgIGNvbnNvbGUuaW5mbygn5pat6KiA6K+35rGC77yaJywgcmVxKQogICAgICBjb25zdCByZXNwID0gYXdhaXQgY2hlY2tFeHRyYWN0KHJlcSkKICAgICAgaWYgKHJlc3Auc3VjY2VzcyA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5o+Q5Y+W5Zmo5qCh6aqM5oiQ5YqfJykKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKHJlc3AuZXJyb3IubWVzc2FnZSkKICAgICAgfQogICAgfSwKICAgIC8vIOWFs+mXrQogICAgY2xvc2VEaWFsb2coKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJykKICAgIH0sCiAgICBkaWN0SGVhZGVyRGF0YSgpIHsKICAgICAgY29uc3QgcmVxX2hlYWRlciA9IFtdCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5oZWFkZXJEYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgY29uc3QgaGVhZCA9IHsKICAgICAgICAgIGtleTogdGhpcy5oZWFkZXJEYXRhW2ldLmtleSwKICAgICAgICAgIHZhbHVlOiB0aGlzLmhlYWRlckRhdGFbaV0udmFsdWUKICAgICAgICB9CiAgICAgICAgcmVxX2hlYWRlci5wdXNoKGhlYWQpCiAgICAgIH0KICAgICAgcmV0dXJuIHJlcV9oZWFkZXIKICAgIH0sCiAgICBkaWN0UGFyYW1zRGF0YSgpIHsKICAgICAgY29uc3QgcmVxX3BhcmFtcyA9IFtdCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wYXJhbURhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICBjb25zdCBwYXJhbSA9IHsKICAgICAgICAgIGtleTogdGhpcy5wYXJhbURhdGFbaV0ua2V5LAogICAgICAgICAgdmFsdWU6IHRoaXMucGFyYW1EYXRhW2ldLnZhbHVlCiAgICAgICAgfQogICAgICAgIHJlcV9wYXJhbXMucHVzaChwYXJhbSkKICAgICAgfQogICAgICByZXR1cm4gcmVxX3BhcmFtcwogICAgfQogIH0KfQo="},{"version":3,"sources":["apiRequestDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsMA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"apiRequestDialog.vue","sourceRoot":"src/components/Infos","sourcesContent":["<template>\n  <div :style=\"{'max-height': timeLineHeight +'px'}\" style=\"margin-left: 10px; margin-right: 10px; overflow-y:scroll;\">\n    <div v-if=\"title == '接口详情'\" class=\"div-line\">\n      <el-form\n        :model=\"apiInfoForm\"\n        label-width=\"100px\"\n        class=\"demo-ruleForm\"\n      >\n        <el-form-item label=\"接口URL:\" prop=\"url\">{{ apiInfoForm.url }}</el-form-item>\n        <el-form-item label=\"请求方式:\" prop=\"method\">{{ apiInfoForm.method }}</el-form-item>\n        <el-form-item label=\"请求头:\" prop=\"request_headers\">\n          <el-table\n            :data=\"apiInfoForm.request_headers\"\n            border\n            style=\"width: 80%\"\n          >\n            <el-table-column\n              prop=\"name\"\n              label=\"Name\"\n              width=\"180\"\n            />\n            <el-table-column\n              prop=\"value\"\n              label=\"Value\"\n            />\n          </el-table>\n        </el-form-item>\n        <el-form-item label=\"Params:\" prop=\"request_params\">\n          <el-table\n            :data=\"apiInfoForm.request_params\"\n            border\n            style=\"width: 80%\"\n          >\n            <el-table-column\n              prop=\"name\"\n              label=\"Name\"\n              width=\"180\"\n            />\n            <el-table-column\n              prop=\"value\"\n              label=\"Value\"\n            />\n          </el-table>\n        </el-form-item>\n        <el-form-item label=\"Body:\" prop=\"request_body\">\n          <json-viewer :value=\"apiInfoForm.request_body\" :expand-depth=\"3\" />\n        </el-form-item>\n        <el-form-item label=\"响应主体:\" prop=\"response_body\">\n          <json-viewer :value=\"apiInfoForm.response_body\" :expand-depth=\"3\" />\n        </el-form-item>\n        <el-form-item style=\"text-align: right\">\n          <el-button @click=\"closeDialog()\">返回</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n\n    <div v-if=\"title != '接口详情'\">\n      <div class=\"div-line\" style=\"height: 50px\">\n        <el-select\n          v-model=\"apiInfoForm.method\"\n          placeholder=\"方法\"\n          style=\"width: 20%; float: left\"\n        >\n          <el-option\n            v-for=\"item in methodOption\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          />\n        </el-select>\n        <el-input\n          v-model=\"apiInfoForm.url\"\n          placeholder=\"接口URL\"\n          style=\"width: 65%; float: left\"\n        />\n        <el-button\n          type=\"primary\"\n          style=\"float: left\"\n          @click=\"sendClick()\"\n        >发送</el-button>\n      </div>\n      <div class=\"div-line\" style=\"height: 260px; overflow-y: auto;\">\n        <span class=\"title-text\">Headers</span>\n        <dict-dialog :dict-data=\"headerData\" />\n      </div>\n      <span class=\"title-text\">Request Params</span>\n      <div class=\"div-line\" style=\"height: 220px; overflow-y: auto;\">\n        <dict-dialog :dict-data=\"paramData\" />\n      </div>\n      <span class=\"title-text\">Request Body</span>\n      <div class=\"div-line\" style=\"height: 220px; overflow-y: auto;\">\n        <ace-code-editor-dialog ref=\"ace\" :value=\"apiInfoForm.request_body\" class=\"ace-editor\" :min-lines=\"18\" :mode-path=\"language\" @getCode=\"getInputJsonBody\" />\n      </div>\n      <div class=\"div-line\" style=\"height: 150px; overflow-y: auto;\">\n        <el-tabs>\n          <el-tab-pane label=\"接口响应结果\">\n            <json-viewer :value=\"apiForm.response\" :expand-depth=\"3\" />\n          </el-tab-pane>\n        </el-tabs>\n      </div>\n      <div class=\"div-line\" style=\"margin-top: 70px\">\n        <el-collapse>\n          <el-collapse-item title=\"断言\" name=\"1\">\n            <div style=\"height: 40px\">\n              <el-radio\n                v-model=\"apiForm.assert_type\"\n                label=\"include\"\n              >Include</el-radio>\n              <el-radio\n                v-model=\"apiForm.assert_type\"\n                label=\"equal\"\n              >Equal</el-radio>\n              <el-button\n                class=\"debug-button\"\n                type=\"success\"\n                plain\n                size=\"small\"\n                @click=\"assertClick()\"\n              >断言</el-button>\n            </div>\n            <div style=\"height: 120px\">\n              <el-input\n                v-model=\"apiForm.assert_text\"\n                type=\"textarea\"\n                :rows=\"5\"\n                placeholder=\"Assert text\"\n              />\n            </div>\n          </el-collapse-item>\n        </el-collapse>\n        <el-collapse>\n          <el-collapse-item title=\"提取器\" name=\"2\">\n            <el-form label-width=\"60px\">\n              <div v-for=\"(item, index) in extractList\" :key=\"index\">\n                <el-form-item label=\"提取器\">\n                  <el-col :span=\"8\">\n                    <el-input\n                      v-model=\"item.name\"\n                      placeholder=\"变量名\"\n                      style=\"width: 200px\"\n                    />\n                  </el-col>\n                  <el-col class=\"line\" :span=\"2\">-</el-col>\n                  <el-col :span=\"11\">\n                    <el-input\n                      v-model=\"item.value\"\n                      placeholder=\"提取规则\"\n                      style=\"width: 100%\"\n                    />\n                  </el-col>\n                  <el-button\n                    type=\"text\"\n                    style=\"padding-right: 10px\"\n                    @click=\"removeExtract(index)\"\n                  >\n                    <i class=\"el-icon-remove-outline\" />\n                  </el-button>\n                </el-form-item>\n              </div>\n            </el-form>\n            <el-button\n              type=\"primary\"\n              size=\"mini\"\n              icon=\"el-icon-plus\"\n              plain\n              @click=\"addExtract()\"\n            >添加</el-button>\n            <el-button\n              type=\"success\"\n              size=\"mini\"\n              icon=\"el-icon-document-checked\"\n              plain\n              @click=\"checkExtract()\"\n            >检查</el-button>\n          </el-collapse-item>\n        </el-collapse>\n      </div>\n      <div style=\"height: 50px\">\n        <el-input\n          v-model=\"apiForm.name\"\n          placeholder=\"请输入用例名称\"\n          size=\"small\"\n          style=\"width: 60%; float: left\"\n        />\n        <el-button\n          v-if=\"title != '编辑接口'\"\n          type=\"primary\"\n          size=\"small\"\n          style=\"float: left\"\n          :disabled=\"saveFlag\"\n          @click=\"saveTestCase()\"\n        >保存</el-button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport jsonViewer from 'vue-json-viewer'\nimport { debugApi, assertApi, createApi, checkExtract, updateApi } from '@/api/apis'\nimport { apiInfoDetail } from '@/api/infos'\nimport dictDialog from '@/components/Api/dictDialog.vue'\nimport aceCodeEditorDialog from '@/components/HttpRunner/aceCodeEditorDialog'\n\nexport default {\n  name: 'ApiRequest',\n  components: {\n    jsonViewer,\n    dictDialog,\n    aceCodeEditorDialog\n  },\n  props: {\n    title: {\n      type: String,\n      default: null\n    },\n    aid: {\n      type: Number,\n      default: 1\n    }\n  },\n  data() {\n    return {\n      methodOption: [\n        {\n          value: 'get',\n          label: 'GET'\n        },\n        {\n          value: 'post',\n          label: 'POST'\n        },\n        {\n          value: 'put',\n          label: 'PUT'\n        },\n        {\n          value: 'delete',\n          label: 'DELETE'\n        }\n      ],\n      request_path: '',\n      activeName: 'first',\n      paramsType: 1,\n      json: {},\n      response: '',\n      assertType: 'include',\n      apiInfoForm: {\n        url: '',\n        method: '',\n        request_headers: [],\n        request_params: [],\n        request_body: {},\n        response_body: {},\n        assert_type: 'include',\n        assert_text: ''\n      },\n      apiForm: {\n        name: '',\n        module_id: 0,\n        api_path: '',\n        method: 'get',\n        header: [],\n        params_type: 'params',\n        params_body: '',\n        response: '',\n        assert_type: 'include',\n        assert_text: ''\n      },\n      params: [],\n      saveFlag: false,\n      extractList: [],\n      timeLineHeight: '',\n      headerData: [{\n        key: '',\n        value: '',\n        // 是否显示新增按钮\n        show: 'true'\n      }],\n      paramData: [{\n        key: '',\n        value: '',\n        // 是否显示新增按钮\n        show: 'true'\n      }],\n      bodyFlag: false,\n      paramFlag: true,\n      json_body: ''\n    }\n  },\n  mounted() {\n    // 窗口滑动\n    this.timeLineHeight = document.documentElement.clientHeight - 150\n    window.onresize = () => { this.timeLineHeight = document.documentElement.clientHeight - 150 }\n    // 初始化数据\n    this.getApiInfoDetail()\n  },\n  methods: {\n    // 获取一条用例信息\n    async getApiInfoDetail() {\n      const resp = await apiInfoDetail(this.aid)\n      console.info('响应结果：', resp)\n      if (resp.success === true) {\n        // 接口获取数据\n        this.apiInfoForm = resp.result\n        // 将获取到的数据赋值给表单数据\n        this.headerData = resp.result.request_headers\n        // 获取头信息后，添加，是否可展示信息\n        this.headerData[this.headerData.length - 1]['show'] = 'true'\n        this.paramData = resp.result.request_params\n        if (this.paramData.length !== 0) {\n          this.paramData[this.paramData.length - 1]['show'] = 'true'\n        }\n      } else {\n        this.$message.error(resp.error.message)\n      }\n    },\n    getInputJsonBody(value) {\n      this.json_body = value\n    },\n    // 发送请求\n    async sendClick() {\n      // 请求头参数转换\n      const req_header = []\n      for (var i = 0; i < this.headerData.length; i++) {\n        const head = {\n          name: this.headerData[i].name,\n          value: this.headerData[i].value\n        }\n        req_header.push(head)\n      }\n      if (this.apiInfoForm.request_params.length === 0) {\n        this.apiForm.params_type = 'json'\n      } else {\n        this.apiForm.params_type = 'params'\n      }\n      // 入参进行转换\n      const req = {\n        method: this.apiInfoForm.method.toLocaleLowerCase(),\n        url: this.apiInfoForm.url,\n        header: req_header,\n        params_type: this.apiForm.params_type,\n        params_body: this.apiForm.params_type === 'params' ? JSON.stringify(this.paramData) : JSON.stringify(this.json_body)\n      }\n      console.info('req:', req)\n      const resp = await debugApi(req)\n      if (resp.success === true) {\n        this.$message.success('请求成功')\n        this.apiForm.response = JSON.parse(resp.result.response)\n      } else {\n        if (resp.error.code === '10044') {\n          this.$message.error(resp.error.message)\n        }\n        console.log(resp)\n      }\n    },\n    // 接口断言\n    async assertClick() {\n      const req = {\n        response: JSON.stringify(this.apiForm.response),\n        assert_type: this.apiForm.assert_type,\n        assert_text: this.apiForm.assert_text\n      }\n      const resp = await assertApi(req)\n      if (resp.success === true) {\n        this.$message.success('断言成功')\n      } else {\n        this.$message.error('断言失败')\n      }\n    },\n    // 保存用例\n    async saveTestCase() {\n      // 请求头参数转换\n      const req_header = this.dictHeaderData()\n      const req_params = this.dictParamsData()\n      if (this.apiForm.params_type !== 'json') {\n        this.apiForm.params_body = req_params\n      } else {\n        this.apiForm.params_body = this.json_body\n      }\n      this.apiForm.extract_list = this.extractList\n      this.apiForm.header = req_header\n      this.apiForm.response = JSON.stringify(this.apiForm.response)\n      const resp = await createApi(this.apiForm)\n      if (resp.success === true) {\n        this.$message.success('保存成功')\n        this.saveFlag = true\n        // 延时器\n        setTimeout(() => {\n          this.$emit('close')\n          this.$emit('refresh')\n        }, 500)\n      } else {\n        this.$message.error('保存失败')\n      }\n    },\n    // 更新用例\n    async updateTestCase() {\n      // 请求头参数转换\n      const req_header = this.dictHeaderData()\n      const req_params = this.dictParamsData()\n      if (this.apiForm.params_type !== 'json') {\n        this.apiForm.params_body = req_params\n      }\n      this.apiForm.extract_list = this.extractList\n      this.apiForm.header = req_header\n      this.apiForm.response = JSON.stringify(this.apiForm.response)\n      const resp = await updateApi(this.cid, this.apiForm)\n      if (resp.success === true) {\n        this.$message.success('更新成功')\n        this.saveFlag = true\n        // 延时器\n        setTimeout(() => {\n          this.$emit('close')\n          this.$emit('refresh')\n        }, 500)\n      } else {\n        this.$message.error('更新失败')\n      }\n    },\n    // 添加提取规则\n    addExtract() {\n      this.extractList.push({ name: '', value: '' })\n      console.info(this.extractList)\n    },\n    // 删除提取规则\n    removeExtract(index) {\n      this.extractList.splice(index, 1)\n    },\n    // 校验提取规则\n    async checkExtract() {\n      if (this.extractList.length === 0) {\n        this.$message.error('请添加提取器')\n        return\n      }\n      const req = {\n        response: this.apiForm.response,\n        extractList: this.extractList\n      }\n      console.info('断言请求：', req)\n      const resp = await checkExtract(req)\n      if (resp.success === true) {\n        this.$message.success('提取器校验成功')\n      } else {\n        this.$message.error(resp.error.message)\n      }\n    },\n    // 关闭\n    closeDialog() {\n      this.$emit('close')\n    },\n    dictHeaderData() {\n      const req_header = []\n      for (var i = 0; i < this.headerData.length; i++) {\n        const head = {\n          key: this.headerData[i].key,\n          value: this.headerData[i].value\n        }\n        req_header.push(head)\n      }\n      return req_header\n    },\n    dictParamsData() {\n      const req_params = []\n      for (var i = 0; i < this.paramData.length; i++) {\n        const param = {\n          key: this.paramData[i].key,\n          value: this.paramData[i].value\n        }\n        req_params.push(param)\n      }\n      return req_params\n    }\n  }\n}\n</script>\n\n<style>\ndiv.jsoneditor {\n  border: thin solid #ced4da;\n}\ndiv.jsoneditor-menu {\n  display: none;\n}\n.ace-jsoneditor .ace_gutter {\n  background: white;\n}\ndiv.jsoneditor-outer.has-main-menu-bar {\n  margin-top: 0px;\n  padding-top: 0px;\n}\n.per-label {\n  margin-right: 10px;\n  margin-bottom: 4px;\n  font-size: 1rem;\n}\n</style>\n\n<style scoped>\n.debug-button {\n  float: right;\n  margin-right: 20px;\n}\n.div-line {\n  height: auto;\n  width: 100%;\n  text-align: left;\n  margin-bottom: 10px;\n}\n.title-text {\n  font-family: \"Lucida Calligraphy\", cursive, serif, sans-serif;\n  font-size: 18px;\n  font-weight: bolder;\n}\n</style>\n"]}]}