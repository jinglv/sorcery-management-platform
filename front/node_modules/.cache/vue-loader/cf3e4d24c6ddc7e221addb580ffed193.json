{"remainingRequest":"/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvjing/sorcery-management-platform/front/src/components/HttpRunner/httpRunnerCreateApiDialog.vue?vue&type=style&index=0&id=de86a6b2&scoped=true&lang=css&","dependencies":[{"path":"/Users/lvjing/sorcery-management-platform/front/src/components/HttpRunner/httpRunnerCreateApiDialog.vue","mtime":1687688325894},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/css-loader/dist/cjs.js","mtime":1679466708477},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1679466707591},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/postcss-loader/src/index.js","mtime":1679466707836},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1679466716417},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js","mtime":1679466707590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgojaW1hZ2UgewogIHRleHQtYWxpZ246IGxlZnQ7Cn0K"},{"version":3,"sources":["httpRunnerCreateApiDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsIA;AACA;AACA","file":"httpRunnerCreateApiDialog.vue","sourceRoot":"src/components/HttpRunner","sourcesContent":["<template>\n  <el-dialog\n    :title=\"showTitle\"\n    :visible.sync=\"dialogVisible\"\n    width=\"800px\"\n    :before-close=\"closeDialog\"\n  >\n    <el-form\n      ref=\"ruleForm\"\n      class=\"demo-ruleForm\"\n    >\n      <el-form-item>\n        <el-table\n          ref=\"multipleTable\"\n          :data=\"datas\"\n          border\n          style=\"width: 100%\"\n          @select=\"selectionOneApi\"\n          @select-all=\"selectionAllApi\"\n        >\n          <el-table-column type=\"selection\" width=\"55\" />\n          <el-table-column prop=\"id\" label=\"接口ID\" width=\"70\" />\n          <el-table-column prop=\"name\" label=\"接口名称\" width=\"150\" />\n          <el-table-column prop=\"api_path\" label=\"接口地址\" />\n          <el-table-column label=\"httpRunner项目接口名称\">\n            <template slot-scope=\"scope\">\n              <el-input\n                v-model=\"scope.row.value\"\n                :required=\"true\"\n                placeholder=\"请输入httpRunner项目接口名称\"\n              />\n              <span v-if=\"isInputEmpty\" style=\"color: red;\">*接口名称不能为空</span>\n            </template>\n          </el-table-column>>\n        </el-table>\n      </el-form-item>\n      <el-form-item style=\"text-align: right\">\n        <div class=\"dialog-footer\">\n          <el-button @click=\"backDialog()\">返回上一步</el-button>\n          <el-button\n            type=\"primary\"\n            :disabled=\"saveFlag\"\n            @click=\"createHttpRunnerApi\"\n          >创建HttpRunner工程接口</el-button>\n        </div>\n      </el-form-item>\n    </el-form>\n  </el-dialog>\n</template>\n\n<script>\nimport { createHttpRunnerApi } from '@/api/httprunner'\n\nexport default {\n  components: {},\n  props: {\n    datas: {\n      type: Array,\n      default: null\n    },\n    project: {\n      type: Number,\n      default: 0\n    }\n  },\n  data() {\n    return {\n      showTitle: '创建HttpRunner工程接口',\n      dialogVisible: true,\n      httprunner_api_name: '',\n      apiInfoList: [],\n      saveFlag: false\n    }\n  },\n  computed: {\n    isInputEmpty() {\n      // 检查输入框的值是否为空\n      return this.httprunner_api_name.trim() === ''\n    }\n  },\n  mounted() {\n  },\n  methods: {\n    closeDialog() {\n      this.$emit('cancel', {})\n    },\n    backDialog() {\n      this.dialogVisible = false\n      this.$emit('visible', this.dialogVisible)\n    },\n    // 选择所有接口信息\n    selectionAllApi(val) {\n      for (let i = 0; i < val.length; i++) {\n        this.apiInfoList.push({\n          'name': val[i].value,\n          'base_api_id': val[i].id,\n          'httprunner_project_id': this.project\n        })\n        this.httprunner_api_name = val[i].value\n      }\n    },\n    // 选择一条接口\n    selectionOneApi(val) {\n      for (let i = 0; i < val.length; i++) {\n        this.apiInfoList.push({\n          'name': val[i].value,\n          'base_api_id': val[i].id,\n          'httprunner_project_id': this.project\n        })\n        this.httprunner_api_name = val[i].value\n      }\n    },\n    // 创建接口\n    async createHttpRunnerApi() {\n      for (let i = 0; i < this.apiInfoList.length; i++) {\n        const req = this.apiInfoList[i]\n        if (this.isInputEmpty) {\n          // 输入内容为空，显示必填提示，不进行提交操作\n          this.$message.error('请输入接口名称')\n          return\n        }\n        const resp = await createHttpRunnerApi(req)\n        if (resp.success === true) {\n          this.closeDialog()\n          this.$message.success('创建成功！')\n        } else {\n          this.$message.error(resp.error.message)\n        }\n      }\n    }\n  }\n}\n</script>\n<style scoped>\n#image {\n  text-align: left;\n}\n</style>\n"]}]}