{"remainingRequest":"/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvjing/sorcery-management-platform/front/src/components/Infos/yapiApiDetailDialog.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvjing/sorcery-management-platform/front/src/components/Infos/yapiApiDetailDialog.vue","mtime":1691458915568},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1679466716417},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js","mtime":1679466716072},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1679466716417},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js","mtime":1679466707590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldFlhcGlBcGlEZXRhaWwgfSBmcm9tICdAL2FwaS9pbmZvcycKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQXBpRGV0YWlsRGlhbG9nJywKICBmaWx0ZXJzOiB7CiAgICByZXF1aXJlZENvbnRlbnQodmFsdWUpIHsKICAgICAgaWYgKHZhbHVlID09PSAxKSB7CiAgICAgICAgcmV0dXJuICflv4XloasnCiAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09IDApIHsKICAgICAgICByZXR1cm4gJ+mdnuW/heWhqycKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gJ+acquefpeexu+WeiycKICAgICAgfQogICAgfQogIH0sCiAgcHJvcHM6IHsKICAgIGFpZDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDEKICAgIH0sCiAgICB1cmw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIHRva2VuOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJycKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhcGlEZXRhaWxGcm9tOiB7CiAgICAgICAgYXBpX2lkOiAxLAogICAgICAgIHlhcGlfYmFzZV91cmw6ICcnLAogICAgICAgIHlhcGlfdG9rZW46ICcnCiAgICAgIH0sCiAgICAgIGFwaURldGFpbHM6ICcnLAogICAgICBoZWFkZXJzOiBbXSwKICAgICAgYm9keXM6IFtdLAogICAgICByZXNwb25zZXM6IFtdLAogICAgICB0aW1lTGluZUhlaWdodDogJycKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnRpbWVMaW5lSGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCAtIDE1MAogICAgd2luZG93Lm9ucmVzaXplID0gKCkgPT4geyB0aGlzLnRpbWVMaW5lSGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCAtIDE1MCB9CiAgICB0aGlzLmFwaURldGFpbEZyb20uYXBpX2lkID0gdGhpcy5haWQKICAgIHRoaXMuYXBpRGV0YWlsRnJvbS55YXBpX2Jhc2VfdXJsID0gdGhpcy51cmwKICAgIHRoaXMuYXBpRGV0YWlsRnJvbS55YXBpX3Rva2VuID0gdGhpcy50b2tlbgogICAgdGhpcy5nZXRBcGlEZXRhaWwoKQogIH0sCiAgbWV0aG9kczogewogICAgLy8g6I635Y+WWWFwaeaOpeWPo+ivpuaDhQogICAgYXN5bmMgZ2V0QXBpRGV0YWlsKCkgewogICAgICBjb25zdCByZXNwID0gYXdhaXQgZ2V0WWFwaUFwaURldGFpbCh0aGlzLmFwaURldGFpbEZyb20pCiAgICAgIGlmIChyZXNwLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+afpeivouaIkOWKn++8gScpCiAgICAgICAgdGhpcy5hcGlEZXRhaWxzID0gcmVzcC5yZXN1bHQKICAgICAgICB0aGlzLmhlYWRlcnMgPSByZXNwLnJlc3VsdC5oZWFkZXJzCiAgICAgICAgdGhpcy5ib2R5cyA9IHJlc3AucmVzdWx0LnJlcV9ib2R5ID09PSAnJyA/IFtdIDogcmVzcC5yZXN1bHQucmVxX2JvZHkKICAgICAgICB0aGlzLnJlc3BvbnNlcyA9IHJlc3AucmVzdWx0LnJlc19ib2R5CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5p+l6K+i5aSx6LSl77yBJykKICAgICAgfQogICAgfSwKICAgIC8vIOWFs+mXrQogICAgY2xvc2VEaWFsb2coKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJykKICAgIH0KICB9Cn0K"},{"version":3,"sources":["yapiApiDetailDialog.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"yapiApiDetailDialog.vue","sourceRoot":"src/components/Infos","sourcesContent":["<template>\n  <div :style=\"{'max-height': timeLineHeight +'px'}\" style=\"margin-left: 10px; margin-right: 10px; overflow-y:scroll;\">\n    <el-form\n      :data=\"apiDetails\"\n      label-width=\"150px\"\n      class=\"demo-ruleForm\"\n    >\n      <el-form-item label=\"接口名称：\" prop=\"name\">{{ apiDetails.name }}</el-form-item>\n      <el-form-item label=\"接口地址：\" prop=\"url\">{{ apiDetails.path }}</el-form-item>\n      <el-form-item label=\"请求方式：\" prop=\"method\">{{ apiDetails.method }}</el-form-item>\n      <el-form-item label=\"请求头：\">\n        <el-table\n          :data=\"headers\"\n          border\n          style=\"width: 80%\"\n        >\n          <el-table-column\n            prop=\"name\"\n            label=\"请求头名\"\n            width=\"250\"\n          />\n          <el-table-column\n            prop=\"value\"\n            label=\"请求头值\"\n          />\n        </el-table>\n      </el-form-item>\n      <el-form-item label=\"请求主体类型：\" prop=\"method\">{{ apiDetails.req_type }}</el-form-item>\n      <el-form-item label=\"请求参数：\">\n        <el-table\n          :data=\"bodys\"\n          border\n          style=\"width: 80%\"\n        >\n          <el-table-column\n            prop=\"name\"\n            label=\"参数名称\"\n            width=\"180\"\n          />\n          <el-table-column\n            prop=\"type\"\n            label=\"参数值类型\"\n            width=\"180\"\n          />\n          <el-table-column\n            prop=\"description\"\n            label=\"参数说明\"\n            width=\"180\"\n          />\n          <el-table-column\n            prop=\"required\"\n            label=\"是否必填\"\n          >\n            <template slot-scope=\"{ row }\">\n              {{ row.required | requiredContent }}\n            </template>\n          </el-table-column>\n        </el-table>\n      </el-form-item>\n      <el-form-item label=\"响应参数：\">\n        <el-table\n          :data=\"responses\"\n          border\n          style=\"width: 80%\"\n        >\n          <el-table-column\n            prop=\"name\"\n            label=\"响应参数值\"\n            width=\"180\"\n          />\n          <el-table-column\n            prop=\"type\"\n            label=\"响应参数类型\"\n            width=\"180\"\n          />\n          <el-table-column\n            prop=\"description\"\n            label=\"说明\"\n          />\n        </el-table>\n      </el-form-item>\n      <el-form-item style=\"text-align: right\">\n        <el-button @click=\"closeDialog()\">返回</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { getYapiApiDetail } from '@/api/infos'\n\nexport default {\n  name: 'ApiDetailDialog',\n  filters: {\n    requiredContent(value) {\n      if (value === 1) {\n        return '必填'\n      } else if (value === 0) {\n        return '非必填'\n      } else {\n        return '未知类型'\n      }\n    }\n  },\n  props: {\n    aid: {\n      type: Number,\n      default: 1\n    },\n    url: {\n      type: String,\n      default: ''\n    },\n    token: {\n      type: String,\n      default: ''\n    }\n  },\n  data() {\n    return {\n      apiDetailFrom: {\n        api_id: 1,\n        yapi_base_url: '',\n        yapi_token: ''\n      },\n      apiDetails: '',\n      headers: [],\n      bodys: [],\n      responses: [],\n      timeLineHeight: ''\n    }\n  },\n  mounted() {\n    this.timeLineHeight = document.documentElement.clientHeight - 150\n    window.onresize = () => { this.timeLineHeight = document.documentElement.clientHeight - 150 }\n    this.apiDetailFrom.api_id = this.aid\n    this.apiDetailFrom.yapi_base_url = this.url\n    this.apiDetailFrom.yapi_token = this.token\n    this.getApiDetail()\n  },\n  methods: {\n    // 获取Yapi接口详情\n    async getApiDetail() {\n      const resp = await getYapiApiDetail(this.apiDetailFrom)\n      if (resp.success === true) {\n        this.$message.success('查询成功！')\n        this.apiDetails = resp.result\n        this.headers = resp.result.headers\n        this.bodys = resp.result.req_body === '' ? [] : resp.result.req_body\n        this.responses = resp.result.res_body\n      } else {\n        this.$message.error('查询失败！')\n      }\n    },\n    // 关闭\n    closeDialog() {\n      this.$emit('close')\n    }\n  }\n}\n</script>\n"]}]}