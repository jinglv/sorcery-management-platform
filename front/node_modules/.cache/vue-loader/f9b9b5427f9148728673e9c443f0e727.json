{"remainingRequest":"/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lvjing/sorcery-management-platform/front/src/views/dashboard/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lvjing/sorcery-management-platform/front/src/views/dashboard/index.vue","mtime":1690958351434},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1679466716417},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/babel-loader/lib/index.js","mtime":1679466716072},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/cache-loader/dist/cjs.js","mtime":1679466716417},{"path":"/Users/lvjing/sorcery-management-platform/front/node_modules/vue-loader/lib/index.js","mtime":1679466707590}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JwppbXBvcnQgeyBnZXRTdGF0aXN0aWNzTGlzdCwgZ2V0U3RhdGlzdGljc1RvdGFsIH0gZnJvbSAnQC9hcGkvY29tbW9ucycKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRGFzaGJvYXJkJywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3RhdGlzdGljc0RhdGE6IFtdCiAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbCiAgICAgICduYW1lJwogICAgXSkKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXRTdGF0aXN0aWNzTGlzdCgpCiAgICB0aGlzLnN0YXRpc3RpY3NUb3RhbCgpCiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBpbml0U3RhdGlzdGljc0xpc3QoKSB7CiAgICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBnZXRTdGF0aXN0aWNzTGlzdCgpCiAgICAgIGlmIChyZXNwLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICB0aGlzLnN0YXRpc3RpY3NEYXRhID0gcmVzcC5yZXN1bHQKICAgICAgICAvLyB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoIuafpeivouaIkOWKn++8gSIpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5p+l6K+i5aSx6LSl77yBJykKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHN0YXRpc3RpY3NUb3RhbCgpIHsKICAgICAgY29uc3QgcmVzcCA9IGF3YWl0IGdldFN0YXRpc3RpY3NUb3RhbCgpCiAgICAgIGlmIChyZXNwLnN1Y2Nlc3MgPT09IHRydWUpIHsKICAgICAgICBjb25zdCByZXN1bHQgPSByZXNwLnJlc3VsdAogICAgICAgIGNvbnN0IGNhaHJ0c0hyRGF0YSA9IE9iamVjdC5lbnRyaWVzKHJlc3VsdCkubWFwKChbbmFtZSwgdmFsdWVdKSA9PiAoeyB2YWx1ZSwgbmFtZSB9KSkKICAgICAgICB0aGlzLnRvdGFsU3RhdGlzdGljcyhjYWhydHNIckRhdGEpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign5p+l6K+i5aSx6LSl77yBJykKICAgICAgfQogICAgfSwKICAgIHRvdGFsU3RhdGlzdGljcyhjYWhydHNIckRhdGEpIHsKICAgICAgLy8g5Z+65LqO5YeG5aSH5aW955qEZG9t77yM5Yid5aeL5YyWZWNoYXJ0c+WunuS+iwogICAgICB2YXIgY2hhcnREb20gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FocnRzLWhyJykKICAgICAgLy8g57uY5Yi25Zu+5qCHCiAgICAgIHZhciBteUNoYXJ0ID0gdGhpcy4kZWNoYXJ0cy5pbml0KGNoYXJ0RG9tKQogICAgICB2YXIgb3B0aW9uCiAgICAgIG9wdGlvbiA9IHsKICAgICAgICB0aXRsZTogeyAvLyDnu4Tku7bmoIfpopgKICAgICAgICAgIHRleHQ6ICdIdHRwUnVubmVy5oC75pWw57uf6K6hJywKICAgICAgICAgIHN1YnRleHQ6ICdGYWtlIERhdGEnLAogICAgICAgICAgbGVmdDogJ2NlbnRlcicKICAgICAgICB9LAogICAgICAgIHRvb2x0aXA6IHsgLy8g5o+Q56S657uE5Lu2CiAgICAgICAgICB0cmlnZ2VyOiAnaXRlbScKICAgICAgICB9LAogICAgICAgIGxlZ2VuZDogewogICAgICAgICAgb3JpZW50OiAndmVydGljYWwnLAogICAgICAgICAgbGVmdDogJ2xlZnQnCiAgICAgICAgfSwKICAgICAgICBzZXJpZXM6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgbmFtZTogJ+aAu+aVsCcsCiAgICAgICAgICAgIHR5cGU6ICdwaWUnLAogICAgICAgICAgICByYWRpdXM6ICc1MCUnLAogICAgICAgICAgICBkYXRhOiBjYWhydHNIckRhdGEsCiAgICAgICAgICAgIGVtcGhhc2lzOiB7CiAgICAgICAgICAgICAgaXRlbVN0eWxlOiB7CiAgICAgICAgICAgICAgICBzaGFkb3dCbHVyOiAxMCwKICAgICAgICAgICAgICAgIHNoYWRvd09mZnNldFg6IDAsCiAgICAgICAgICAgICAgICBzaGFkb3dDb2xvcjogJ3JnYmEoMCwgMCwgMCwgMC41KScKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIH0KICAgICAgb3B0aW9uICYmIG15Q2hhcnQuc2V0T3B0aW9uKG9wdGlvbikKICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4GA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/dashboard","sourcesContent":["<template>\n  <div class=\"dashboard-container\">\n    <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\n      <el-col :span=\"20\">\n        <span class=\"title\">HttpRunner项目统计</span>\n        <div style=\"margin-top: 5px;\">\n          <el-table\n            :data=\"statisticsData\"\n            height=\"250\"\n            border\n            style=\"width: 90%\"\n          >\n            <el-table-column\n              prop=\"project_name\"\n              label=\"项目名称\"\n              width=\"200\"\n            />\n            <el-table-column\n              prop=\"apis_count\"\n              label=\"Apis总数\"\n              width=\"150\"\n            />\n            <el-table-column\n              prop=\"test_cases_count\"\n              label=\"TestCase总数\"\n              width=\"150\"\n            />\n            <el-table-column\n              prop=\"test_suite_count\"\n              label=\"TestSuite总数\"\n            />\n          </el-table>\n        </div>\n      </el-col>\n      <el-col :span=\"20\">\n        <div style=\"margin-top: 5px;\">\n          <div id=\"cahrts-hr\" style=\"width: 100%;height: 250px;\" />\n        </div>\n      </el-col>\n    </el-row>\n    <el-row type=\"flex\" class=\"row-bg\" justify=\"space-between\">\n      <el-col :span=\"20\">\n        <span class=\"title\">项目统计</span>\n        <div style=\"margin-top: 5px;\">\n          <el-table\n            :data=\"statisticsData\"\n            height=\"250\"\n            border\n            style=\"width: 90%\"\n          >\n            <el-table-column\n              prop=\"project_name\"\n              label=\"项目名称\"\n              width=\"200\"\n            />\n            <el-table-column\n              prop=\"apis_count\"\n              label=\"Apis总数\"\n              width=\"150\"\n            />\n            <el-table-column\n              prop=\"test_cases_count\"\n              label=\"TestCase总数\"\n              width=\"150\"\n            />\n            <el-table-column\n              prop=\"test_suite_count\"\n              label=\"TestSuite总数\"\n            />\n          </el-table>\n        </div>\n      </el-col>\n      <el-col :span=\"20\">\n        <div style=\"margin-top: 5px;\">\n          <span class=\"title\">测试执行统计</span>\n          <el-table\n            :data=\"statisticsData\"\n            height=\"250\"\n            border\n            style=\"width: 90%\"\n          >\n            <el-table-column\n              prop=\"project_name\"\n              label=\"项目名称\"\n              width=\"180\"\n            />\n            <el-table-column\n              prop=\"apis_count\"\n              label=\"Apis总数\"\n              width=\"120\"\n            />\n            <el-table-column\n              prop=\"test_cases_count\"\n              label=\"TestCase总数\"\n              width=\"120\"\n            />\n            <el-table-column\n              prop=\"test_suite_count\"\n              label=\"TestSuite总数\"\n            />\n          </el-table>\n        </div>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport { getStatisticsList, getStatisticsTotal } from '@/api/commons'\n\nexport default {\n  name: 'Dashboard',\n  data() {\n    return {\n      statisticsData: []\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'name'\n    ])\n  },\n  mounted() {\n    this.initStatisticsList()\n    this.statisticsTotal()\n  },\n  methods: {\n    async initStatisticsList() {\n      const resp = await getStatisticsList()\n      if (resp.success === true) {\n        this.statisticsData = resp.result\n        // this.$message.success(\"查询成功！\")\n      } else {\n        this.$message.error('查询失败！')\n      }\n    },\n    async statisticsTotal() {\n      const resp = await getStatisticsTotal()\n      if (resp.success === true) {\n        const result = resp.result\n        const cahrtsHrData = Object.entries(result).map(([name, value]) => ({ value, name }))\n        this.totalStatistics(cahrtsHrData)\n      } else {\n        this.$message.error('查询失败！')\n      }\n    },\n    totalStatistics(cahrtsHrData) {\n      // 基于准备好的dom，初始化echarts实例\n      var chartDom = document.getElementById('cahrts-hr')\n      // 绘制图标\n      var myChart = this.$echarts.init(chartDom)\n      var option\n      option = {\n        title: { // 组件标题\n          text: 'HttpRunner总数统计',\n          subtext: 'Fake Data',\n          left: 'center'\n        },\n        tooltip: { // 提示组件\n          trigger: 'item'\n        },\n        legend: {\n          orient: 'vertical',\n          left: 'left'\n        },\n        series: [\n          {\n            name: '总数',\n            type: 'pie',\n            radius: '50%',\n            data: cahrtsHrData,\n            emphasis: {\n              itemStyle: {\n                shadowBlur: 10,\n                shadowOffsetX: 0,\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\n              }\n            }\n          }\n        ]\n      }\n      option && myChart.setOption(option)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.dashboard {\n  &-container {\n    margin: 30px;\n  }\n  &-text {\n    font-size: 30px;\n    line-height: 46px;\n  }\n}\n\n.dashboard-backgroud {\n  text-align: center;\n}\n.el-row {\n    margin-bottom: 20px;\n    &:last-child {\n      margin-bottom: 0;\n    }\n  }\n  .el-col {\n    border-radius: 4px;\n  }\n.title {\n  font-family: \"Lucida Calligraphy\", cursive, serif, sans-serif;\n  font-size: 20px;\n  font-weight: bolder;\n}\n</style>\n"]}]}